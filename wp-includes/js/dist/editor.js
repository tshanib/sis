(function(){var __webpack_modules__=({6411:(function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
autosize 4.0.4
license: MIT
http://www.jacklmoore.com/autosize
*/(function(global,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[module,exports],__WEBPACK_AMD_DEFINE_FACTORY__=(factory),__WEBPACK_AMD_DEFINE_RESULT__=(typeof __WEBPACK_AMD_DEFINE_FACTORY__==='function'?(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__)):__WEBPACK_AMD_DEFINE_FACTORY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else{var mod;}})(this,function(module,exports){'use strict';var map=typeof Map==="function"?new Map():function(){var keys=[];var values=[];return{has:function has(key){return keys.indexOf(key)>-1;},get:function get(key){return values[keys.indexOf(key)];},set:function set(key,value){if(keys.indexOf(key)===-1){keys.push(key);values.push(value);}},delete:function _delete(key){var index=keys.indexOf(key);if(index>-1){keys.splice(index,1);values.splice(index,1);}}};}();var createEvent=function createEvent(name){return new Event(name,{bubbles:true});};try{new Event('test');}catch(e){createEvent=function createEvent(name){var evt=document.createEvent('Event');evt.initEvent(name,true,false);return evt;};}
function assign(ta){if(!ta||!ta.nodeName||ta.nodeName!=='TEXTAREA'||map.has(ta))return;var heightOffset=null;var clientWidth=null;var cachedHeight=null;function init(){var style=window.getComputedStyle(ta,null);if(style.resize==='vertical'){ta.style.resize='none';}else if(style.resize==='both'){ta.style.resize='horizontal';}
if(style.boxSizing==='content-box'){heightOffset=-(parseFloat(style.paddingTop)+parseFloat(style.paddingBottom));}else{heightOffset=parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth);}
if(isNaN(heightOffset)){heightOffset=0;}
update();}
function changeOverflow(value){{var width=ta.style.width;ta.style.width='0px';ta.offsetWidth;ta.style.width=width;}
ta.style.overflowY=value;}
function getParentOverflows(el){var arr=[];while(el&&el.parentNode&&el.parentNode instanceof Element){if(el.parentNode.scrollTop){arr.push({node:el.parentNode,scrollTop:el.parentNode.scrollTop});}
el=el.parentNode;}
return arr;}
function resize(){if(ta.scrollHeight===0){return;}
var overflows=getParentOverflows(ta);var docTop=document.documentElement&&document.documentElement.scrollTop;ta.style.height='';ta.style.height=ta.scrollHeight+heightOffset+'px';clientWidth=ta.clientWidth;overflows.forEach(function(el){el.node.scrollTop=el.scrollTop;});if(docTop){document.documentElement.scrollTop=docTop;}}
function update(){resize();var styleHeight=Math.round(parseFloat(ta.style.height));var computed=window.getComputedStyle(ta,null);var actualHeight=computed.boxSizing==='content-box'?Math.round(parseFloat(computed.height)):ta.offsetHeight;if(actualHeight<styleHeight){if(computed.overflowY==='hidden'){changeOverflow('scroll');resize();actualHeight=computed.boxSizing==='content-box'?Math.round(parseFloat(window.getComputedStyle(ta,null).height)):ta.offsetHeight;}}else{if(computed.overflowY!=='hidden'){changeOverflow('hidden');resize();actualHeight=computed.boxSizing==='content-box'?Math.round(parseFloat(window.getComputedStyle(ta,null).height)):ta.offsetHeight;}}
if(cachedHeight!==actualHeight){cachedHeight=actualHeight;var evt=createEvent('autosize:resized');try{ta.dispatchEvent(evt);}catch(err){}}}
var pageResize=function pageResize(){if(ta.clientWidth!==clientWidth){update();}};var destroy=function(style){window.removeEventListener('resize',pageResize,false);ta.removeEventListener('input',update,false);ta.removeEventListener('keyup',update,false);ta.removeEventListener('autosize:destroy',destroy,false);ta.removeEventListener('autosize:update',update,false);Object.keys(style).forEach(function(key){ta.style[key]=style[key];});map.delete(ta);}.bind(ta,{height:ta.style.height,resize:ta.style.resize,overflowY:ta.style.overflowY,overflowX:ta.style.overflowX,wordWrap:ta.style.wordWrap});ta.addEventListener('autosize:destroy',destroy,false);if('onpropertychange'in ta&&'oninput'in ta){ta.addEventListener('keyup',update,false);}
window.addEventListener('resize',pageResize,false);ta.addEventListener('input',update,false);ta.addEventListener('autosize:update',update,false);ta.style.overflowX='hidden';ta.style.wordWrap='break-word';map.set(ta,{destroy:destroy,update:update});init();}
function destroy(ta){var methods=map.get(ta);if(methods){methods.destroy();}}
function update(ta){var methods=map.get(ta);if(methods){methods.update();}}
var autosize=null;if(typeof window==='undefined'||typeof window.getComputedStyle!=='function'){autosize=function autosize(el){return el;};autosize.destroy=function(el){return el;};autosize.update=function(el){return el;};}else{autosize=function autosize(el,options){if(el){Array.prototype.forEach.call(el.length?el:[el],function(x){return assign(x,options);});}
return el;};autosize.destroy=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],destroy);}
return el;};autosize.update=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],update);}
return el;};}
exports.default=autosize;module.exports=exports['default'];});}),4403:(function(module,exports){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
Copyright (c) 2018 Jed Watson.
Licensed under the MIT License (MIT), see
http://jedwatson.github.io/classnames
*/(function(){'use strict';var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==='string'||argType==='number'){classes.push(arg);}else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner);}}}else if(argType==='object'){if(arg.toString===Object.prototype.toString){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key);}}}else{classes.push(arg.toString());}}}
return classes.join(' ');}
if(true&&module.exports){classNames.default=classNames;module.exports=classNames;}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=(function(){return classNames;}).apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else{}}());}),4827:(function(module){var computedStyle=function(el,prop,getComputedStyle){getComputedStyle=window.getComputedStyle;return(getComputedStyle?getComputedStyle(el):el.currentStyle)[prop.replace(/-(\w)/gi,function(word,letter){return letter.toUpperCase();})];};module.exports=computedStyle;}),9894:(function(module,__unused_webpack_exports,__webpack_require__){var computedStyle=__webpack_require__(4827);function lineHeight(node){var lnHeightStr=computedStyle(node,'line-height');var lnHeight=parseFloat(lnHeightStr,10);if(lnHeightStr===lnHeight+''){var _lnHeightStyle=node.style.lineHeight;node.style.lineHeight=lnHeightStr+'em';lnHeightStr=computedStyle(node,'line-height');lnHeight=parseFloat(lnHeightStr,10);if(_lnHeightStyle){node.style.lineHeight=_lnHeightStyle;}else{delete node.style.lineHeight;}}
if(lnHeightStr.indexOf('pt')!==-1){lnHeight*=4;lnHeight/=3;}else if(lnHeightStr.indexOf('mm')!==-1){lnHeight*=96;lnHeight/=25.4;}else if(lnHeightStr.indexOf('cm')!==-1){lnHeight*=96;lnHeight/=2.54;}else if(lnHeightStr.indexOf('in')!==-1){lnHeight*=96;}else if(lnHeightStr.indexOf('pc')!==-1){lnHeight*=16;}
lnHeight=Math.round(lnHeight);if(lnHeightStr==='normal'){var nodeName=node.nodeName;var _node=document.createElement(nodeName);_node.innerHTML='&nbsp;';if(nodeName.toUpperCase()==='TEXTAREA'){_node.setAttribute('rows','1');}
var fontSizeStr=computedStyle(node,'font-size');_node.style.fontSize=fontSizeStr;_node.style.padding='0px';_node.style.border='0px';var body=document.body;body.appendChild(_node);var height=_node.offsetHeight;lnHeight=height;body.removeChild(_node);}
return lnHeight;}
module.exports=lineHeight;}),5372:(function(module,__unused_webpack_exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(9567);function emptyFunction(){}
function emptyFunctionWithReset(){}
emptyFunctionWithReset.resetWarningCache=emptyFunction;module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return;}
var err=new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. '+
'Use PropTypes.checkPropTypes() to call them. '+
'Read more at http://fb.me/use-check-prop-types');err.name='Invariant Violation';throw err;};shim.isRequired=shim;function getShim(){return shim;};var ReactPropTypes={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes;};}),2652:(function(module,__unused_webpack_exports,__webpack_require__){if(false){var throwOnDirectAccess,ReactIs;}else{module.exports=__webpack_require__(5372)();}}),9567:(function(module){"use strict";var ReactPropTypesSecret='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';module.exports=ReactPropTypesSecret;}),5438:(function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var __assign=(this&&this.__assign)||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};var __rest=(this&&this.__rest)||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)
t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")
for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)if(e.indexOf(p[i])<0)
t[p[i]]=s[p[i]];return t;};exports.__esModule=true;var React=__webpack_require__(9196);var PropTypes=__webpack_require__(2652);var autosize=__webpack_require__(6411);var _getLineHeight=__webpack_require__(9894);var getLineHeight=_getLineHeight;var RESIZED="autosize:resized";var TextareaAutosizeClass=(function(_super){__extends(TextareaAutosizeClass,_super);function TextareaAutosizeClass(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.state={lineHeight:null};_this.textarea=null;_this.onResize=function(e){if(_this.props.onResize){_this.props.onResize(e);}};_this.updateLineHeight=function(){if(_this.textarea){_this.setState({lineHeight:getLineHeight(_this.textarea)});}};_this.onChange=function(e){var onChange=_this.props.onChange;_this.currentValue=e.currentTarget.value;onChange&&onChange(e);};return _this;}
TextareaAutosizeClass.prototype.componentDidMount=function(){var _this=this;var _a=this.props,maxRows=_a.maxRows,async=_a.async;if(typeof maxRows==="number"){this.updateLineHeight();}
if(typeof maxRows==="number"||async){setTimeout(function(){return _this.textarea&&autosize(_this.textarea);});}
else{this.textarea&&autosize(this.textarea);}
if(this.textarea){this.textarea.addEventListener(RESIZED,this.onResize);}};TextareaAutosizeClass.prototype.componentWillUnmount=function(){if(this.textarea){this.textarea.removeEventListener(RESIZED,this.onResize);autosize.destroy(this.textarea);}};TextareaAutosizeClass.prototype.render=function(){var _this=this;var _a=this,_b=_a.props,onResize=_b.onResize,maxRows=_b.maxRows,onChange=_b.onChange,style=_b.style,innerRef=_b.innerRef,children=_b.children,props=__rest(_b,["onResize","maxRows","onChange","style","innerRef","children"]),lineHeight=_a.state.lineHeight;var maxHeight=maxRows&&lineHeight?lineHeight*maxRows:null;return(React.createElement("textarea",__assign({},props,{onChange:this.onChange,style:maxHeight?__assign({},style,{maxHeight:maxHeight}):style,ref:function(element){_this.textarea=element;if(typeof _this.props.innerRef==='function'){_this.props.innerRef(element);}
else if(_this.props.innerRef){_this.props.innerRef.current=element;}}}),children));};TextareaAutosizeClass.prototype.componentDidUpdate=function(){this.textarea&&autosize.update(this.textarea);};TextareaAutosizeClass.defaultProps={rows:1,async:false};TextareaAutosizeClass.propTypes={rows:PropTypes.number,maxRows:PropTypes.number,onResize:PropTypes.func,innerRef:PropTypes.any,async:PropTypes.bool};return TextareaAutosizeClass;}(React.Component));exports.TextareaAutosize=React.forwardRef(function(props,ref){return React.createElement(TextareaAutosizeClass,__assign({},props,{innerRef:ref}));});}),773:(function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __webpack_unused_export__;__webpack_unused_export__=true;var TextareaAutosize_1=__webpack_require__(5438);exports.Z=TextareaAutosize_1.TextareaAutosize;}),9196:(function(module){"use strict";module.exports=window["React"];})});var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports;}
var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__);return module.exports;}
!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module['default'];}:function(){return module;};__webpack_require__.d(getter,{a:getter});return getter;};}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]});}}};}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}}();!function(){__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};}();var __webpack_exports__={};!function(){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"AlignmentToolbar":function(){return AlignmentToolbar;},"Autocomplete":function(){return Autocomplete;},"AutosaveMonitor":function(){return autosave_monitor;},"BlockAlignmentToolbar":function(){return BlockAlignmentToolbar;},"BlockControls":function(){return BlockControls;},"BlockEdit":function(){return BlockEdit;},"BlockEditorKeyboardShortcuts":function(){return BlockEditorKeyboardShortcuts;},"BlockFormatControls":function(){return BlockFormatControls;},"BlockIcon":function(){return BlockIcon;},"BlockInspector":function(){return BlockInspector;},"BlockList":function(){return BlockList;},"BlockMover":function(){return BlockMover;},"BlockNavigationDropdown":function(){return BlockNavigationDropdown;},"BlockSelectionClearer":function(){return BlockSelectionClearer;},"BlockSettingsMenu":function(){return BlockSettingsMenu;},"BlockTitle":function(){return BlockTitle;},"BlockToolbar":function(){return BlockToolbar;},"ColorPalette":function(){return ColorPalette;},"ContrastChecker":function(){return ContrastChecker;},"CopyHandler":function(){return CopyHandler;},"DefaultBlockAppender":function(){return DefaultBlockAppender;},"DocumentOutline":function(){return document_outline;},"DocumentOutlineCheck":function(){return check;},"EditorHistoryRedo":function(){return editor_history_redo;},"EditorHistoryUndo":function(){return editor_history_undo;},"EditorKeyboardShortcutsRegister":function(){return register_shortcuts;},"EditorNotices":function(){return editor_notices;},"EditorProvider":function(){return provider;},"EditorSnackbars":function(){return EditorSnackbars;},"EntitiesSavedStates":function(){return EntitiesSavedStates;},"ErrorBoundary":function(){return error_boundary;},"FontSizePicker":function(){return FontSizePicker;},"InnerBlocks":function(){return InnerBlocks;},"Inserter":function(){return Inserter;},"InspectorAdvancedControls":function(){return InspectorAdvancedControls;},"InspectorControls":function(){return InspectorControls;},"LocalAutosaveMonitor":function(){return local_autosave_monitor;},"MediaPlaceholder":function(){return MediaPlaceholder;},"MediaUpload":function(){return MediaUpload;},"MediaUploadCheck":function(){return MediaUploadCheck;},"MultiSelectScrollIntoView":function(){return MultiSelectScrollIntoView;},"NavigableToolbar":function(){return NavigableToolbar;},"ObserveTyping":function(){return ObserveTyping;},"PageAttributesCheck":function(){return page_attributes_check;},"PageAttributesOrder":function(){return order;},"PageAttributesParent":function(){return page_attributes_parent;},"PageTemplate":function(){return post_template;},"PanelColorSettings":function(){return PanelColorSettings;},"PlainText":function(){return PlainText;},"PostAuthor":function(){return post_author;},"PostAuthorCheck":function(){return PostAuthorCheck;},"PostComments":function(){return post_comments;},"PostExcerpt":function(){return post_excerpt;},"PostExcerptCheck":function(){return post_excerpt_check;},"PostFeaturedImage":function(){return post_featured_image;},"PostFeaturedImageCheck":function(){return post_featured_image_check;},"PostFormat":function(){return PostFormat;},"PostFormatCheck":function(){return post_format_check;},"PostLastRevision":function(){return post_last_revision;},"PostLastRevisionCheck":function(){return post_last_revision_check;},"PostLockedModal":function(){return PostLockedModal;},"PostPendingStatus":function(){return post_pending_status;},"PostPendingStatusCheck":function(){return post_pending_status_check;},"PostPingbacks":function(){return post_pingbacks;},"PostPreviewButton":function(){return post_preview_button;},"PostPublishButton":function(){return post_publish_button;},"PostPublishButtonLabel":function(){return label;},"PostPublishPanel":function(){return post_publish_panel;},"PostSavedState":function(){return PostSavedState;},"PostSchedule":function(){return PostSchedule;},"PostScheduleCheck":function(){return post_schedule_check;},"PostScheduleLabel":function(){return post_schedule_label;},"PostSlug":function(){return post_slug;},"PostSlugCheck":function(){return PostSlugCheck;},"PostSticky":function(){return post_sticky;},"PostStickyCheck":function(){return post_sticky_check;},"PostSwitchToDraftButton":function(){return post_switch_to_draft_button;},"PostTaxonomies":function(){return post_taxonomies;},"PostTaxonomiesCheck":function(){return post_taxonomies_check;},"PostTaxonomiesFlatTermSelector":function(){return flat_term_selector;},"PostTaxonomiesHierarchicalTermSelector":function(){return hierarchical_term_selector;},"PostTextEditor":function(){return PostTextEditor;},"PostTitle":function(){return PostTitle;},"PostTrash":function(){return PostTrash;},"PostTrashCheck":function(){return post_trash_check;},"PostTypeSupportCheck":function(){return post_type_support_check;},"PostVisibility":function(){return post_visibility;},"PostVisibilityCheck":function(){return post_visibility_check;},"PostVisibilityLabel":function(){return post_visibility_label;},"RichText":function(){return RichText;},"RichTextShortcut":function(){return RichTextShortcut;},"RichTextToolbarButton":function(){return RichTextToolbarButton;},"ServerSideRender":function(){return(external_wp_serverSideRender_default());},"SkipToSelectedBlock":function(){return SkipToSelectedBlock;},"TableOfContents":function(){return table_of_contents;},"TextEditorGlobalKeyboardShortcuts":function(){return TextEditorGlobalKeyboardShortcuts;},"ThemeSupportCheck":function(){return theme_support_check;},"URLInput":function(){return URLInput;},"URLInputButton":function(){return URLInputButton;},"URLPopover":function(){return URLPopover;},"UnsavedChangesWarning":function(){return UnsavedChangesWarning;},"VisualEditorGlobalKeyboardShortcuts":function(){return visual_editor_shortcuts;},"Warning":function(){return Warning;},"WordCount":function(){return WordCount;},"WritingFlow":function(){return WritingFlow;},"__unstableRichTextInputEvent":function(){return __unstableRichTextInputEvent;},"cleanForSlug":function(){return cleanForSlug;},"createCustomColorsHOC":function(){return createCustomColorsHOC;},"getColorClassName":function(){return getColorClassName;},"getColorObjectByAttributeValues":function(){return getColorObjectByAttributeValues;},"getColorObjectByColorValue":function(){return getColorObjectByColorValue;},"getFontSize":function(){return getFontSize;},"getFontSizeClass":function(){return getFontSizeClass;},"getTemplatePartIcon":function(){return getTemplatePartIcon;},"mediaUpload":function(){return mediaUpload;},"store":function(){return store_store;},"storeConfig":function(){return storeConfig;},"transformStyles":function(){return external_wp_blockEditor_namespaceObject.transformStyles;},"userAutocompleter":function(){return user;},"withColorContext":function(){return withColorContext;},"withColors":function(){return withColors;},"withFontSizes":function(){return withFontSizes;}});var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject);__webpack_require__.d(selectors_namespaceObject,{"__experimentalGetDefaultTemplatePartAreas":function(){return __experimentalGetDefaultTemplatePartAreas;},"__experimentalGetDefaultTemplateType":function(){return __experimentalGetDefaultTemplateType;},"__experimentalGetDefaultTemplateTypes":function(){return __experimentalGetDefaultTemplateTypes;},"__experimentalGetTemplateInfo":function(){return __experimentalGetTemplateInfo;},"__unstableIsEditorReady":function(){return __unstableIsEditorReady;},"canInsertBlockType":function(){return canInsertBlockType;},"canUserUseUnfilteredHTML":function(){return canUserUseUnfilteredHTML;},"didPostSaveRequestFail":function(){return didPostSaveRequestFail;},"didPostSaveRequestSucceed":function(){return didPostSaveRequestSucceed;},"getActivePostLock":function(){return getActivePostLock;},"getAdjacentBlockClientId":function(){return getAdjacentBlockClientId;},"getAutosaveAttribute":function(){return getAutosaveAttribute;},"getBlock":function(){return getBlock;},"getBlockAttributes":function(){return getBlockAttributes;},"getBlockCount":function(){return getBlockCount;},"getBlockHierarchyRootClientId":function(){return getBlockHierarchyRootClientId;},"getBlockIndex":function(){return getBlockIndex;},"getBlockInsertionPoint":function(){return getBlockInsertionPoint;},"getBlockListSettings":function(){return getBlockListSettings;},"getBlockMode":function(){return getBlockMode;},"getBlockName":function(){return getBlockName;},"getBlockOrder":function(){return getBlockOrder;},"getBlockRootClientId":function(){return getBlockRootClientId;},"getBlockSelectionEnd":function(){return getBlockSelectionEnd;},"getBlockSelectionStart":function(){return getBlockSelectionStart;},"getBlocks":function(){return getBlocks;},"getBlocksByClientId":function(){return getBlocksByClientId;},"getClientIdsOfDescendants":function(){return getClientIdsOfDescendants;},"getClientIdsWithDescendants":function(){return getClientIdsWithDescendants;},"getCurrentPost":function(){return getCurrentPost;},"getCurrentPostAttribute":function(){return getCurrentPostAttribute;},"getCurrentPostId":function(){return getCurrentPostId;},"getCurrentPostLastRevisionId":function(){return getCurrentPostLastRevisionId;},"getCurrentPostRevisionsCount":function(){return getCurrentPostRevisionsCount;},"getCurrentPostType":function(){return getCurrentPostType;},"getEditedPostAttribute":function(){return getEditedPostAttribute;},"getEditedPostContent":function(){return getEditedPostContent;},"getEditedPostPreviewLink":function(){return getEditedPostPreviewLink;},"getEditedPostSlug":function(){return getEditedPostSlug;},"getEditedPostVisibility":function(){return getEditedPostVisibility;},"getEditorBlocks":function(){return getEditorBlocks;},"getEditorSelection":function(){return getEditorSelection;},"getEditorSelectionEnd":function(){return getEditorSelectionEnd;},"getEditorSelectionStart":function(){return getEditorSelectionStart;},"getEditorSettings":function(){return getEditorSettings;},"getFirstMultiSelectedBlockClientId":function(){return getFirstMultiSelectedBlockClientId;},"getGlobalBlockCount":function(){return getGlobalBlockCount;},"getInserterItems":function(){return getInserterItems;},"getLastMultiSelectedBlockClientId":function(){return getLastMultiSelectedBlockClientId;},"getMultiSelectedBlockClientIds":function(){return getMultiSelectedBlockClientIds;},"getMultiSelectedBlocks":function(){return getMultiSelectedBlocks;},"getMultiSelectedBlocksEndClientId":function(){return getMultiSelectedBlocksEndClientId;},"getMultiSelectedBlocksStartClientId":function(){return getMultiSelectedBlocksStartClientId;},"getNextBlockClientId":function(){return getNextBlockClientId;},"getPermalink":function(){return getPermalink;},"getPermalinkParts":function(){return getPermalinkParts;},"getPostEdits":function(){return getPostEdits;},"getPostLockUser":function(){return getPostLockUser;},"getPostTypeLabel":function(){return getPostTypeLabel;},"getPreviousBlockClientId":function(){return getPreviousBlockClientId;},"getSelectedBlock":function(){return getSelectedBlock;},"getSelectedBlockClientId":function(){return getSelectedBlockClientId;},"getSelectedBlockCount":function(){return getSelectedBlockCount;},"getSelectedBlocksInitialCaretPosition":function(){return getSelectedBlocksInitialCaretPosition;},"getStateBeforeOptimisticTransaction":function(){return getStateBeforeOptimisticTransaction;},"getSuggestedPostFormat":function(){return getSuggestedPostFormat;},"getTemplate":function(){return getTemplate;},"getTemplateLock":function(){return getTemplateLock;},"hasChangedContent":function(){return hasChangedContent;},"hasEditorRedo":function(){return hasEditorRedo;},"hasEditorUndo":function(){return hasEditorUndo;},"hasInserterItems":function(){return hasInserterItems;},"hasMultiSelection":function(){return hasMultiSelection;},"hasNonPostEntityChanges":function(){return hasNonPostEntityChanges;},"hasSelectedBlock":function(){return hasSelectedBlock;},"hasSelectedInnerBlock":function(){return hasSelectedInnerBlock;},"inSomeHistory":function(){return inSomeHistory;},"isAncestorMultiSelected":function(){return isAncestorMultiSelected;},"isAutosavingPost":function(){return isAutosavingPost;},"isBlockInsertionPointVisible":function(){return isBlockInsertionPointVisible;},"isBlockMultiSelected":function(){return isBlockMultiSelected;},"isBlockSelected":function(){return isBlockSelected;},"isBlockValid":function(){return isBlockValid;},"isBlockWithinSelection":function(){return isBlockWithinSelection;},"isCaretWithinFormattedText":function(){return isCaretWithinFormattedText;},"isCleanNewPost":function(){return isCleanNewPost;},"isCurrentPostPending":function(){return isCurrentPostPending;},"isCurrentPostPublished":function(){return isCurrentPostPublished;},"isCurrentPostScheduled":function(){return isCurrentPostScheduled;},"isEditedPostAutosaveable":function(){return isEditedPostAutosaveable;},"isEditedPostBeingScheduled":function(){return isEditedPostBeingScheduled;},"isEditedPostDateFloating":function(){return isEditedPostDateFloating;},"isEditedPostDirty":function(){return isEditedPostDirty;},"isEditedPostEmpty":function(){return isEditedPostEmpty;},"isEditedPostNew":function(){return isEditedPostNew;},"isEditedPostPublishable":function(){return isEditedPostPublishable;},"isEditedPostSaveable":function(){return isEditedPostSaveable;},"isFirstMultiSelectedBlock":function(){return isFirstMultiSelectedBlock;},"isMultiSelecting":function(){return isMultiSelecting;},"isPermalinkEditable":function(){return isPermalinkEditable;},"isPostAutosavingLocked":function(){return isPostAutosavingLocked;},"isPostLockTakeover":function(){return isPostLockTakeover;},"isPostLocked":function(){return isPostLocked;},"isPostSavingLocked":function(){return isPostSavingLocked;},"isPreviewingPost":function(){return isPreviewingPost;},"isPublishSidebarEnabled":function(){return isPublishSidebarEnabled;},"isPublishingPost":function(){return isPublishingPost;},"isSavingNonPostEntityChanges":function(){return isSavingNonPostEntityChanges;},"isSavingPost":function(){return isSavingPost;},"isSelectionEnabled":function(){return isSelectionEnabled;},"isTyping":function(){return isTyping;},"isValidTemplate":function(){return isValidTemplate;}});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject);__webpack_require__.d(actions_namespaceObject,{"__experimentalTearDownEditor":function(){return __experimentalTearDownEditor;},"autosave":function(){return autosave;},"clearSelectedBlock":function(){return clearSelectedBlock;},"createUndoLevel":function(){return createUndoLevel;},"disablePublishSidebar":function(){return disablePublishSidebar;},"editPost":function(){return editPost;},"enablePublishSidebar":function(){return enablePublishSidebar;},"enterFormattedText":function(){return enterFormattedText;},"exitFormattedText":function(){return exitFormattedText;},"hideInsertionPoint":function(){return hideInsertionPoint;},"insertBlock":function(){return insertBlock;},"insertBlocks":function(){return insertBlocks;},"insertDefaultBlock":function(){return insertDefaultBlock;},"lockPostAutosaving":function(){return lockPostAutosaving;},"lockPostSaving":function(){return lockPostSaving;},"mergeBlocks":function(){return mergeBlocks;},"moveBlockToPosition":function(){return moveBlockToPosition;},"moveBlocksDown":function(){return moveBlocksDown;},"moveBlocksUp":function(){return moveBlocksUp;},"multiSelect":function(){return multiSelect;},"receiveBlocks":function(){return receiveBlocks;},"redo":function(){return redo;},"refreshPost":function(){return refreshPost;},"removeBlock":function(){return removeBlock;},"removeBlocks":function(){return removeBlocks;},"replaceBlock":function(){return replaceBlock;},"replaceBlocks":function(){return replaceBlocks;},"resetBlocks":function(){return resetBlocks;},"resetEditorBlocks":function(){return resetEditorBlocks;},"resetPost":function(){return resetPost;},"savePost":function(){return savePost;},"selectBlock":function(){return selectBlock;},"setTemplateValidity":function(){return setTemplateValidity;},"setupEditor":function(){return setupEditor;},"setupEditorState":function(){return setupEditorState;},"showInsertionPoint":function(){return showInsertionPoint;},"startMultiSelect":function(){return startMultiSelect;},"startTyping":function(){return startTyping;},"stopMultiSelect":function(){return stopMultiSelect;},"stopTyping":function(){return stopTyping;},"synchronizeTemplate":function(){return synchronizeTemplate;},"toggleBlockMode":function(){return toggleBlockMode;},"toggleSelection":function(){return toggleSelection;},"trashPost":function(){return trashPost;},"undo":function(){return undo;},"unlockPostAutosaving":function(){return unlockPostAutosaving;},"unlockPostSaving":function(){return unlockPostSaving;},"updateBlock":function(){return updateBlock;},"updateBlockAttributes":function(){return updateBlockAttributes;},"updateBlockListSettings":function(){return updateBlockListSettings;},"updateEditorSettings":function(){return updateEditorSettings;},"updatePost":function(){return updatePost;},"updatePostLock":function(){return updatePostLock;}});;function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}
return target;};return _extends.apply(this,arguments);};var external_wp_element_namespaceObject=window["wp"]["element"];;var external_lodash_namespaceObject=window["lodash"];;var external_wp_blocks_namespaceObject=window["wp"]["blocks"];;var external_wp_data_namespaceObject=window["wp"]["data"];;var external_wp_coreData_namespaceObject=window["wp"]["coreData"];;var external_wp_compose_namespaceObject=window["wp"]["compose"];;var external_wp_hooks_namespaceObject=window["wp"]["hooks"];;var external_wp_blockEditor_namespaceObject=window["wp"]["blockEditor"];;const EDITOR_SETTINGS_DEFAULTS={...external_wp_blockEditor_namespaceObject.SETTINGS_DEFAULTS,richEditingEnabled:true,codeEditingEnabled:true,enableCustomFields:undefined,supportsLayout:true};;function getPostRawValue(value){if(value&&'object'===typeof value&&'raw'in value){return value.raw;}
return value;}
function hasSameKeys(a,b){return isEqual(keys(a),keys(b));}
function isUpdatingSamePostProperty(action,previousAction){return action.type==='EDIT_POST'&&hasSameKeys(action.edits,previousAction.edits);}
function shouldOverwriteState(action,previousAction){if(action.type==='RESET_EDITOR_BLOCKS'){return!action.shouldCreateUndoLevel;}
if(!previousAction||action.type!==previousAction.type){return false;}
return isUpdatingSamePostProperty(action,previousAction);}
function postId(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'SETUP_EDITOR_STATE':return action.post.id;}
return state;}
function postType(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'SETUP_EDITOR_STATE':return action.post.type;}
return state;}
function template(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{isValid:true};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'SET_TEMPLATE_VALIDITY':return{...state,isValid:action.isValid};}
return state;}
function saving(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'REQUEST_POST_UPDATE_START':case 'REQUEST_POST_UPDATE_FINISH':return{pending:action.type==='REQUEST_POST_UPDATE_START',options:action.options||{}};}
return state;}
function postLock(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{isLocked:false};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'UPDATE_POST_LOCK':return action.lock;}
return state;}
function postSavingLock(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'LOCK_POST_SAVING':return{...state,[action.lockName]:true};case 'UNLOCK_POST_SAVING':return(0,external_lodash_namespaceObject.omit)(state,action.lockName);}
return state;}
function postAutosavingLock(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'LOCK_POST_AUTOSAVING':return{...state,[action.lockName]:true};case 'UNLOCK_POST_AUTOSAVING':return(0,external_lodash_namespaceObject.omit)(state,action.lockName);}
return state;}
function isReady(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'SETUP_EDITOR_STATE':return true;case 'TEAR_DOWN_EDITOR':return false;}
return state;}
function editorSettings(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:EDITOR_SETTINGS_DEFAULTS;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'UPDATE_EDITOR_SETTINGS':return{...state,...action.settings};}
return state;}
var reducer=((0,external_wp_data_namespaceObject.combineReducers)({postId,postType,saving,postLock,template,postSavingLock,isReady,editorSettings,postAutosavingLock}));;var LEAF_KEY,hasWeakMap;LEAF_KEY={};hasWeakMap=typeof WeakMap!=='undefined';function arrayOf(value){return[value];}
function isObjectLike(value){return!!value&&'object'===typeof value;}
function createCache(){var cache={clear:function(){cache.head=null;},};return cache;}
function isShallowEqual(a,b,fromIndex){var i;if(a.length!==b.length){return false;}
for(i=fromIndex;i<a.length;i++){if(a[i]!==b[i]){return false;}}
return true;}
function rememo(selector,getDependants){var rootCache,getCache;if(!getDependants){getDependants=arrayOf;}
function getRootCache(){return rootCache;}
function getWeakMapCache(dependants){var caches=rootCache,isUniqueByDependants=true,i,dependant,map,cache;for(i=0;i<dependants.length;i++){dependant=dependants[i];if(!isObjectLike(dependant)){isUniqueByDependants=false;break;}
if(caches.has(dependant)){caches=caches.get(dependant);}else{map=new WeakMap();caches.set(dependant,map);caches=map;}}
if(!caches.has(LEAF_KEY)){cache=createCache();cache.isUniqueByDependants=isUniqueByDependants;caches.set(LEAF_KEY,cache);}
return caches.get(LEAF_KEY);}
getCache=hasWeakMap?getWeakMapCache:getRootCache;function clear(){rootCache=hasWeakMap?new WeakMap():createCache();}
function callSelector(){var len=arguments.length,cache,node,i,args,dependants;args=new Array(len);for(i=0;i<len;i++){args[i]=arguments[i];}
dependants=getDependants.apply(null,args);cache=getCache(dependants);if(!cache.isUniqueByDependants){if(cache.lastDependants&&!isShallowEqual(dependants,cache.lastDependants,0)){cache.clear();}
cache.lastDependants=dependants;}
node=cache.head;while(node){if(!isShallowEqual(node.args,args,1)){node=node.next;continue;}
if(node!==cache.head){node.prev.next=node.next;if(node.next){node.next.prev=node.prev;}
node.next=cache.head;node.prev=null;cache.head.prev=node;cache.head=node;}
return node.val;}
node={val:selector.apply(null,args),};args[0]=null;node.args=args;if(cache.head){cache.head.prev=node;node.next=cache.head;}
cache.head=node;return node.val;}
callSelector.getDependants=getDependants;callSelector.clear=clear;clear();return callSelector;};var external_wp_date_namespaceObject=window["wp"]["date"];;var external_wp_url_namespaceObject=window["wp"]["url"];;var external_wp_deprecated_namespaceObject=window["wp"]["deprecated"];var external_wp_deprecated_default=__webpack_require__.n(external_wp_deprecated_namespaceObject);;var external_wp_primitives_namespaceObject=window["wp"]["primitives"];;const layout=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));var library_layout=(layout);;var external_wp_preferences_namespaceObject=window["wp"]["preferences"];;const EDIT_MERGE_PROPERTIES=new Set(['meta']);const STORE_NAME='core/editor';const SAVE_POST_NOTICE_ID='SAVE_POST_NOTICE_ID';const TRASH_POST_NOTICE_ID='TRASH_POST_NOTICE_ID';const PERMALINK_POSTNAME_REGEX=/%(?:postname|pagename)%/;const ONE_MINUTE_IN_MS=60*1000;const AUTOSAVE_PROPERTIES=['title','excerpt','content'];;const header=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18.5 10.5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));var library_header=(header);;const footer=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",d:"M18 5.5h-8v8h8.5V6a.5.5 0 00-.5-.5zm-9.5 8h-3V6a.5.5 0 01.5-.5h2.5v8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));var library_footer=(footer);;const sidebar=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));var library_sidebar=(sidebar);;const symbolFilled=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"}));var symbol_filled=(symbolFilled);;function getTemplatePartIcon(iconName){if('header'===iconName){return library_header;}else if('footer'===iconName){return library_footer;}else if('sidebar'===iconName){return library_sidebar;}
return symbol_filled;};const EMPTY_OBJECT={};const EMPTY_ARRAY=[];const hasEditorUndo=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>()=>{return select(external_wp_coreData_namespaceObject.store).hasUndo();});const hasEditorRedo=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>()=>{return select(external_wp_coreData_namespaceObject.store).hasRedo();});function isEditedPostNew(state){return getCurrentPost(state).status==='auto-draft';}
function hasChangedContent(state){const edits=getPostEdits(state);return 'blocks'in edits||'content'in edits;}
const isEditedPostDirty=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{const postType=getCurrentPostType(state);const postId=getCurrentPostId(state);if(select(external_wp_coreData_namespaceObject.store).hasEditsForEntityRecord('postType',postType,postId)){return true;}
return false;});const hasNonPostEntityChanges=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{const dirtyEntityRecords=select(external_wp_coreData_namespaceObject.store).__experimentalGetDirtyEntityRecords();const{type,id}=getCurrentPost(state);return(0,external_lodash_namespaceObject.some)(dirtyEntityRecords,entityRecord=>entityRecord.kind!=='postType'||entityRecord.name!==type||entityRecord.key!==id);});function isCleanNewPost(state){return!isEditedPostDirty(state)&&isEditedPostNew(state);}
const getCurrentPost=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{const postId=getCurrentPostId(state);const postType=getCurrentPostType(state);const post=select(external_wp_coreData_namespaceObject.store).getRawEntityRecord('postType',postType,postId);if(post){return post;}
return EMPTY_OBJECT;});function getCurrentPostType(state){return state.postType;}
function getCurrentPostId(state){return state.postId;}
function getCurrentPostRevisionsCount(state){return(0,external_lodash_namespaceObject.get)(getCurrentPost(state),['_links','version-history',0,'count'],0);}
function getCurrentPostLastRevisionId(state){return(0,external_lodash_namespaceObject.get)(getCurrentPost(state),['_links','predecessor-version',0,'id'],null);}
const getPostEdits=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{const postType=getCurrentPostType(state);const postId=getCurrentPostId(state);return select(external_wp_coreData_namespaceObject.store).getEntityRecordEdits('postType',postType,postId)||EMPTY_OBJECT;});function getCurrentPostAttribute(state,attributeName){switch(attributeName){case 'type':return getCurrentPostType(state);case 'id':return getCurrentPostId(state);default:const post=getCurrentPost(state);if(!post.hasOwnProperty(attributeName)){break;}
return getPostRawValue(post[attributeName]);}}
const getNestedEditedPostProperty=(state,attributeName)=>{const edits=getPostEdits(state);if(!edits.hasOwnProperty(attributeName)){return getCurrentPostAttribute(state,attributeName);}
return{...getCurrentPostAttribute(state,attributeName),...edits[attributeName]};};function getEditedPostAttribute(state,attributeName){switch(attributeName){case 'content':return getEditedPostContent(state);}
const edits=getPostEdits(state);if(!edits.hasOwnProperty(attributeName)){return getCurrentPostAttribute(state,attributeName);}
if(EDIT_MERGE_PROPERTIES.has(attributeName)){return getNestedEditedPostProperty(state,attributeName);}
return edits[attributeName];}
const getAutosaveAttribute=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,attributeName)=>{if(!(0,external_lodash_namespaceObject.includes)(AUTOSAVE_PROPERTIES,attributeName)&&attributeName!=='preview_link'){return;}
const postType=getCurrentPostType(state);const postId=getCurrentPostId(state);const currentUserId=(0,external_lodash_namespaceObject.get)(select(external_wp_coreData_namespaceObject.store).getCurrentUser(),['id']);const autosave=select(external_wp_coreData_namespaceObject.store).getAutosave(postType,postId,currentUserId);if(autosave){return getPostRawValue(autosave[attributeName]);}});function getEditedPostVisibility(state){const status=getEditedPostAttribute(state,'status');if(status==='private'){return 'private';}
const password=getEditedPostAttribute(state,'password');if(password){return 'password';}
return 'public';}
function isCurrentPostPending(state){return getCurrentPost(state).status==='pending';}
function isCurrentPostPublished(state,currentPost){const post=currentPost||getCurrentPost(state);return['publish','private'].indexOf(post.status)!==-1||post.status==='future'&&!(0,external_wp_date_namespaceObject.isInTheFuture)(new Date(Number((0,external_wp_date_namespaceObject.getDate)(post.date))-ONE_MINUTE_IN_MS));}
function isCurrentPostScheduled(state){return getCurrentPost(state).status==='future'&&!isCurrentPostPublished(state);}
function isEditedPostPublishable(state){const post=getCurrentPost(state);return isEditedPostDirty(state)||['publish','private','future'].indexOf(post.status)===-1;}
function isEditedPostSaveable(state){if(isSavingPost(state)){return false;}
return!!getEditedPostAttribute(state,'title')||!!getEditedPostAttribute(state,'excerpt')||!isEditedPostEmpty(state)||external_wp_element_namespaceObject.Platform.OS==='native';}
function isEditedPostEmpty(state){const blocks=getEditorBlocks(state);if(blocks.length){if(blocks.length>1){return false;}
const blockName=blocks[0].name;if(blockName!==(0,external_wp_blocks_namespaceObject.getDefaultBlockName)()&&blockName!==(0,external_wp_blocks_namespaceObject.getFreeformContentHandlerName)()){return false;}}
return!getEditedPostContent(state);}
const isEditedPostAutosaveable=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{if(!isEditedPostSaveable(state)){return false;}
if(isPostAutosavingLocked(state)){return false;}
const postType=getCurrentPostType(state);const postId=getCurrentPostId(state);const hasFetchedAutosave=select(external_wp_coreData_namespaceObject.store).hasFetchedAutosaves(postType,postId);const currentUserId=(0,external_lodash_namespaceObject.get)(select(external_wp_coreData_namespaceObject.store).getCurrentUser(),['id']);const autosave=select(external_wp_coreData_namespaceObject.store).getAutosave(postType,postId,currentUserId);if(!hasFetchedAutosave){return false;}
if(!autosave){return true;}
if(hasChangedContent(state)){return true;}
return['title','excerpt'].some(field=>getPostRawValue(autosave[field])!==getEditedPostAttribute(state,field));});function isEditedPostBeingScheduled(state){const date=getEditedPostAttribute(state,'date');const checkedDate=new Date(Number((0,external_wp_date_namespaceObject.getDate)(date))-ONE_MINUTE_IN_MS);return(0,external_wp_date_namespaceObject.isInTheFuture)(checkedDate);}
function isEditedPostDateFloating(state){const date=getEditedPostAttribute(state,'date');const modified=getEditedPostAttribute(state,'modified');const status=getCurrentPost(state).status;if(status==='draft'||status==='auto-draft'||status==='pending'){return date===modified||date===null;}
return false;}
const isSavingPost=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{const postType=getCurrentPostType(state);const postId=getCurrentPostId(state);return select(external_wp_coreData_namespaceObject.store).isSavingEntityRecord('postType',postType,postId);});const isSavingNonPostEntityChanges=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{const entitiesBeingSaved=select(external_wp_coreData_namespaceObject.store).__experimentalGetEntitiesBeingSaved();const{type,id}=getCurrentPost(state);return(0,external_lodash_namespaceObject.some)(entitiesBeingSaved,entityRecord=>entityRecord.kind!=='postType'||entityRecord.name!==type||entityRecord.key!==id);});const didPostSaveRequestSucceed=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{const postType=getCurrentPostType(state);const postId=getCurrentPostId(state);return!select(external_wp_coreData_namespaceObject.store).getLastEntitySaveError('postType',postType,postId);});const didPostSaveRequestFail=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{const postType=getCurrentPostType(state);const postId=getCurrentPostId(state);return!!select(external_wp_coreData_namespaceObject.store).getLastEntitySaveError('postType',postType,postId);});function isAutosavingPost(state){if(!isSavingPost(state)){return false;}
return!!(0,external_lodash_namespaceObject.get)(state.saving,['options','isAutosave']);}
function isPreviewingPost(state){if(!isSavingPost(state)){return false;}
return!!(0,external_lodash_namespaceObject.get)(state.saving,['options','isPreview']);}
function getEditedPostPreviewLink(state){if(state.saving.pending||isSavingPost(state)){return;}
let previewLink=getAutosaveAttribute(state,'preview_link');if(!previewLink||'draft'===getCurrentPost(state).status){previewLink=getEditedPostAttribute(state,'link');if(previewLink){previewLink=(0,external_wp_url_namespaceObject.addQueryArgs)(previewLink,{preview:true});}}
const featuredImageId=getEditedPostAttribute(state,'featured_media');if(previewLink&&featuredImageId){return(0,external_wp_url_namespaceObject.addQueryArgs)(previewLink,{_thumbnail_id:featuredImageId});}
return previewLink;}
function getSuggestedPostFormat(state){const blocks=getEditorBlocks(state);if(blocks.length>2)return null;let name;if(blocks.length===1){name=blocks[0].name;if(name==='core/embed'){var _blocks$0$attributes;const provider=(_blocks$0$attributes=blocks[0].attributes)===null||_blocks$0$attributes===void 0?void 0:_blocks$0$attributes.providerNameSlug;if(['youtube','vimeo'].includes(provider)){name='core/video';}else if(['spotify','soundcloud'].includes(provider)){name='core/audio';}}}
if(blocks.length===2&&blocks[1].name==='core/paragraph'){name=blocks[0].name;}
switch(name){case 'core/image':return 'image';case 'core/quote':case 'core/pullquote':return 'quote';case 'core/gallery':return 'gallery';case 'core/video':return 'video';case 'core/audio':return 'audio';default:return null;}}
const getEditedPostContent=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{const postId=getCurrentPostId(state);const postType=getCurrentPostType(state);const record=select(external_wp_coreData_namespaceObject.store).getEditedEntityRecord('postType',postType,postId);if(record){if(typeof record.content==='function'){return record.content(record);}else if(record.blocks){return(0,external_wp_blocks_namespaceObject.__unstableSerializeAndClean)(record.blocks);}else if(record.content){return record.content;}}
return '';});function isPublishingPost(state){return isSavingPost(state)&&!isCurrentPostPublished(state)&&getEditedPostAttribute(state,'status')==='publish';}
function isPermalinkEditable(state){const permalinkTemplate=getEditedPostAttribute(state,'permalink_template');return PERMALINK_POSTNAME_REGEX.test(permalinkTemplate);}
function getPermalink(state){const permalinkParts=getPermalinkParts(state);if(!permalinkParts){return null;}
const{prefix,postName,suffix}=permalinkParts;if(isPermalinkEditable(state)){return prefix+postName+suffix;}
return prefix;}
function getEditedPostSlug(state){return getEditedPostAttribute(state,'slug')||(0,external_wp_url_namespaceObject.cleanForSlug)(getEditedPostAttribute(state,'title'))||getCurrentPostId(state);}
function getPermalinkParts(state){const permalinkTemplate=getEditedPostAttribute(state,'permalink_template');if(!permalinkTemplate){return null;}
const postName=getEditedPostAttribute(state,'slug')||getEditedPostAttribute(state,'generated_slug');const[prefix,suffix]=permalinkTemplate.split(PERMALINK_POSTNAME_REGEX);return{prefix,postName,suffix};}
function isPostLocked(state){return state.postLock.isLocked;}
function isPostSavingLocked(state){return Object.keys(state.postSavingLock).length>0;}
function isPostAutosavingLocked(state){return Object.keys(state.postAutosavingLock).length>0;}
function isPostLockTakeover(state){return state.postLock.isTakeover;}
function getPostLockUser(state){return state.postLock.user;}
function getActivePostLock(state){return state.postLock.activePostLock;}
function canUserUseUnfilteredHTML(state){return(0,external_lodash_namespaceObject.has)(getCurrentPost(state),['_links','wp:action-unfiltered-html']);}
const isPublishSidebarEnabled=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>()=>!!select(external_wp_preferences_namespaceObject.store).get('core/edit-post','isPublishSidebarEnabled'));function getEditorBlocks(state){return getEditedPostAttribute(state,'blocks')||EMPTY_ARRAY;}
function getEditorSelectionStart(state){var _getEditedPostAttribu;external_wp_deprecated_default()("select('core/editor').getEditorSelectionStart",{since:'5.8',alternative:"select('core/editor').getEditorSelection"});return(_getEditedPostAttribu=getEditedPostAttribute(state,'selection'))===null||_getEditedPostAttribu===void 0?void 0:_getEditedPostAttribu.selectionStart;}
function getEditorSelectionEnd(state){var _getEditedPostAttribu2;external_wp_deprecated_default()("select('core/editor').getEditorSelectionStart",{since:'5.8',alternative:"select('core/editor').getEditorSelection"});return(_getEditedPostAttribu2=getEditedPostAttribute(state,'selection'))===null||_getEditedPostAttribu2===void 0?void 0:_getEditedPostAttribu2.selectionEnd;}
function getEditorSelection(state){return getEditedPostAttribute(state,'selection');}
function __unstableIsEditorReady(state){return state.isReady;}
function getEditorSettings(state){return state.editorSettings;}
function getStateBeforeOptimisticTransaction(){external_wp_deprecated_default()("select('core/editor').getStateBeforeOptimisticTransaction",{since:'5.7',hint:'No state history is kept on this store anymore'});return null;}
function inSomeHistory(){external_wp_deprecated_default()("select('core/editor').inSomeHistory",{since:'5.7',hint:'No state history is kept on this store anymore'});return false;}
function getBlockEditorSelector(name){return(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>function(state){external_wp_deprecated_default()("`wp.data.select( 'core/editor' )."+name+'`',{since:'5.3',alternative:"`wp.data.select( 'core/block-editor' )."+name+'`',version:'6.2'});for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
return select(external_wp_blockEditor_namespaceObject.store)[name](...args);});}
const getBlockName=getBlockEditorSelector('getBlockName');const isBlockValid=getBlockEditorSelector('isBlockValid');const getBlockAttributes=getBlockEditorSelector('getBlockAttributes');const getBlock=getBlockEditorSelector('getBlock');const getBlocks=getBlockEditorSelector('getBlocks');const getClientIdsOfDescendants=getBlockEditorSelector('getClientIdsOfDescendants');const getClientIdsWithDescendants=getBlockEditorSelector('getClientIdsWithDescendants');const getGlobalBlockCount=getBlockEditorSelector('getGlobalBlockCount');const getBlocksByClientId=getBlockEditorSelector('getBlocksByClientId');const getBlockCount=getBlockEditorSelector('getBlockCount');const getBlockSelectionStart=getBlockEditorSelector('getBlockSelectionStart');const getBlockSelectionEnd=getBlockEditorSelector('getBlockSelectionEnd');const getSelectedBlockCount=getBlockEditorSelector('getSelectedBlockCount');const hasSelectedBlock=getBlockEditorSelector('hasSelectedBlock');const getSelectedBlockClientId=getBlockEditorSelector('getSelectedBlockClientId');const getSelectedBlock=getBlockEditorSelector('getSelectedBlock');const getBlockRootClientId=getBlockEditorSelector('getBlockRootClientId');const getBlockHierarchyRootClientId=getBlockEditorSelector('getBlockHierarchyRootClientId');const getAdjacentBlockClientId=getBlockEditorSelector('getAdjacentBlockClientId');const getPreviousBlockClientId=getBlockEditorSelector('getPreviousBlockClientId');const getNextBlockClientId=getBlockEditorSelector('getNextBlockClientId');const getSelectedBlocksInitialCaretPosition=getBlockEditorSelector('getSelectedBlocksInitialCaretPosition');const getMultiSelectedBlockClientIds=getBlockEditorSelector('getMultiSelectedBlockClientIds');const getMultiSelectedBlocks=getBlockEditorSelector('getMultiSelectedBlocks');const getFirstMultiSelectedBlockClientId=getBlockEditorSelector('getFirstMultiSelectedBlockClientId');const getLastMultiSelectedBlockClientId=getBlockEditorSelector('getLastMultiSelectedBlockClientId');const isFirstMultiSelectedBlock=getBlockEditorSelector('isFirstMultiSelectedBlock');const isBlockMultiSelected=getBlockEditorSelector('isBlockMultiSelected');const isAncestorMultiSelected=getBlockEditorSelector('isAncestorMultiSelected');const getMultiSelectedBlocksStartClientId=getBlockEditorSelector('getMultiSelectedBlocksStartClientId');const getMultiSelectedBlocksEndClientId=getBlockEditorSelector('getMultiSelectedBlocksEndClientId');const getBlockOrder=getBlockEditorSelector('getBlockOrder');const getBlockIndex=getBlockEditorSelector('getBlockIndex');const isBlockSelected=getBlockEditorSelector('isBlockSelected');const hasSelectedInnerBlock=getBlockEditorSelector('hasSelectedInnerBlock');const isBlockWithinSelection=getBlockEditorSelector('isBlockWithinSelection');const hasMultiSelection=getBlockEditorSelector('hasMultiSelection');const isMultiSelecting=getBlockEditorSelector('isMultiSelecting');const isSelectionEnabled=getBlockEditorSelector('isSelectionEnabled');const getBlockMode=getBlockEditorSelector('getBlockMode');const isTyping=getBlockEditorSelector('isTyping');const isCaretWithinFormattedText=getBlockEditorSelector('isCaretWithinFormattedText');const getBlockInsertionPoint=getBlockEditorSelector('getBlockInsertionPoint');const isBlockInsertionPointVisible=getBlockEditorSelector('isBlockInsertionPointVisible');const isValidTemplate=getBlockEditorSelector('isValidTemplate');const getTemplate=getBlockEditorSelector('getTemplate');const getTemplateLock=getBlockEditorSelector('getTemplateLock');const canInsertBlockType=getBlockEditorSelector('canInsertBlockType');const getInserterItems=getBlockEditorSelector('getInserterItems');const hasInserterItems=getBlockEditorSelector('hasInserterItems');const getBlockListSettings=getBlockEditorSelector('getBlockListSettings');function __experimentalGetDefaultTemplateTypes(state){var _getEditorSettings;return(_getEditorSettings=getEditorSettings(state))===null||_getEditorSettings===void 0?void 0:_getEditorSettings.defaultTemplateTypes;}
const __experimentalGetDefaultTemplatePartAreas=rememo(state=>{var _getEditorSettings2;const areas=((_getEditorSettings2=getEditorSettings(state))===null||_getEditorSettings2===void 0?void 0:_getEditorSettings2.defaultTemplatePartAreas)||[];return areas===null||areas===void 0?void 0:areas.map(item=>{return{...item,icon:getTemplatePartIcon(item.icon)};});},state=>{var _getEditorSettings3;return[(_getEditorSettings3=getEditorSettings(state))===null||_getEditorSettings3===void 0?void 0:_getEditorSettings3.defaultTemplatePartAreas];});const __experimentalGetDefaultTemplateType=rememo((state,slug)=>(0,external_lodash_namespaceObject.find)(__experimentalGetDefaultTemplateTypes(state),{slug})||{},(state,slug)=>[__experimentalGetDefaultTemplateTypes(state),slug]);function __experimentalGetTemplateInfo(state,template){var _experimentalGetDefa;if(!template){return{};}
const{excerpt,slug,title,area}=template;const{title:defaultTitle,description:defaultDescription}=__experimentalGetDefaultTemplateType(state,slug);const templateTitle=(0,external_lodash_namespaceObject.isString)(title)?title:title===null||title===void 0?void 0:title.rendered;const templateDescription=(0,external_lodash_namespaceObject.isString)(excerpt)?excerpt:excerpt===null||excerpt===void 0?void 0:excerpt.raw;const templateIcon=((_experimentalGetDefa=__experimentalGetDefaultTemplatePartAreas(state).find(item=>area===item.area))===null||_experimentalGetDefa===void 0?void 0:_experimentalGetDefa.icon)||library_layout;return{title:templateTitle&&templateTitle!==slug?templateTitle:defaultTitle||slug,description:templateDescription||defaultDescription,icon:templateIcon};}
const getPostTypeLabel=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>state=>{var _postType$labels;const currentPostType=getCurrentPostType(state);const postType=select(external_wp_coreData_namespaceObject.store).getPostType(currentPostType);return postType===null||postType===void 0?void 0:(_postType$labels=postType.labels)===null||_postType$labels===void 0?void 0:_postType$labels.singular_name;});;var external_wp_apiFetch_namespaceObject=window["wp"]["apiFetch"];var external_wp_apiFetch_default=__webpack_require__.n(external_wp_apiFetch_namespaceObject);;var external_wp_notices_namespaceObject=window["wp"]["notices"];;function postKey(postId,isPostNew){return `wp-autosave-block-editor-post-${isPostNew?'auto-draft':postId}`;}
function localAutosaveGet(postId,isPostNew){return window.sessionStorage.getItem(postKey(postId,isPostNew));}
function localAutosaveSet(postId,isPostNew,title,content,excerpt){window.sessionStorage.setItem(postKey(postId,isPostNew),JSON.stringify({post_title:title,content,excerpt}));}
function localAutosaveClear(postId,isPostNew){window.sessionStorage.removeItem(postKey(postId,isPostNew));};var external_wp_i18n_namespaceObject=window["wp"]["i18n"];;function getNotificationArgumentsForSaveSuccess(data){const{previousPost,post,postType}=data;if((0,external_lodash_namespaceObject.get)(data.options,['isAutosave'])){return[];}
if(post.status==='trash'&&previousPost.status!=='trash'){return[];}
const publishStatus=['publish','private','future'];const isPublished=(0,external_lodash_namespaceObject.includes)(publishStatus,previousPost.status);const willPublish=(0,external_lodash_namespaceObject.includes)(publishStatus,post.status);let noticeMessage;let shouldShowLink=(0,external_lodash_namespaceObject.get)(postType,['viewable'],false);let isDraft;if(!isPublished&&!willPublish){noticeMessage=(0,external_wp_i18n_namespaceObject.__)('Draft saved.');isDraft=true;}else if(isPublished&&!willPublish){noticeMessage=postType.labels.item_reverted_to_draft;shouldShowLink=false;}else if(!isPublished&&willPublish){noticeMessage={publish:postType.labels.item_published,private:postType.labels.item_published_privately,future:postType.labels.item_scheduled}[post.status];}else{noticeMessage=postType.labels.item_updated;}
const actions=[];if(shouldShowLink){actions.push({label:isDraft?(0,external_wp_i18n_namespaceObject.__)('View Preview'):postType.labels.view_item,url:post.link});}
return[noticeMessage,{id:SAVE_POST_NOTICE_ID,type:'snackbar',actions}];}
function getNotificationArgumentsForSaveFail(data){const{post,edits,error}=data;if(error&&'rest_autosave_no_changes'===error.code){return[];}
const publishStatus=['publish','private','future'];const isPublished=publishStatus.indexOf(post.status)!==-1;const messages={publish:(0,external_wp_i18n_namespaceObject.__)('Publishing failed.'),private:(0,external_wp_i18n_namespaceObject.__)('Publishing failed.'),future:(0,external_wp_i18n_namespaceObject.__)('Scheduling failed.')};let noticeMessage=!isPublished&&publishStatus.indexOf(edits.status)!==-1?messages[edits.status]:(0,external_wp_i18n_namespaceObject.__)('Updating failed.');if(error.message&&!/<\/?[^>]*>/.test(error.message)){noticeMessage=[noticeMessage,error.message].join(' ');}
return[noticeMessage,{id:SAVE_POST_NOTICE_ID}];}
function getNotificationArgumentsForTrashFail(data){return[data.error.message&&data.error.code!=='unknown_error'?data.error.message:(0,external_wp_i18n_namespaceObject.__)('Trashing failed'),{id:TRASH_POST_NOTICE_ID}];};const setupEditor=(post,edits,template)=>_ref=>{let{dispatch}=_ref;dispatch.setupEditorState(post);const isNewPost=post.status==='auto-draft';if(isNewPost&&template){let content;if((0,external_lodash_namespaceObject.has)(edits,['content'])){content=edits.content;}else{content=post.content.raw;}
let blocks=(0,external_wp_blocks_namespaceObject.parse)(content);blocks=(0,external_wp_blocks_namespaceObject.synchronizeBlocksWithTemplate)(blocks,template);dispatch.resetEditorBlocks(blocks,{__unstableShouldCreateUndoLevel:false});}
if(edits&&Object.values(edits).some(_ref2=>{var _post$key$raw,_post$key;let[key,edit]=_ref2;return edit!==((_post$key$raw=(_post$key=post[key])===null||_post$key===void 0?void 0:_post$key.raw)!==null&&_post$key$raw!==void 0?_post$key$raw:post[key]);})){dispatch.editPost(edits);}};function __experimentalTearDownEditor(){return{type:'TEAR_DOWN_EDITOR'};}
function resetPost(){external_wp_deprecated_default()("wp.data.dispatch( 'core/editor' ).resetPost",{since:'6.0',version:'6.3',alternative:'Initialize the editor with the setupEditorState action'});return{type:'DO_NOTHING'};}
function updatePost(){external_wp_deprecated_default()("wp.data.dispatch( 'core/editor' ).updatePost",{since:'5.7',alternative:'Use the core entities store instead'});return{type:'DO_NOTHING'};}
function setupEditorState(post){return{type:'SETUP_EDITOR_STATE',post};}
const editPost=(edits,options)=>_ref3=>{let{select,registry}=_ref3;const{id,type}=select.getCurrentPost();registry.dispatch(external_wp_coreData_namespaceObject.store).editEntityRecord('postType',type,id,edits,options);};const savePost=function(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return async _ref4=>{let{select,dispatch,registry}=_ref4;if(!select.isEditedPostSaveable()){return;}
const content=select.getEditedPostContent();if(!options.isAutosave){dispatch.editPost({content},{undoIgnore:true});}
const previousRecord=select.getCurrentPost();const edits={id:previousRecord.id,...registry.select(external_wp_coreData_namespaceObject.store).getEntityRecordNonTransientEdits('postType',previousRecord.type,previousRecord.id),content};dispatch({type:'REQUEST_POST_UPDATE_START',options});await registry.dispatch(external_wp_coreData_namespaceObject.store).saveEntityRecord('postType',previousRecord.type,edits,options);dispatch({type:'REQUEST_POST_UPDATE_FINISH',options});const error=registry.select(external_wp_coreData_namespaceObject.store).getLastEntitySaveError('postType',previousRecord.type,previousRecord.id);if(error){const args=getNotificationArgumentsForSaveFail({post:previousRecord,edits,error});if(args.length){registry.dispatch(external_wp_notices_namespaceObject.store).createErrorNotice(...args);}}else{const updatedRecord=select.getCurrentPost();const args=getNotificationArgumentsForSaveSuccess({previousPost:previousRecord,post:updatedRecord,postType:await registry.resolveSelect(external_wp_coreData_namespaceObject.store).getPostType(updatedRecord.type),options});if(args.length){registry.dispatch(external_wp_notices_namespaceObject.store).createSuccessNotice(...args);}
if(!options.isAutosave){registry.dispatch(external_wp_blockEditor_namespaceObject.store).__unstableMarkLastChangeAsPersistent();}}};};function refreshPost(){external_wp_deprecated_default()("wp.data.dispatch( 'core/editor' ).refreshPost",{since:'6.0',version:'6.3',alternative:'Use the core entities store instead'});return{type:'DO_NOTHING'};}
const trashPost=()=>async _ref5=>{let{select,dispatch,registry}=_ref5;const postTypeSlug=select.getCurrentPostType();const postType=await registry.resolveSelect(external_wp_coreData_namespaceObject.store).getPostType(postTypeSlug);registry.dispatch(external_wp_notices_namespaceObject.store).removeNotice(TRASH_POST_NOTICE_ID);try{const post=select.getCurrentPost();await external_wp_apiFetch_default()({path:`/wp/v2/${postType.rest_base}/${post.id}`,method:'DELETE'});await dispatch.savePost();}catch(error){registry.dispatch(external_wp_notices_namespaceObject.store).createErrorNotice(...getNotificationArgumentsForTrashFail({error}));}};const autosave=function(){let{local=false,...options}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return async _ref6=>{let{select,dispatch}=_ref6;if(local){const post=select.getCurrentPost();const isPostNew=select.isEditedPostNew();const title=select.getEditedPostAttribute('title');const content=select.getEditedPostAttribute('content');const excerpt=select.getEditedPostAttribute('excerpt');localAutosaveSet(post.id,isPostNew,title,content,excerpt);}else{await dispatch.savePost({isAutosave:true,...options});}};};const redo=()=>_ref7=>{let{registry}=_ref7;registry.dispatch(external_wp_coreData_namespaceObject.store).redo();};const undo=()=>_ref8=>{let{registry}=_ref8;registry.dispatch(external_wp_coreData_namespaceObject.store).undo();};function createUndoLevel(){external_wp_deprecated_default()("wp.data.dispatch( 'core/editor' ).createUndoLevel",{since:'6.0',version:'6.3',alternative:'Use the core entities store instead'});return{type:'DO_NOTHING'};}
function updatePostLock(lock){return{type:'UPDATE_POST_LOCK',lock};}
const enablePublishSidebar=()=>_ref9=>{let{registry}=_ref9;registry.dispatch(external_wp_preferences_namespaceObject.store).set('core/edit-post','isPublishSidebarEnabled',true);};const disablePublishSidebar=()=>_ref10=>{let{registry}=_ref10;registry.dispatch(external_wp_preferences_namespaceObject.store).set('core/edit-post','isPublishSidebarEnabled',false);};function lockPostSaving(lockName){return{type:'LOCK_POST_SAVING',lockName};}
function unlockPostSaving(lockName){return{type:'UNLOCK_POST_SAVING',lockName};}
function lockPostAutosaving(lockName){return{type:'LOCK_POST_AUTOSAVING',lockName};}
function unlockPostAutosaving(lockName){return{type:'UNLOCK_POST_AUTOSAVING',lockName};}
const resetEditorBlocks=function(blocks){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _ref11=>{let{select,dispatch,registry}=_ref11;const{__unstableShouldCreateUndoLevel,selection}=options;const edits={blocks,selection};if(__unstableShouldCreateUndoLevel!==false){const{id,type}=select.getCurrentPost();const noChange=registry.select(external_wp_coreData_namespaceObject.store).getEditedEntityRecord('postType',type,id).blocks===edits.blocks;if(noChange){registry.dispatch(external_wp_coreData_namespaceObject.store).__unstableCreateUndoLevel('postType',type,id);return;}
edits.content=_ref12=>{let{blocks:blocksForSerialization=[]}=_ref12;return(0,external_wp_blocks_namespaceObject.__unstableSerializeAndClean)(blocksForSerialization);};}
dispatch.editPost(edits);};};function updateEditorSettings(settings){return{type:'UPDATE_EDITOR_SETTINGS',settings};}
const getBlockEditorAction=name=>function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}
return _ref13=>{let{registry}=_ref13;external_wp_deprecated_default()("`wp.data.dispatch( 'core/editor' )."+name+'`',{since:'5.3',alternative:"`wp.data.dispatch( 'core/block-editor' )."+name+'`',version:'6.2'});registry.dispatch(external_wp_blockEditor_namespaceObject.store)[name](...args);};};const resetBlocks=getBlockEditorAction('resetBlocks');const receiveBlocks=getBlockEditorAction('receiveBlocks');const updateBlock=getBlockEditorAction('updateBlock');const updateBlockAttributes=getBlockEditorAction('updateBlockAttributes');const selectBlock=getBlockEditorAction('selectBlock');const startMultiSelect=getBlockEditorAction('startMultiSelect');const stopMultiSelect=getBlockEditorAction('stopMultiSelect');const multiSelect=getBlockEditorAction('multiSelect');const clearSelectedBlock=getBlockEditorAction('clearSelectedBlock');const toggleSelection=getBlockEditorAction('toggleSelection');const replaceBlocks=getBlockEditorAction('replaceBlocks');const replaceBlock=getBlockEditorAction('replaceBlock');const moveBlocksDown=getBlockEditorAction('moveBlocksDown');const moveBlocksUp=getBlockEditorAction('moveBlocksUp');const moveBlockToPosition=getBlockEditorAction('moveBlockToPosition');const insertBlock=getBlockEditorAction('insertBlock');const insertBlocks=getBlockEditorAction('insertBlocks');const showInsertionPoint=getBlockEditorAction('showInsertionPoint');const hideInsertionPoint=getBlockEditorAction('hideInsertionPoint');const setTemplateValidity=getBlockEditorAction('setTemplateValidity');const synchronizeTemplate=getBlockEditorAction('synchronizeTemplate');const mergeBlocks=getBlockEditorAction('mergeBlocks');const removeBlocks=getBlockEditorAction('removeBlocks');const removeBlock=getBlockEditorAction('removeBlock');const toggleBlockMode=getBlockEditorAction('toggleBlockMode');const startTyping=getBlockEditorAction('startTyping');const stopTyping=getBlockEditorAction('stopTyping');const enterFormattedText=getBlockEditorAction('enterFormattedText');const exitFormattedText=getBlockEditorAction('exitFormattedText');const insertDefaultBlock=getBlockEditorAction('insertDefaultBlock');const updateBlockListSettings=getBlockEditorAction('updateBlockListSettings');;const storeConfig={reducer:reducer,selectors:selectors_namespaceObject,actions:actions_namespaceObject};const store_store=(0,external_wp_data_namespaceObject.createReduxStore)(STORE_NAME,{...storeConfig});(0,external_wp_data_namespaceObject.register)(store_store);;const createWithMetaAttributeSource=metaAttributes=>(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockEdit=>_ref=>{let{attributes,setAttributes,...props}=_ref;const postType=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store_store).getCurrentPostType(),[]);const[meta,setMeta]=(0,external_wp_coreData_namespaceObject.useEntityProp)('postType',postType,'meta');const mergedAttributes=(0,external_wp_element_namespaceObject.useMemo)(()=>({...attributes,...(0,external_lodash_namespaceObject.mapValues)(metaAttributes,metaKey=>meta[metaKey])}),[attributes,meta]);return(0,external_wp_element_namespaceObject.createElement)(BlockEdit,_extends({attributes:mergedAttributes,setAttributes:nextAttributes=>{const nextMeta=(0,external_lodash_namespaceObject.mapKeys)((0,external_lodash_namespaceObject.pickBy)(nextAttributes,(value,key)=>metaAttributes[key]),(value,attributeKey)=>metaAttributes[attributeKey]);if(!(0,external_lodash_namespaceObject.isEmpty)(nextMeta)){setMeta(nextMeta);}
setAttributes(nextAttributes);}},props));},'withMetaAttributeSource');function shimAttributeSource(settings){const metaAttributes=(0,external_lodash_namespaceObject.mapValues)((0,external_lodash_namespaceObject.pickBy)(settings.attributes,{source:'meta'}),'meta');if(!(0,external_lodash_namespaceObject.isEmpty)(metaAttributes)){settings.edit=createWithMetaAttributeSource(metaAttributes)(settings.edit);}
return settings;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/editor/custom-sources-backwards-compatibility/shim-attribute-source',shimAttributeSource);(0,external_wp_data_namespaceObject.select)(external_wp_blocks_namespaceObject.store).getBlockTypes().map(_ref2=>{let{name}=_ref2;return(0,external_wp_data_namespaceObject.select)(external_wp_blocks_namespaceObject.store).getBlockType(name);}).forEach(shimAttributeSource);;function getUserLabel(user){const avatar=user.avatar_urls&&user.avatar_urls[24]?(0,external_wp_element_namespaceObject.createElement)("img",{className:"editor-autocompleters__user-avatar",alt:"",src:user.avatar_urls[24]}):(0,external_wp_element_namespaceObject.createElement)("span",{className:"editor-autocompleters__no-avatar"});return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,avatar,(0,external_wp_element_namespaceObject.createElement)("span",{className:"editor-autocompleters__user-name"},user.name),(0,external_wp_element_namespaceObject.createElement)("span",{className:"editor-autocompleters__user-slug"},user.slug));}
var user=({name:'users',className:'editor-autocompleters__user',triggerPrefix:'@',useItems(filterValue){const users=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getUsers}=select(external_wp_coreData_namespaceObject.store);return getUsers({context:'view',search:encodeURIComponent(filterValue)});},[filterValue]);const options=(0,external_wp_element_namespaceObject.useMemo)(()=>users?users.map(user=>({key:`user-${user.slug}`,value:user,label:getUserLabel(user)})):[],[users]);return[options];},getOptionCompletion(user){return `@${user.slug}`;}});;function setDefaultCompleters(){let completers=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];completers.push((0,external_lodash_namespaceObject.clone)(user));return completers;}
(0,external_wp_hooks_namespaceObject.addFilter)('editor.Autocomplete.completers','editor/autocompleters/set-default-completers',setDefaultCompleters);;;;class AutosaveMonitor extends external_wp_element_namespaceObject.Component{constructor(props){super(props);this.needsAutosave=!!(props.isDirty&&props.isAutosaveable);}
componentDidMount(){if(!this.props.disableIntervalChecks){this.setAutosaveTimer();}}
componentDidUpdate(prevProps){if(this.props.disableIntervalChecks){if(this.props.editsReference!==prevProps.editsReference){this.props.autosave();}
return;}
if(this.props.interval!==prevProps.interval){clearTimeout(this.timerId);this.setAutosaveTimer();}
if(!this.props.isDirty){this.needsAutosave=false;return;}
if(this.props.isAutosaving&&!prevProps.isAutosaving){this.needsAutosave=false;return;}
if(this.props.editsReference!==prevProps.editsReference){this.needsAutosave=true;}}
componentWillUnmount(){clearTimeout(this.timerId);}
setAutosaveTimer(){let timeout=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.props.interval*1000;this.timerId=setTimeout(()=>{this.autosaveTimerHandler();},timeout);}
autosaveTimerHandler(){if(!this.props.isAutosaveable){this.setAutosaveTimer(1000);return;}
if(this.needsAutosave){this.needsAutosave=false;this.props.autosave();}
this.setAutosaveTimer();}
render(){return null;}}
var autosave_monitor=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)((select,ownProps)=>{const{getReferenceByDistinctEdits}=select(external_wp_coreData_namespaceObject.store);const{isEditedPostDirty,isEditedPostAutosaveable,isAutosavingPost,getEditorSettings}=select(store_store);const{interval=getEditorSettings().autosaveInterval}=ownProps;return{editsReference:getReferenceByDistinctEdits(),isDirty:isEditedPostDirty(),isAutosaveable:isEditedPostAutosaveable(),isAutosaving:isAutosavingPost(),interval};}),(0,external_wp_data_namespaceObject.withDispatch)((dispatch,ownProps)=>({autosave(){const{autosave=dispatch(store_store).autosave}=ownProps;autosave();}}))])(AutosaveMonitor));;var external_wp_richText_namespaceObject=window["wp"]["richText"];var classnames=__webpack_require__(4403);var classnames_default=__webpack_require__.n(classnames);;const TableOfContentsItem=_ref=>{let{children,isValid,level,href,onSelect}=_ref;return(0,external_wp_element_namespaceObject.createElement)("li",{className:classnames_default()('document-outline__item',`is-${level.toLowerCase()}`,{'is-invalid':!isValid})},(0,external_wp_element_namespaceObject.createElement)("a",{href:href,className:"document-outline__button",onClick:onSelect},(0,external_wp_element_namespaceObject.createElement)("span",{className:"document-outline__emdash","aria-hidden":"true"}),(0,external_wp_element_namespaceObject.createElement)("strong",{className:"document-outline__level"},level),(0,external_wp_element_namespaceObject.createElement)("span",{className:"document-outline__item-content"},children)));};var document_outline_item=(TableOfContentsItem);;const emptyHeadingContent=(0,external_wp_element_namespaceObject.createElement)("em",null,(0,external_wp_i18n_namespaceObject.__)('(Empty heading)'));const incorrectLevelContent=[(0,external_wp_element_namespaceObject.createElement)("br",{key:"incorrect-break"}),(0,external_wp_element_namespaceObject.createElement)("em",{key:"incorrect-message"},(0,external_wp_i18n_namespaceObject.__)('(Incorrect heading level)'))];const singleH1Headings=[(0,external_wp_element_namespaceObject.createElement)("br",{key:"incorrect-break-h1"}),(0,external_wp_element_namespaceObject.createElement)("em",{key:"incorrect-message-h1"},(0,external_wp_i18n_namespaceObject.__)('(Your theme may already use a H1 for the post title)'))];const multipleH1Headings=[(0,external_wp_element_namespaceObject.createElement)("br",{key:"incorrect-break-multiple-h1"}),(0,external_wp_element_namespaceObject.createElement)("em",{key:"incorrect-message-multiple-h1"},(0,external_wp_i18n_namespaceObject.__)('(Multiple H1 headings are not recommended)'))];const computeOutlineHeadings=function(){let blocks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return(0,external_lodash_namespaceObject.flatMap)(blocks,function(){let block=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(block.name==='core/heading'){return{...block,level:block.attributes.level,isEmpty:isEmptyHeading(block)};}
return computeOutlineHeadings(block.innerBlocks);});};const isEmptyHeading=heading=>!heading.attributes.content||heading.attributes.content.length===0;const DocumentOutline=_ref=>{let{blocks=[],title,onSelect,isTitleSupported,hasOutlineItemsDisabled}=_ref;const headings=computeOutlineHeadings(blocks);if(headings.length<1){return null;}
let prevHeadingLevel=1;const titleNode=document.querySelector('.editor-post-title__input');const hasTitle=isTitleSupported&&title&&titleNode;const countByLevel=(0,external_lodash_namespaceObject.countBy)(headings,'level');const hasMultipleH1=countByLevel[1]>1;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"document-outline"},(0,external_wp_element_namespaceObject.createElement)("ul",null,hasTitle&&(0,external_wp_element_namespaceObject.createElement)(document_outline_item,{level:(0,external_wp_i18n_namespaceObject.__)('Title'),isValid:true,onSelect:onSelect,href:`#${titleNode.id}`,isDisabled:hasOutlineItemsDisabled},title),headings.map((item,index)=>{const isIncorrectLevel=item.level>prevHeadingLevel+1;const isValid=!item.isEmpty&&!isIncorrectLevel&&!!item.level&&(item.level!==1||!hasMultipleH1&&!hasTitle);prevHeadingLevel=item.level;return(0,external_wp_element_namespaceObject.createElement)(document_outline_item,{key:index,level:`H${item.level}`,isValid:isValid,isDisabled:hasOutlineItemsDisabled,href:`#block-${item.clientId}`,onSelect:onSelect},item.isEmpty?emptyHeadingContent:(0,external_wp_richText_namespaceObject.getTextContent)((0,external_wp_richText_namespaceObject.create)({html:item.attributes.content})),isIncorrectLevel&&incorrectLevelContent,item.level===1&&hasMultipleH1&&multipleH1Headings,hasTitle&&item.level===1&&!hasMultipleH1&&singleH1Headings);})));};var document_outline=((0,external_wp_compose_namespaceObject.compose)((0,external_wp_data_namespaceObject.withSelect)(select=>{const{getBlocks}=select(external_wp_blockEditor_namespaceObject.store);const{getEditedPostAttribute}=select(store_store);const{getPostType}=select(external_wp_coreData_namespaceObject.store);const postType=getPostType(getEditedPostAttribute('type'));return{title:getEditedPostAttribute('title'),blocks:getBlocks(),isTitleSupported:(0,external_lodash_namespaceObject.get)(postType,['supports','title'],false)};}))(DocumentOutline));;function DocumentOutlineCheck(_ref){let{blocks,children}=_ref;const headings=(0,external_lodash_namespaceObject.filter)(blocks,block=>block.name==='core/heading');if(headings.length<1){return null;}
return children;}
var check=((0,external_wp_data_namespaceObject.withSelect)(select=>({blocks:select(external_wp_blockEditor_namespaceObject.store).getBlocks()}))(DocumentOutlineCheck));;var external_wp_keyboardShortcuts_namespaceObject=window["wp"]["keyboardShortcuts"];;function SaveShortcut(_ref){let{resetBlocksOnSave}=_ref;const{resetEditorBlocks,savePost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const{isEditedPostDirty,getPostEdits,isPostSavingLocked}=(0,external_wp_data_namespaceObject.useSelect)(store_store);(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/editor/save',event=>{event.preventDefault();if(isPostSavingLocked()){return;}
if(!isEditedPostDirty()){return;}
if(resetBlocksOnSave){const postEdits=getPostEdits();if(postEdits.content&&typeof postEdits.content==='string'){const blocks=(0,external_wp_blocks_namespaceObject.parse)(postEdits.content);resetEditorBlocks(blocks);}}
savePost();});return null;}
var save_shortcut=(SaveShortcut);;function VisualEditorGlobalKeyboardShortcuts(){const{redo,undo}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/editor/undo',event=>{undo();event.preventDefault();});(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/editor/redo',event=>{redo();event.preventDefault();});return(0,external_wp_element_namespaceObject.createElement)(save_shortcut,null);}
var visual_editor_shortcuts=(VisualEditorGlobalKeyboardShortcuts);;function TextEditorGlobalKeyboardShortcuts(){return(0,external_wp_element_namespaceObject.createElement)(save_shortcut,{resetBlocksOnSave:true});};function EditorKeyboardShortcutsRegister(){const{registerShortcut}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_keyboardShortcuts_namespaceObject.store);(0,external_wp_element_namespaceObject.useEffect)(()=>{registerShortcut({name:'core/editor/save',category:'global',description:(0,external_wp_i18n_namespaceObject.__)('Save your changes.'),keyCombination:{modifier:'primary',character:'s'}});registerShortcut({name:'core/editor/undo',category:'global',description:(0,external_wp_i18n_namespaceObject.__)('Undo your last changes.'),keyCombination:{modifier:'primary',character:'z'}});registerShortcut({name:'core/editor/redo',category:'global',description:(0,external_wp_i18n_namespaceObject.__)('Redo your last undo.'),keyCombination:{modifier:'primaryShift',character:'z'}});},[registerShortcut]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockEditorKeyboardShortcuts.Register,null);}
var register_shortcuts=(EditorKeyboardShortcutsRegister);;var external_wp_components_namespaceObject=window["wp"]["components"];;var external_wp_keycodes_namespaceObject=window["wp"]["keycodes"];;const redo_redo=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"}));var library_redo=(redo_redo);;const undo_undo=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));var library_undo=(undo_undo);;function EditorHistoryRedo(props,ref){const hasRedo=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store_store).hasEditorRedo(),[]);const{redo}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({},props,{ref:ref,icon:!(0,external_wp_i18n_namespaceObject.isRTL)()?library_redo:library_undo,label:(0,external_wp_i18n_namespaceObject.__)('Redo'),shortcut:external_wp_keycodes_namespaceObject.displayShortcut.primaryShift('z'),"aria-disabled":!hasRedo,onClick:hasRedo?redo:undefined,className:"editor-history__redo"}));}
var editor_history_redo=((0,external_wp_element_namespaceObject.forwardRef)(EditorHistoryRedo));;function EditorHistoryUndo(props,ref){const hasUndo=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store_store).hasEditorUndo(),[]);const{undo}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({},props,{ref:ref,icon:!(0,external_wp_i18n_namespaceObject.isRTL)()?library_undo:library_redo,label:(0,external_wp_i18n_namespaceObject.__)('Undo'),shortcut:external_wp_keycodes_namespaceObject.displayShortcut.primary('z'),"aria-disabled":!hasUndo,onClick:hasUndo?undo:undefined,className:"editor-history__undo"}));}
var editor_history_undo=((0,external_wp_element_namespaceObject.forwardRef)(EditorHistoryUndo));;function TemplateValidationNotice(_ref){let{isValid,...props}=_ref;if(isValid){return null;}
const confirmSynchronization=()=>{if(window.confirm((0,external_wp_i18n_namespaceObject.__)('Resetting the template may result in loss of content, do you want to continue?'))){props.synchronizeTemplate();}};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Notice,{className:"editor-template-validation-notice",isDismissible:false,status:"warning",actions:[{label:(0,external_wp_i18n_namespaceObject.__)('Keep it as is'),onClick:props.resetTemplateValidity},{label:(0,external_wp_i18n_namespaceObject.__)('Reset the template'),onClick:confirmSynchronization}]},(0,external_wp_i18n_namespaceObject.__)('The content of your post doesn’t match the template assigned to your post type.'));}
var template_validation_notice=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>({isValid:select(external_wp_blockEditor_namespaceObject.store).isValidTemplate()})),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>{const{setTemplateValidity,synchronizeTemplate}=dispatch(external_wp_blockEditor_namespaceObject.store);return{resetTemplateValidity:()=>setTemplateValidity(true),synchronizeTemplate};})])(TemplateValidationNotice));;function EditorNotices(_ref){let{notices,onRemove}=_ref;const dismissibleNotices=(0,external_lodash_namespaceObject.filter)(notices,{isDismissible:true,type:'default'});const nonDismissibleNotices=(0,external_lodash_namespaceObject.filter)(notices,{isDismissible:false,type:'default'});return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.NoticeList,{notices:nonDismissibleNotices,className:"components-editor-notices__pinned"}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.NoticeList,{notices:dismissibleNotices,className:"components-editor-notices__dismissible",onRemove:onRemove},(0,external_wp_element_namespaceObject.createElement)(template_validation_notice,null)));}
var editor_notices=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>({notices:select(external_wp_notices_namespaceObject.store).getNotices()})),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>({onRemove:dispatch(external_wp_notices_namespaceObject.store).removeNotice}))])(EditorNotices));;function EditorSnackbars(){const notices=(0,external_wp_data_namespaceObject.useSelect)(select=>select(external_wp_notices_namespaceObject.store).getNotices(),[]);const{removeNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const snackbarNotices=(0,external_lodash_namespaceObject.filter)(notices,{type:'snackbar'});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SnackbarList,{notices:snackbarNotices,className:"components-editor-notices__snackbar",onRemove:removeNotice});};var external_wp_htmlEntities_namespaceObject=window["wp"]["htmlEntities"];;function EntityRecordItem(_ref){let{record,checked,onChange,closePanel}=_ref;const{name,kind,title,key}=record;const parentBlockId=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _blocks$;const{blocks=[]}=select(external_wp_coreData_namespaceObject.store).getEditedEntityRecord(kind,name,key);const parents=select(external_wp_blockEditor_namespaceObject.store).getBlockParents((_blocks$=blocks[0])===null||_blocks$===void 0?void 0:_blocks$.clientId);return parents[parents.length-1];},[]);const entityRecordTitle=(0,external_wp_data_namespaceObject.useSelect)(select=>{if('postType'!==kind||'wp_template'!==name){return title;}
const template=select(external_wp_coreData_namespaceObject.store).getEditedEntityRecord(kind,name,key);return select(store_store).__experimentalGetTemplateInfo(template).title;},[name,kind,title,key]);const isSelected=(0,external_wp_data_namespaceObject.useSelect)(select=>{const selectedBlockId=select(external_wp_blockEditor_namespaceObject.store).getSelectedBlockClientId();return selectedBlockId===parentBlockId;},[parentBlockId]);const isSelectedText=isSelected?(0,external_wp_i18n_namespaceObject.__)('Selected'):(0,external_wp_i18n_namespaceObject.__)('Select');const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_blockEditor_namespaceObject.store);const selectParentBlock=(0,external_wp_element_namespaceObject.useCallback)(()=>selectBlock(parentBlockId),[parentBlockId]);const selectAndDismiss=(0,external_wp_element_namespaceObject.useCallback)(()=>{selectBlock(parentBlockId);closePanel();},[parentBlockId]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelRow,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{label:(0,external_wp_element_namespaceObject.createElement)("strong",null,(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(entityRecordTitle)||(0,external_wp_i18n_namespaceObject.__)('Untitled')),checked:checked,onChange:onChange}),parentBlockId?(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{onClick:selectParentBlock,className:"entities-saved-states__find-entity",disabled:isSelected},isSelectedText),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{onClick:selectAndDismiss,className:"entities-saved-states__find-entity-small",disabled:isSelected},isSelectedText)):null);};function getEntityDescription(entity,count){switch(entity){case 'site':return 1===count?(0,external_wp_i18n_namespaceObject.__)('This change will affect your whole site.'):(0,external_wp_i18n_namespaceObject.__)('These changes will affect your whole site.');case 'wp_template':return(0,external_wp_i18n_namespaceObject.__)('This change will affect pages and posts that use this template.');case 'page':case 'post':return(0,external_wp_i18n_namespaceObject.__)('The following content has been modified.');}}
function EntityTypeList(_ref){let{list,unselectedEntities,setUnselectedEntities,closePanel}=_ref;const count=list.length;const firstRecord=list[0];const entityConfig=(0,external_wp_data_namespaceObject.useSelect)(select=>select(external_wp_coreData_namespaceObject.store).getEntityConfig(firstRecord.kind,firstRecord.name),[firstRecord.kind,firstRecord.name]);const{name}=firstRecord;let entityLabel=entityConfig.label;if(name==='wp_template_part'){entityLabel=1===count?(0,external_wp_i18n_namespaceObject.__)('Template Part'):(0,external_wp_i18n_namespaceObject.__)('Template Parts');}
const description=getEntityDescription(name,count);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{title:entityLabel,initialOpen:true},description&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelRow,null,description),list.map(record=>{return(0,external_wp_element_namespaceObject.createElement)(EntityRecordItem,{key:record.key||record.property,record:record,checked:!(0,external_lodash_namespaceObject.some)(unselectedEntities,elt=>elt.kind===record.kind&&elt.name===record.name&&elt.key===record.key&&elt.property===record.property),onChange:value=>setUnselectedEntities(record,value),closePanel:closePanel});}));};const TRANSLATED_SITE_PROPERTIES={title:(0,external_wp_i18n_namespaceObject.__)('Title'),description:(0,external_wp_i18n_namespaceObject.__)('Tagline'),site_logo:(0,external_wp_i18n_namespaceObject.__)('Logo'),site_icon:(0,external_wp_i18n_namespaceObject.__)('Icon'),show_on_front:(0,external_wp_i18n_namespaceObject.__)('Show on front'),page_on_front:(0,external_wp_i18n_namespaceObject.__)('Page on front')};const PUBLISH_ON_SAVE_ENTITIES=[{kind:'postType',name:'wp_navigation'}];function EntitiesSavedStates(_ref){let{close}=_ref;const saveButtonRef=(0,external_wp_element_namespaceObject.useRef)();const{dirtyEntityRecords}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const dirtyRecords=select(external_wp_coreData_namespaceObject.store).__experimentalGetDirtyEntityRecords();const dirtyRecordsWithoutSite=dirtyRecords.filter(record=>!(record.kind==='root'&&record.name==='site'));const siteEdits=select(external_wp_coreData_namespaceObject.store).getEntityRecordEdits('root','site');const siteEditsAsEntities=[];for(const property in siteEdits){siteEditsAsEntities.push({kind:'root',name:'site',title:TRANSLATED_SITE_PROPERTIES[property]||property,property});}
const dirtyRecordsWithSiteItems=[...dirtyRecordsWithoutSite,...siteEditsAsEntities];return{dirtyEntityRecords:dirtyRecordsWithSiteItems};},[]);const{editEntityRecord,saveEditedEntityRecord,__experimentalSaveSpecifiedEntityEdits:saveSpecifiedEntityEdits}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_coreData_namespaceObject.store);const{__unstableMarkLastChangeAsPersistent}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_blockEditor_namespaceObject.store);const{createSuccessNotice,createErrorNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const partitionedSavables=(0,external_lodash_namespaceObject.groupBy)(dirtyEntityRecords,'name');const{site:siteSavables,wp_template:templateSavables,wp_template_part:templatePartSavables,...contentSavables}=partitionedSavables;const sortedPartitionedSavables=[siteSavables,templateSavables,templatePartSavables,...Object.values(contentSavables)].filter(Array.isArray);const[unselectedEntities,_setUnselectedEntities]=(0,external_wp_element_namespaceObject.useState)([]);const setUnselectedEntities=(_ref2,checked)=>{let{kind,name,key,property}=_ref2;if(checked){_setUnselectedEntities(unselectedEntities.filter(elt=>elt.kind!==kind||elt.name!==name||elt.key!==key||elt.property!==property));}else{_setUnselectedEntities([...unselectedEntities,{kind,name,key,property}]);}};const saveCheckedEntities=()=>{const entitiesToSave=dirtyEntityRecords.filter(_ref3=>{let{kind,name,key,property}=_ref3;return!(0,external_lodash_namespaceObject.some)(unselectedEntities,elt=>elt.kind===kind&&elt.name===name&&elt.key===key&&elt.property===property);});close(entitiesToSave);const siteItemsToSave=[];const pendingSavedRecords=[];entitiesToSave.forEach(_ref4=>{let{kind,name,key,property}=_ref4;if('root'===kind&&'site'===name){siteItemsToSave.push(property);}else{if(PUBLISH_ON_SAVE_ENTITIES.some(typeToPublish=>typeToPublish.kind===kind&&typeToPublish.name===name)){editEntityRecord(kind,name,key,{status:'publish'});}
pendingSavedRecords.push(saveEditedEntityRecord(kind,name,key));}});if(siteItemsToSave.length){pendingSavedRecords.push(saveSpecifiedEntityEdits('root','site',undefined,siteItemsToSave));}
__unstableMarkLastChangeAsPersistent();Promise.all(pendingSavedRecords).then(values=>{if(values.some(value=>typeof value==='undefined')){createErrorNotice((0,external_wp_i18n_namespaceObject.__)('Saving failed.'));}else{createSuccessNotice((0,external_wp_i18n_namespaceObject.__)('Site updated.'),{type:'snackbar'});}}).catch(error=>createErrorNotice(`${(0,external_wp_i18n_namespaceObject.__)('Saving failed.')} ${error}`));};const dismissPanel=(0,external_wp_element_namespaceObject.useCallback)(()=>close(),[close]);const[saveDialogRef,saveDialogProps]=(0,external_wp_compose_namespaceObject.__experimentalUseDialog)({onClose:()=>dismissPanel()});return(0,external_wp_element_namespaceObject.createElement)("div",_extends({ref:saveDialogRef},saveDialogProps,{className:"entities-saved-states__panel"}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Flex,{className:"entities-saved-states__panel-header",gap:2},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,{isBlock:true,as:external_wp_components_namespaceObject.Button,ref:saveButtonRef,variant:"primary",disabled:dirtyEntityRecords.length-unselectedEntities.length===0,onClick:saveCheckedEntities,className:"editor-entities-saved-states__save-button"},(0,external_wp_i18n_namespaceObject.__)('Save')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,{isBlock:true,as:external_wp_components_namespaceObject.Button,variant:"secondary",onClick:dismissPanel},(0,external_wp_i18n_namespaceObject.__)('Cancel'))),(0,external_wp_element_namespaceObject.createElement)("div",{className:"entities-saved-states__text-prompt"},(0,external_wp_element_namespaceObject.createElement)("strong",null,(0,external_wp_i18n_namespaceObject.__)('Are you ready to save?')),(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_i18n_namespaceObject.__)('The following changes have been made to your site, templates, and content.'))),sortedPartitionedSavables.map(list=>{return(0,external_wp_element_namespaceObject.createElement)(EntityTypeList,{key:list[0].name,list:list,closePanel:dismissPanel,unselectedEntities:unselectedEntities,setUnselectedEntities:setUnselectedEntities});}));};function CopyButton(_ref){let{text,children}=_ref;const ref=(0,external_wp_compose_namespaceObject.useCopyToClipboard)(text);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"secondary",ref:ref},children);}
class ErrorBoundary extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.reboot=this.reboot.bind(this);this.getContent=this.getContent.bind(this);this.state={error:null};}
componentDidCatch(error){this.setState({error});}
reboot(){this.props.onError();}
getContent(){try{return(0,external_wp_data_namespaceObject.select)(store_store).getEditedPostContent();}catch(error){}}
render(){const{error}=this.state;if(!error){return this.props.children;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.Warning,{className:"editor-error-boundary",actions:[(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:"recovery",onClick:this.reboot,variant:"secondary"},(0,external_wp_i18n_namespaceObject.__)('Attempt Recovery')),(0,external_wp_element_namespaceObject.createElement)(CopyButton,{key:"copy-post",text:this.getContent},(0,external_wp_i18n_namespaceObject.__)('Copy Post Text')),(0,external_wp_element_namespaceObject.createElement)(CopyButton,{key:"copy-error",text:error.stack},(0,external_wp_i18n_namespaceObject.__)('Copy Error'))]},(0,external_wp_i18n_namespaceObject.__)('The editor has encountered an unexpected error.'));}}
var error_boundary=(ErrorBoundary);;const requestIdleCallback=window.requestIdleCallback?window.requestIdleCallback:window.requestAnimationFrame;const hasSessionStorageSupport=(0,external_lodash_namespaceObject.once)(()=>{try{window.sessionStorage.setItem('__wpEditorTestSessionStorage','');window.sessionStorage.removeItem('__wpEditorTestSessionStorage');return true;}catch(error){return false;}});function useAutosaveNotice(){const{postId,isEditedPostNew,hasRemoteAutosave}=(0,external_wp_data_namespaceObject.useSelect)(select=>({postId:select(store_store).getCurrentPostId(),isEditedPostNew:select(store_store).isEditedPostNew(),hasRemoteAutosave:!!select(store_store).getEditorSettings().autosave}),[]);const{getEditedPostAttribute}=(0,external_wp_data_namespaceObject.useSelect)(store_store);const{createWarningNotice,removeNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const{editPost,resetEditorBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);(0,external_wp_element_namespaceObject.useEffect)(()=>{let localAutosave=localAutosaveGet(postId,isEditedPostNew);if(!localAutosave){return;}
try{localAutosave=JSON.parse(localAutosave);}catch(error){return;}
const{post_title:title,content,excerpt}=localAutosave;const edits={title,content,excerpt};{const hasDifference=Object.keys(edits).some(key=>{return edits[key]!==getEditedPostAttribute(key);});if(!hasDifference){localAutosaveClear(postId,isEditedPostNew);return;}}
if(hasRemoteAutosave){return;}
const noticeId=(0,external_lodash_namespaceObject.uniqueId)('wpEditorAutosaveRestore');createWarningNotice((0,external_wp_i18n_namespaceObject.__)('The backup of this post in your browser is different from the version below.'),{id:noticeId,actions:[{label:(0,external_wp_i18n_namespaceObject.__)('Restore the backup'),onClick(){editPost((0,external_lodash_namespaceObject.omit)(edits,['content']));resetEditorBlocks((0,external_wp_blocks_namespaceObject.parse)(edits.content));removeNotice(noticeId);}}]});},[isEditedPostNew,postId]);}
function useAutosavePurge(){const{postId,isEditedPostNew,isDirty,isAutosaving,didError}=(0,external_wp_data_namespaceObject.useSelect)(select=>({postId:select(store_store).getCurrentPostId(),isEditedPostNew:select(store_store).isEditedPostNew(),isDirty:select(store_store).isEditedPostDirty(),isAutosaving:select(store_store).isAutosavingPost(),didError:select(store_store).didPostSaveRequestFail()}),[]);const lastIsDirty=(0,external_wp_element_namespaceObject.useRef)(isDirty);const lastIsAutosaving=(0,external_wp_element_namespaceObject.useRef)(isAutosaving);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!didError&&(lastIsAutosaving.current&&!isAutosaving||lastIsDirty.current&&!isDirty)){localAutosaveClear(postId,isEditedPostNew);}
lastIsDirty.current=isDirty;lastIsAutosaving.current=isAutosaving;},[isDirty,isAutosaving,didError]);const wasEditedPostNew=(0,external_wp_compose_namespaceObject.usePrevious)(isEditedPostNew);const prevPostId=(0,external_wp_compose_namespaceObject.usePrevious)(postId);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(prevPostId===postId&&wasEditedPostNew&&!isEditedPostNew){localAutosaveClear(postId,true);}},[isEditedPostNew,postId]);}
function LocalAutosaveMonitor(){const{autosave}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const deferredAutosave=(0,external_wp_element_namespaceObject.useCallback)(()=>{requestIdleCallback(()=>autosave({local:true}));},[]);useAutosaveNotice();useAutosavePurge();const{localAutosaveInterval}=(0,external_wp_data_namespaceObject.useSelect)(select=>({localAutosaveInterval:select(store_store).getEditorSettings().localAutosaveInterval}),[]);return(0,external_wp_element_namespaceObject.createElement)(autosave_monitor,{interval:localAutosaveInterval,autosave:deferredAutosave});}
var local_autosave_monitor=((0,external_wp_compose_namespaceObject.ifCondition)(hasSessionStorageSupport)(LocalAutosaveMonitor));;function PageAttributesCheck(_ref){let{children}=_ref;const postType=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getEditedPostAttribute}=select(store_store);const{getPostType}=select(external_wp_coreData_namespaceObject.store);return getPostType(getEditedPostAttribute('type'));},[]);const supportsPageAttributes=(0,external_lodash_namespaceObject.get)(postType,['supports','page-attributes'],false);if(!supportsPageAttributes){return null;}
return children;}
var page_attributes_check=(PageAttributesCheck);;function PostTypeSupportCheck(_ref){let{postType,children,supportKeys}=_ref;let isSupported=true;if(postType){isSupported=(0,external_lodash_namespaceObject.some)((0,external_lodash_namespaceObject.castArray)(supportKeys),key=>!!postType.supports[key]);}
if(!isSupported){return null;}
return children;}
var post_type_support_check=((0,external_wp_data_namespaceObject.withSelect)(select=>{const{getEditedPostAttribute}=select(store_store);const{getPostType}=select(external_wp_coreData_namespaceObject.store);return{postType:getPostType(getEditedPostAttribute('type'))};})(PostTypeSupportCheck));;const PageAttributesOrder=_ref=>{let{onUpdateOrder,order=0}=_ref;const[orderInput,setOrderInput]=(0,external_wp_element_namespaceObject.useState)(null);const setUpdatedOrder=value=>{setOrderInput(value);const newOrder=Number(value);if(Number.isInteger(newOrder)&&(0,external_lodash_namespaceObject.invoke)(value,['trim'])!==''){onUpdateOrder(Number(value));}};const value=orderInput===null?order:orderInput;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{className:"editor-page-attributes__order",type:"number",label:(0,external_wp_i18n_namespaceObject.__)('Order'),value:value,onChange:setUpdatedOrder,size:6,onBlur:()=>{setOrderInput(null);}});};function PageAttributesOrderWithChecks(props){return(0,external_wp_element_namespaceObject.createElement)(post_type_support_check,{supportKeys:"page-attributes"},(0,external_wp_element_namespaceObject.createElement)(PageAttributesOrder,props));}
var order=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{return{order:select(store_store).getEditedPostAttribute('menu_order')};}),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>({onUpdateOrder(order){dispatch(store_store).editPost({menu_order:order});}}))])(PageAttributesOrderWithChecks));;function buildTermsTree(flatTerms){const flatTermsWithParentAndChildren=flatTerms.map(term=>{return{children:[],parent:null,...term};});const termsByParent=(0,external_lodash_namespaceObject.groupBy)(flatTermsWithParentAndChildren,'parent');if(termsByParent.null&&termsByParent.null.length){return flatTermsWithParentAndChildren;}
const fillWithChildren=terms=>{return terms.map(term=>{const children=termsByParent[term.id];return{...term,children:children&&children.length?fillWithChildren(children):[]};});};return fillWithChildren(termsByParent['0']||[]);}
const unescapeString=arg=>{return(0,external_lodash_namespaceObject.unescape)(arg.replace('&#039;',"'"));};const unescapeTerm=term=>{return{...term,name:unescapeString(term.name)};};const unescapeTerms=terms=>{return(0,external_lodash_namespaceObject.map)(terms,unescapeTerm);};;function getTitle(post){var _post$title;return post!==null&&post!==void 0&&(_post$title=post.title)!==null&&_post$title!==void 0&&_post$title.rendered?(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(post.title.rendered):`#${post.id} (${(0,external_wp_i18n_namespaceObject.__)('no title')})`;}
const getItemPriority=(name,searchValue)=>{const normalizedName=(0,external_lodash_namespaceObject.deburr)(name).toLowerCase();const normalizedSearch=(0,external_lodash_namespaceObject.deburr)(searchValue).toLowerCase();if(normalizedName===normalizedSearch){return 0;}
if(normalizedName.startsWith(normalizedSearch)){return normalizedName.length;}
return Infinity;};function PageAttributesParent(){const{editPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const[fieldValue,setFieldValue]=(0,external_wp_element_namespaceObject.useState)(false);const{parentPost,parentPostId,items,postType}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getPostType,getEntityRecords,getEntityRecord}=select(external_wp_coreData_namespaceObject.store);const{getCurrentPostId,getEditedPostAttribute}=select(store_store);const postTypeSlug=getEditedPostAttribute('type');const pageId=getEditedPostAttribute('parent');const pType=getPostType(postTypeSlug);const postId=getCurrentPostId();const isHierarchical=(0,external_lodash_namespaceObject.get)(pType,['hierarchical'],false);const query={per_page:100,exclude:postId,parent_exclude:postId,orderby:'menu_order',order:'asc',_fields:'id,title,parent'};if(!!fieldValue){query.search=fieldValue;}
return{parentPostId:pageId,parentPost:pageId?getEntityRecord('postType',postTypeSlug,pageId):null,items:isHierarchical?getEntityRecords('postType',postTypeSlug,query):[],postType:pType};},[fieldValue]);const isHierarchical=(0,external_lodash_namespaceObject.get)(postType,['hierarchical'],false);const parentPageLabel=(0,external_lodash_namespaceObject.get)(postType,['labels','parent_item_colon']);const pageItems=items||[];const parentOptions=(0,external_wp_element_namespaceObject.useMemo)(()=>{const getOptionsFromTree=function(tree){let level=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const mappedNodes=tree.map(treeNode=>[{value:treeNode.id,label:(0,external_lodash_namespaceObject.repeat)('— ',level)+(0,external_lodash_namespaceObject.unescape)(treeNode.name),rawName:treeNode.name},...getOptionsFromTree(treeNode.children||[],level+1)]);const sortedNodes=mappedNodes.sort((_ref,_ref2)=>{let[a]=_ref;let[b]=_ref2;const priorityA=getItemPriority(a.rawName,fieldValue);const priorityB=getItemPriority(b.rawName,fieldValue);return priorityA>=priorityB?1:-1;});return(0,external_lodash_namespaceObject.flatten)(sortedNodes);};let tree=pageItems.map(item=>({id:item.id,parent:item.parent,name:getTitle(item)}));if(!fieldValue){tree=buildTermsTree(tree);}
const opts=getOptionsFromTree(tree);const optsHasParent=(0,external_lodash_namespaceObject.find)(opts,item=>item.value===parentPostId);if(parentPost&&!optsHasParent){opts.unshift({value:parentPostId,label:getTitle(parentPost)});}
return opts;},[pageItems,fieldValue]);if(!isHierarchical||!parentPageLabel){return null;}
const handleKeydown=inputValue=>{setFieldValue(inputValue);};const handleChange=selectedPostId=>{editPost({parent:selectedPostId});};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ComboboxControl,{className:"editor-page-attributes__parent",label:parentPageLabel,value:parentPostId,options:parentOptions,onFilterValueChange:(0,external_lodash_namespaceObject.debounce)(handleKeydown,300),onChange:handleChange});}
var page_attributes_parent=(PageAttributesParent);;function PostTemplate(_ref){let{}=_ref;const{availableTemplates,selectedTemplate,isViewable}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getPostType$viewable,_getPostType;const{getEditedPostAttribute,getEditorSettings,getCurrentPostType}=select(store_store);const{getPostType}=select(external_wp_coreData_namespaceObject.store);return{selectedTemplate:getEditedPostAttribute('template'),availableTemplates:getEditorSettings().availableTemplates,isViewable:(_getPostType$viewable=(_getPostType=getPostType(getCurrentPostType()))===null||_getPostType===void 0?void 0:_getPostType.viewable)!==null&&_getPostType$viewable!==void 0?_getPostType$viewable:false};},[]);const{editPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);if(!isViewable||(0,external_lodash_namespaceObject.isEmpty)(availableTemplates)){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SelectControl,{label:(0,external_wp_i18n_namespaceObject.__)('Template:'),value:selectedTemplate,onChange:templateSlug=>{editPost({template:templateSlug||''});},options:(0,external_lodash_namespaceObject.map)(availableTemplates,(templateName,templateSlug)=>({value:templateSlug,label:templateName}))});}
var post_template=(PostTemplate);;const AUTHORS_QUERY={who:'authors',per_page:50,_fields:'id,name',context:'view'};;function PostAuthorCombobox(){const[fieldValue,setFieldValue]=(0,external_wp_element_namespaceObject.useState)();const{authorId,isLoading,authors,postAuthor}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getUser,getUsers,isResolving}=select(external_wp_coreData_namespaceObject.store);const{getEditedPostAttribute}=select(store_store);const author=getUser(getEditedPostAttribute('author'),{context:'view'});const query={...AUTHORS_QUERY};if(fieldValue){query.search=fieldValue;}
return{authorId:getEditedPostAttribute('author'),postAuthor:author,authors:getUsers(query),isLoading:isResolving('core','getUsers',[query])};},[fieldValue]);const{editPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const authorOptions=(0,external_wp_element_namespaceObject.useMemo)(()=>{const fetchedAuthors=(authors!==null&&authors!==void 0?authors:[]).map(author=>{return{value:author.id,label:(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(author.name)};});const foundAuthor=fetchedAuthors.findIndex(_ref=>{let{value}=_ref;return(postAuthor===null||postAuthor===void 0?void 0:postAuthor.id)===value;});if(foundAuthor<0&&postAuthor){return[{value:postAuthor.id,label:(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(postAuthor.name)},...fetchedAuthors];}
return fetchedAuthors;},[authors,postAuthor]);const handleSelect=postAuthorId=>{if(!postAuthorId){return;}
editPost({author:postAuthorId});};const handleKeydown=inputValue=>{setFieldValue(inputValue);};if(!postAuthor){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ComboboxControl,{label:(0,external_wp_i18n_namespaceObject.__)('Author'),options:authorOptions,value:authorId,onFilterValueChange:(0,external_lodash_namespaceObject.debounce)(handleKeydown,300),onChange:handleSelect,isLoading:isLoading,allowReset:false});}
var combobox=(PostAuthorCombobox);;function PostAuthorSelect(){const{editPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const{postAuthor,authors}=(0,external_wp_data_namespaceObject.useSelect)(select=>{return{postAuthor:select(store_store).getEditedPostAttribute('author'),authors:select(external_wp_coreData_namespaceObject.store).getUsers(AUTHORS_QUERY)};},[]);const authorOptions=(0,external_wp_element_namespaceObject.useMemo)(()=>{return(authors!==null&&authors!==void 0?authors:[]).map(author=>{return{value:author.id,label:(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(author.name)};});},[authors]);const setAuthorId=value=>{const author=Number(value);editPost({author});};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SelectControl,{className:"post-author-selector",label:(0,external_wp_i18n_namespaceObject.__)('Author'),options:authorOptions,onChange:setAuthorId,value:postAuthor});}
var post_author_select=(PostAuthorSelect);;const minimumUsersForCombobox=25;function PostAuthor(){const showCombobox=(0,external_wp_data_namespaceObject.useSelect)(select=>{const authors=select(external_wp_coreData_namespaceObject.store).getUsers(AUTHORS_QUERY);return(authors===null||authors===void 0?void 0:authors.length)>=minimumUsersForCombobox;},[]);if(showCombobox){return(0,external_wp_element_namespaceObject.createElement)(combobox,null);}
return(0,external_wp_element_namespaceObject.createElement)(post_author_select,null);}
var post_author=(PostAuthor);;function PostAuthorCheck(_ref){let{children}=_ref;const{hasAssignAuthorAction,hasAuthors}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const post=select(store_store).getCurrentPost();const authors=select(external_wp_coreData_namespaceObject.store).getUsers(AUTHORS_QUERY);return{hasAssignAuthorAction:(0,external_lodash_namespaceObject.get)(post,['_links','wp:action-assign-author'],false),hasAuthors:(authors===null||authors===void 0?void 0:authors.length)>=1};},[]);if(!hasAssignAuthorAction||!hasAuthors){return null;}
return(0,external_wp_element_namespaceObject.createElement)(post_type_support_check,{supportKeys:"author"},children);};function PostComments(_ref){let{commentStatus='open',...props}=_ref;const onToggleComments=()=>props.editPost({comment_status:commentStatus==='open'?'closed':'open'});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{label:(0,external_wp_i18n_namespaceObject.__)('Allow comments'),checked:commentStatus==='open',onChange:onToggleComments});}
var post_comments=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{return{commentStatus:select(store_store).getEditedPostAttribute('comment_status')};}),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>({editPost:dispatch(store_store).editPost}))])(PostComments));;function PostExcerpt(_ref){let{excerpt,onUpdateExcerpt}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-excerpt"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextareaControl,{label:(0,external_wp_i18n_namespaceObject.__)('Write an excerpt (optional)'),className:"editor-post-excerpt__textarea",onChange:value=>onUpdateExcerpt(value),value:excerpt}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ExternalLink,{href:(0,external_wp_i18n_namespaceObject.__)('https://wordpress.org/support/article/settings-sidebar/#excerpt')},(0,external_wp_i18n_namespaceObject.__)('Learn more about manual excerpts')));}
var post_excerpt=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{return{excerpt:select(store_store).getEditedPostAttribute('excerpt')};}),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>({onUpdateExcerpt(excerpt){dispatch(store_store).editPost({excerpt});}}))])(PostExcerpt));;function PostExcerptCheck(props){return(0,external_wp_element_namespaceObject.createElement)(post_type_support_check,_extends({},props,{supportKeys:"excerpt"}));}
var post_excerpt_check=(PostExcerptCheck);;function ThemeSupportCheck(_ref){let{themeSupports,children,postType,supportKeys}=_ref;const isSupported=(0,external_lodash_namespaceObject.some)((0,external_lodash_namespaceObject.castArray)(supportKeys),key=>{const supported=(0,external_lodash_namespaceObject.get)(themeSupports,[key],false);if('post-thumbnails'===key&&(0,external_lodash_namespaceObject.isArray)(supported)){return(0,external_lodash_namespaceObject.includes)(supported,postType);}
return supported;});if(!isSupported){return null;}
return children;}
var theme_support_check=((0,external_wp_data_namespaceObject.withSelect)(select=>{const{getThemeSupports}=select(external_wp_coreData_namespaceObject.store);const{getEditedPostAttribute}=select(store_store);return{postType:getEditedPostAttribute('type'),themeSupports:getThemeSupports()};})(ThemeSupportCheck));;function PostFeaturedImageCheck(props){return(0,external_wp_element_namespaceObject.createElement)(theme_support_check,{supportKeys:"post-thumbnails"},(0,external_wp_element_namespaceObject.createElement)(post_type_support_check,_extends({},props,{supportKeys:"thumbnail"})));}
var post_featured_image_check=(PostFeaturedImageCheck);;const ALLOWED_MEDIA_TYPES=['image'];const DEFAULT_FEATURE_IMAGE_LABEL=(0,external_wp_i18n_namespaceObject.__)('Featured image');const DEFAULT_SET_FEATURE_IMAGE_LABEL=(0,external_wp_i18n_namespaceObject.__)('Set featured image');const DEFAULT_REMOVE_FEATURE_IMAGE_LABEL=(0,external_wp_i18n_namespaceObject.__)('Remove image');function PostFeaturedImage(_ref){var _media$media_details$,_media$media_details$2;let{currentPostId,featuredImageId,onUpdateImage,onDropImage,onRemoveImage,media,postType,noticeUI}=_ref;const postLabel=(0,external_lodash_namespaceObject.get)(postType,['labels'],{});const instructions=(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_i18n_namespaceObject.__)('To edit the featured image, you need permission to upload media.'));let mediaWidth,mediaHeight,mediaSourceUrl;if(media){const mediaSize=(0,external_wp_hooks_namespaceObject.applyFilters)('editor.PostFeaturedImage.imageSize','post-thumbnail',media.id,currentPostId);if((0,external_lodash_namespaceObject.has)(media,['media_details','sizes',mediaSize])){mediaWidth=media.media_details.sizes[mediaSize].width;mediaHeight=media.media_details.sizes[mediaSize].height;mediaSourceUrl=media.media_details.sizes[mediaSize].source_url;}else{const fallbackMediaSize=(0,external_wp_hooks_namespaceObject.applyFilters)('editor.PostFeaturedImage.imageSize','thumbnail',media.id,currentPostId);if((0,external_lodash_namespaceObject.has)(media,['media_details','sizes',fallbackMediaSize])){mediaWidth=media.media_details.sizes[fallbackMediaSize].width;mediaHeight=media.media_details.sizes[fallbackMediaSize].height;mediaSourceUrl=media.media_details.sizes[fallbackMediaSize].source_url;}else{mediaWidth=media.media_details.width;mediaHeight=media.media_details.height;mediaSourceUrl=media.source_url;}}}
return(0,external_wp_element_namespaceObject.createElement)(post_featured_image_check,null,noticeUI,(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-featured-image"},media&&(0,external_wp_element_namespaceObject.createElement)("div",{id:`editor-post-featured-image-${featuredImageId}-describedby`,className:"hidden"},media.alt_text&&(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Current image: %s'),media.alt_text),!media.alt_text&&(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('The current image has no alternative text. The file name is: %s'),((_media$media_details$=media.media_details.sizes)===null||_media$media_details$===void 0?void 0:(_media$media_details$2=_media$media_details$.full)===null||_media$media_details$2===void 0?void 0:_media$media_details$2.file)||media.slug)),(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.MediaUploadCheck,{fallback:instructions},(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.MediaUpload,{title:postLabel.featured_image||DEFAULT_FEATURE_IMAGE_LABEL,onSelect:onUpdateImage,unstableFeaturedImageFlow:true,allowedTypes:ALLOWED_MEDIA_TYPES,modalClass:"editor-post-featured-image__media-modal",render:_ref2=>{let{open}=_ref2;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-featured-image__container"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:!featuredImageId?'editor-post-featured-image__toggle':'editor-post-featured-image__preview',onClick:open,"aria-label":!featuredImageId?null:(0,external_wp_i18n_namespaceObject.__)('Edit or update the image'),"aria-describedby":!featuredImageId?null:`editor-post-featured-image-${featuredImageId}-describedby`},!!featuredImageId&&media&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ResponsiveWrapper,{naturalWidth:mediaWidth,naturalHeight:mediaHeight,isInline:true},(0,external_wp_element_namespaceObject.createElement)("img",{src:mediaSourceUrl,alt:""})),!!featuredImageId&&!media&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Spinner,null),!featuredImageId&&(postLabel.set_featured_image||DEFAULT_SET_FEATURE_IMAGE_LABEL)),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DropZone,{onFilesDrop:onDropImage}));},value:featuredImageId})),!!featuredImageId&&media&&!media.isLoading&&(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.MediaUploadCheck,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.MediaUpload,{title:postLabel.featured_image||DEFAULT_FEATURE_IMAGE_LABEL,onSelect:onUpdateImage,unstableFeaturedImageFlow:true,allowedTypes:ALLOWED_MEDIA_TYPES,modalClass:"editor-post-featured-image__media-modal",render:_ref3=>{let{open}=_ref3;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{onClick:open,variant:"secondary"},(0,external_wp_i18n_namespaceObject.__)('Replace Image'));}})),!!featuredImageId&&(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.MediaUploadCheck,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{onClick:onRemoveImage,variant:"link",isDestructive:true},postLabel.remove_featured_image||DEFAULT_REMOVE_FEATURE_IMAGE_LABEL))));}
const applyWithSelect=(0,external_wp_data_namespaceObject.withSelect)(select=>{const{getMedia,getPostType}=select(external_wp_coreData_namespaceObject.store);const{getCurrentPostId,getEditedPostAttribute}=select(store_store);const featuredImageId=getEditedPostAttribute('featured_media');return{media:featuredImageId?getMedia(featuredImageId,{context:'view'}):null,currentPostId:getCurrentPostId(),postType:getPostType(getEditedPostAttribute('type')),featuredImageId};});const applyWithDispatch=(0,external_wp_data_namespaceObject.withDispatch)((dispatch,_ref4,_ref5)=>{let{noticeOperations}=_ref4;let{select}=_ref5;const{editPost}=dispatch(store_store);return{onUpdateImage(image){editPost({featured_media:image.id});},onDropImage(filesList){select(external_wp_blockEditor_namespaceObject.store).getSettings().mediaUpload({allowedTypes:['image'],filesList,onFileChange(_ref6){let[image]=_ref6;editPost({featured_media:image.id});},onError(message){noticeOperations.removeAllNotices();noticeOperations.createErrorNotice(message);}});},onRemoveImage(){editPost({featured_media:0});}};});var post_featured_image=((0,external_wp_compose_namespaceObject.compose)(external_wp_components_namespaceObject.withNotices,applyWithSelect,applyWithDispatch,(0,external_wp_components_namespaceObject.withFilters)('editor.PostFeaturedImage'))(PostFeaturedImage));;function PostFormatCheck(_ref){let{disablePostFormats,...props}=_ref;return!disablePostFormats&&(0,external_wp_element_namespaceObject.createElement)(post_type_support_check,_extends({},props,{supportKeys:"post-formats"}));}
var post_format_check=((0,external_wp_data_namespaceObject.withSelect)(select=>{const editorSettings=select(store_store).getEditorSettings();return{disablePostFormats:editorSettings.disablePostFormats};})(PostFormatCheck));;const POST_FORMATS=[{id:'aside',caption:(0,external_wp_i18n_namespaceObject.__)('Aside')},{id:'audio',caption:(0,external_wp_i18n_namespaceObject.__)('Audio')},{id:'chat',caption:(0,external_wp_i18n_namespaceObject.__)('Chat')},{id:'gallery',caption:(0,external_wp_i18n_namespaceObject.__)('Gallery')},{id:'image',caption:(0,external_wp_i18n_namespaceObject.__)('Image')},{id:'link',caption:(0,external_wp_i18n_namespaceObject.__)('Link')},{id:'quote',caption:(0,external_wp_i18n_namespaceObject.__)('Quote')},{id:'standard',caption:(0,external_wp_i18n_namespaceObject.__)('Standard')},{id:'status',caption:(0,external_wp_i18n_namespaceObject.__)('Status')},{id:'video',caption:(0,external_wp_i18n_namespaceObject.__)('Video')}].sort((a,b)=>{const normalizedA=a.caption.toUpperCase();const normalizedB=b.caption.toUpperCase();if(normalizedA<normalizedB){return-1;}
if(normalizedA>normalizedB){return 1;}
return 0;});function PostFormat(){const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(PostFormat);const postFormatSelectorId=`post-format-selector-${instanceId}`;const{postFormat,suggestedFormat,supportedFormats}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getEditedPostAttribute,getSuggestedPostFormat}=select(store_store);const _postFormat=getEditedPostAttribute('format');const themeSupports=select(external_wp_coreData_namespaceObject.store).getThemeSupports();return{postFormat:_postFormat!==null&&_postFormat!==void 0?_postFormat:'standard',suggestedFormat:getSuggestedPostFormat(),supportedFormats:themeSupports.formats};},[]);const formats=POST_FORMATS.filter(format=>{return(0,external_lodash_namespaceObject.includes)(supportedFormats,format.id)||postFormat===format.id;});const suggestion=(0,external_lodash_namespaceObject.find)(formats,format=>format.id===suggestedFormat);const{editPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const onUpdatePostFormat=format=>editPost({format});return(0,external_wp_element_namespaceObject.createElement)(post_format_check,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-format"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-format__content"},(0,external_wp_element_namespaceObject.createElement)("label",{htmlFor:postFormatSelectorId},(0,external_wp_i18n_namespaceObject.__)('Post Format')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SelectControl,{value:postFormat,onChange:format=>onUpdatePostFormat(format),id:postFormatSelectorId,options:formats.map(format=>({label:format.caption,value:format.id}))})),suggestion&&suggestion.id!==postFormat&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-format__suggestion"},(0,external_wp_i18n_namespaceObject.__)('Suggestion:'),' ',(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"link",onClick:()=>onUpdatePostFormat(suggestion.id)},(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Apply format: %s'),suggestion.caption)))));};const backup=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z"}));var library_backup=(backup);;function PostLastRevisionCheck(_ref){let{lastRevisionId,revisionsCount,children}=_ref;if(!lastRevisionId||revisionsCount<2){return null;}
return(0,external_wp_element_namespaceObject.createElement)(post_type_support_check,{supportKeys:"revisions"},children);}
var post_last_revision_check=((0,external_wp_data_namespaceObject.withSelect)(select=>{const{getCurrentPostLastRevisionId,getCurrentPostRevisionsCount}=select(store_store);return{lastRevisionId:getCurrentPostLastRevisionId(),revisionsCount:getCurrentPostRevisionsCount()};})(PostLastRevisionCheck));;function LastRevision(_ref){let{lastRevisionId,revisionsCount}=_ref;return(0,external_wp_element_namespaceObject.createElement)(post_last_revision_check,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{href:(0,external_wp_url_namespaceObject.addQueryArgs)('revision.php',{revision:lastRevisionId,gutenberg:true}),className:"editor-post-last-revision__title",icon:library_backup},(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d Revision','%d Revisions',revisionsCount),revisionsCount)));}
var post_last_revision=((0,external_wp_data_namespaceObject.withSelect)(select=>{const{getCurrentPostLastRevisionId,getCurrentPostRevisionsCount}=select(store_store);return{lastRevisionId:getCurrentPostLastRevisionId(),revisionsCount:getCurrentPostRevisionsCount()};})(LastRevision));;function PostLockedModal(){const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(PostLockedModal);const hookName='core/editor/post-locked-modal-'+instanceId;const{autosave,updatePostLock}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const{isLocked,isTakeover,user,postId,postLockUtils,activePostLock,postType,previewLink}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isPostLocked,isPostLockTakeover,getPostLockUser,getCurrentPostId,getActivePostLock,getEditedPostAttribute,getEditedPostPreviewLink,getEditorSettings}=select(store_store);const{getPostType}=select(external_wp_coreData_namespaceObject.store);return{isLocked:isPostLocked(),isTakeover:isPostLockTakeover(),user:getPostLockUser(),postId:getCurrentPostId(),postLockUtils:getEditorSettings().postLockUtils,activePostLock:getActivePostLock(),postType:getPostType(getEditedPostAttribute('type')),previewLink:getEditedPostPreviewLink()};},[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{function sendPostLock(data){if(isLocked){return;}
data['wp-refresh-post-lock']={lock:activePostLock,post_id:postId};}
function receivePostLock(data){if(!data['wp-refresh-post-lock']){return;}
const received=data['wp-refresh-post-lock'];if(received.lock_error){autosave();updatePostLock({isLocked:true,isTakeover:true,user:{name:received.lock_error.name,avatar:received.lock_error.avatar_src_2x}});}else if(received.new_lock){updatePostLock({isLocked:false,activePostLock:received.new_lock});}}
function releasePostLock(){if(isLocked||!activePostLock){return;}
const data=new window.FormData();data.append('action','wp-remove-post-lock');data.append('_wpnonce',postLockUtils.unlockNonce);data.append('post_ID',postId);data.append('active_post_lock',activePostLock);if(window.navigator.sendBeacon){window.navigator.sendBeacon(postLockUtils.ajaxUrl,data);}else{const xhr=new window.XMLHttpRequest();xhr.open('POST',postLockUtils.ajaxUrl,false);xhr.send(data);}}
(0,external_wp_hooks_namespaceObject.addAction)('heartbeat.send',hookName,sendPostLock);(0,external_wp_hooks_namespaceObject.addAction)('heartbeat.tick',hookName,receivePostLock);window.addEventListener('beforeunload',releasePostLock);return()=>{(0,external_wp_hooks_namespaceObject.removeAction)('heartbeat.send',hookName);(0,external_wp_hooks_namespaceObject.removeAction)('heartbeat.tick',hookName);window.removeEventListener('beforeunload',releasePostLock);};},[]);if(!isLocked){return null;}
const userDisplayName=user.name;const userAvatar=user.avatar;const unlockUrl=(0,external_wp_url_namespaceObject.addQueryArgs)('post.php',{'get-post-lock':'1',lockKey:true,post:postId,action:'edit',_wpnonce:postLockUtils.nonce});const allPostsUrl=(0,external_wp_url_namespaceObject.addQueryArgs)('edit.php',{post_type:(0,external_lodash_namespaceObject.get)(postType,['slug'])});const allPostsLabel=(0,external_wp_i18n_namespaceObject.__)('Exit editor');return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Modal,{title:isTakeover?(0,external_wp_i18n_namespaceObject.__)('Someone else has taken over this post'):(0,external_wp_i18n_namespaceObject.__)('This post is already being edited'),focusOnMount:true,shouldCloseOnClickOutside:false,shouldCloseOnEsc:false,isDismissible:false,className:"editor-post-locked-modal"},!!userAvatar&&(0,external_wp_element_namespaceObject.createElement)("img",{src:userAvatar,alt:(0,external_wp_i18n_namespaceObject.__)('Avatar'),className:"editor-post-locked-modal__avatar",width:64,height:64}),(0,external_wp_element_namespaceObject.createElement)("div",null,!!isTakeover&&(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_element_namespaceObject.createInterpolateElement)(userDisplayName?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('<strong>%s</strong> now has editing control of this posts (<PreviewLink />). Don’t worry, your changes up to this moment have been saved.'),userDisplayName):(0,external_wp_i18n_namespaceObject.__)('Another user now has editing control of this post (<PreviewLink />). Don’t worry, your changes up to this moment have been saved.'),{strong:(0,external_wp_element_namespaceObject.createElement)("strong",null),PreviewLink:(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ExternalLink,{href:previewLink},(0,external_wp_i18n_namespaceObject.__)('preview'))})),!isTakeover&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_element_namespaceObject.createInterpolateElement)(userDisplayName?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('<strong>%s</strong> is currently working on this post (<PreviewLink />), which means you cannot make changes, unless you take over.'),userDisplayName):(0,external_wp_i18n_namespaceObject.__)('Another user is currently working on this post (<PreviewLink />), which means you cannot make changes, unless you take over.'),{strong:(0,external_wp_element_namespaceObject.createElement)("strong",null),PreviewLink:(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ExternalLink,{href:previewLink},(0,external_wp_i18n_namespaceObject.__)('preview'))})),(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_i18n_namespaceObject.__)('If you take over, the other user will lose editing control to the post, but their changes will be saved.'))),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Flex,{className:"editor-post-locked-modal__buttons",justify:"flex-end",expanded:false},!isTakeover&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"tertiary",href:unlockUrl},(0,external_wp_i18n_namespaceObject.__)('Take over'))),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"primary",href:allPostsUrl},allPostsLabel)))));};function PostPendingStatusCheck(_ref){let{hasPublishAction,isPublished,children}=_ref;if(isPublished||!hasPublishAction){return null;}
return children;}
var post_pending_status_check=((0,external_wp_compose_namespaceObject.compose)((0,external_wp_data_namespaceObject.withSelect)(select=>{const{isCurrentPostPublished,getCurrentPostType,getCurrentPost}=select(store_store);return{hasPublishAction:(0,external_lodash_namespaceObject.get)(getCurrentPost(),['_links','wp:action-publish'],false),isPublished:isCurrentPostPublished(),postType:getCurrentPostType()};}))(PostPendingStatusCheck));;function PostPendingStatus(_ref){let{status,onUpdateStatus}=_ref;const togglePendingStatus=()=>{const updatedStatus=status==='pending'?'draft':'pending';onUpdateStatus(updatedStatus);};return(0,external_wp_element_namespaceObject.createElement)(post_pending_status_check,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{label:(0,external_wp_i18n_namespaceObject.__)('Pending review'),checked:status==='pending',onChange:togglePendingStatus}));}
var post_pending_status=((0,external_wp_compose_namespaceObject.compose)((0,external_wp_data_namespaceObject.withSelect)(select=>({status:select(store_store).getEditedPostAttribute('status')})),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>({onUpdateStatus(status){dispatch(store_store).editPost({status});}})))(PostPendingStatus));;function PostPingbacks(_ref){let{pingStatus='open',...props}=_ref;const onTogglePingback=()=>props.editPost({ping_status:pingStatus==='open'?'closed':'open'});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{label:(0,external_wp_i18n_namespaceObject.__)('Allow pingbacks & trackbacks'),checked:pingStatus==='open',onChange:onTogglePingback});}
var post_pingbacks=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{return{pingStatus:select(store_store).getEditedPostAttribute('ping_status')};}),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>({editPost:dispatch(store_store).editPost}))])(PostPingbacks));;function writeInterstitialMessage(targetDocument){let markup=(0,external_wp_element_namespaceObject.renderToString)((0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-preview-button__interstitial-message"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 96 96"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{className:"outer",d:"M48 12c19.9 0 36 16.1 36 36S67.9 84 48 84 12 67.9 12 48s16.1-36 36-36",fill:"none"}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{className:"inner",d:"M69.5 46.4c0-3.9-1.4-6.7-2.6-8.8-1.6-2.6-3.1-4.9-3.1-7.5 0-2.9 2.2-5.7 5.4-5.7h.4C63.9 19.2 56.4 16 48 16c-11.2 0-21 5.7-26.7 14.4h2.1c3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3L40 67.5l7-20.9L42 33c-1.7-.1-3.3-.3-3.3-.3-1.7-.1-1.5-2.7.2-2.6 0 0 5.3.4 8.4.4 3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3l11.5 34.3 3.3-10.4c1.6-4.5 2.4-7.8 2.4-10.5zM16.1 48c0 12.6 7.3 23.5 18 28.7L18.8 35c-1.7 4-2.7 8.4-2.7 13zm32.5 2.8L39 78.6c2.9.8 5.9 1.3 9 1.3 3.7 0 7.3-.6 10.6-1.8-.1-.1-.2-.3-.2-.4l-9.8-26.9zM76.2 36c0 3.2-.6 6.9-2.4 11.4L64 75.6c9.5-5.5 15.9-15.8 15.9-27.6 0-5.5-1.4-10.8-3.9-15.3.1 1 .2 2.1.2 3.3z",fill:"none"})),(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_i18n_namespaceObject.__)('Generating preview…'))));markup+=`
		<style>
			body {
				margin: 0;
			}
			.editor-post-preview-button__interstitial-message {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				height: 100vh;
				width: 100vw;
			}
			@-webkit-keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			@-moz-keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			@-o-keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			@keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			.editor-post-preview-button__interstitial-message svg {
				width: 192px;
				height: 192px;
				stroke: #555d66;
				stroke-width: 0.75;
			}
			.editor-post-preview-button__interstitial-message svg .outer,
			.editor-post-preview-button__interstitial-message svg .inner {
				stroke-dasharray: 280;
				stroke-dashoffset: 280;
				-webkit-animation: paint 1.5s ease infinite alternate;
				-moz-animation: paint 1.5s ease infinite alternate;
				-o-animation: paint 1.5s ease infinite alternate;
				animation: paint 1.5s ease infinite alternate;
			}
			p {
				text-align: center;
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
			}
		</style>
	`;markup=(0,external_wp_hooks_namespaceObject.applyFilters)('editor.PostPreview.interstitialMarkup',markup);targetDocument.write(markup);targetDocument.title=(0,external_wp_i18n_namespaceObject.__)('Generating preview…');targetDocument.close();}
class PostPreviewButton extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.buttonRef=(0,external_wp_element_namespaceObject.createRef)();this.openPreviewWindow=this.openPreviewWindow.bind(this);}
componentDidUpdate(prevProps){const{previewLink}=this.props;if(previewLink&&!prevProps.previewLink){this.setPreviewWindowLink(previewLink);}}
setPreviewWindowLink(url){const{previewWindow}=this;if(previewWindow&&!previewWindow.closed){previewWindow.location=url;if(this.buttonRef.current){this.buttonRef.current.focus();}}}
getWindowTarget(){const{postId}=this.props;return `wp-preview-${postId}`;}
openPreviewWindow(event){event.preventDefault();if(!this.previewWindow||this.previewWindow.closed){this.previewWindow=window.open('',this.getWindowTarget());}
this.previewWindow.focus();if(!this.props.isAutosaveable||this.props.isPostLocked){this.setPreviewWindowLink(event.target.href);return;}
if(this.props.isDraft){this.props.savePost({isPreview:true});}else{this.props.autosave({isPreview:true});}
writeInterstitialMessage(this.previewWindow.document);}
render(){const{previewLink,currentPostLink,isSaveable,role}=this.props;const href=previewLink||currentPostLink;const classNames=classnames_default()({'editor-post-preview':!this.props.className},this.props.className);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:!this.props.className?'tertiary':undefined,className:classNames,href:href,target:this.getWindowTarget(),disabled:!isSaveable,onClick:this.openPreviewWindow,ref:this.buttonRef,role:role},this.props.textContent?this.props.textContent:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_i18n_namespaceObject._x)('Preview','imperative verb'),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"span"},(0,external_wp_i18n_namespaceObject.__)('(opens in a new tab)'))));}}
var post_preview_button=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)((select,_ref)=>{let{forcePreviewLink,forceIsAutosaveable}=_ref;const{getCurrentPostId,getCurrentPostAttribute,getEditedPostAttribute,isEditedPostSaveable,isEditedPostAutosaveable,getEditedPostPreviewLink,isPostLocked}=select(store_store);const{getPostType}=select(external_wp_coreData_namespaceObject.store);const previewLink=getEditedPostPreviewLink();const postType=getPostType(getEditedPostAttribute('type'));return{postId:getCurrentPostId(),currentPostLink:getCurrentPostAttribute('link'),previewLink:forcePreviewLink!==undefined?forcePreviewLink:previewLink,isSaveable:isEditedPostSaveable(),isAutosaveable:forceIsAutosaveable||isEditedPostAutosaveable(),isViewable:(0,external_lodash_namespaceObject.get)(postType,['viewable'],false),isDraft:['draft','auto-draft'].indexOf(getEditedPostAttribute('status'))!==-1,isPostLocked:isPostLocked()};}),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>({autosave:dispatch(store_store).autosave,savePost:dispatch(store_store).savePost})),(0,external_wp_compose_namespaceObject.ifCondition)(_ref2=>{let{isViewable}=_ref2;return isViewable;})])(PostPreviewButton));;function PublishButtonLabel(_ref){let{isPublished,isBeingScheduled,isSaving,isPublishing,hasPublishAction,isAutosaving,hasNonPostEntityChanges}=_ref;if(isPublishing){return(0,external_wp_i18n_namespaceObject.__)('Publishing…');}else if(isPublished&&isSaving&&!isAutosaving){return(0,external_wp_i18n_namespaceObject.__)('Updating…');}else if(isBeingScheduled&&isSaving&&!isAutosaving){return(0,external_wp_i18n_namespaceObject.__)('Scheduling…');}
if(!hasPublishAction){return hasNonPostEntityChanges?(0,external_wp_i18n_namespaceObject.__)('Submit for Review…'):(0,external_wp_i18n_namespaceObject.__)('Submit for Review');}else if(isPublished){return hasNonPostEntityChanges?(0,external_wp_i18n_namespaceObject.__)('Update…'):(0,external_wp_i18n_namespaceObject.__)('Update');}else if(isBeingScheduled){return hasNonPostEntityChanges?(0,external_wp_i18n_namespaceObject.__)('Schedule…'):(0,external_wp_i18n_namespaceObject.__)('Schedule');}
return(0,external_wp_i18n_namespaceObject.__)('Publish');}
var label=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)((select,_ref2)=>{let{forceIsSaving}=_ref2;const{isCurrentPostPublished,isEditedPostBeingScheduled,isSavingPost,isPublishingPost,getCurrentPost,getCurrentPostType,isAutosavingPost}=select(store_store);return{isPublished:isCurrentPostPublished(),isBeingScheduled:isEditedPostBeingScheduled(),isSaving:forceIsSaving||isSavingPost(),isPublishing:isPublishingPost(),hasPublishAction:(0,external_lodash_namespaceObject.get)(getCurrentPost(),['_links','wp:action-publish'],false),postType:getCurrentPostType(),isAutosaving:isAutosavingPost()};})])(PublishButtonLabel));;class PostPublishButton extends external_wp_element_namespaceObject.Component{constructor(props){super(props);this.buttonNode=(0,external_wp_element_namespaceObject.createRef)();this.createOnClick=this.createOnClick.bind(this);this.closeEntitiesSavedStates=this.closeEntitiesSavedStates.bind(this);this.state={entitiesSavedStatesCallback:false};}
componentDidMount(){if(this.props.focusOnMount){this.buttonNode.current.focus();}}
createOnClick(callback){var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}
const{hasNonPostEntityChanges,setEntitiesSavedStatesCallback}=_this.props;if(hasNonPostEntityChanges&&setEntitiesSavedStatesCallback){_this.setState({entitiesSavedStatesCallback:()=>callback(...args)});setEntitiesSavedStatesCallback(()=>_this.closeEntitiesSavedStates);return external_lodash_namespaceObject.noop;}
return callback(...args);};}
closeEntitiesSavedStates(savedEntities){const{postType,postId}=this.props;const{entitiesSavedStatesCallback}=this.state;this.setState({entitiesSavedStatesCallback:false},()=>{if(savedEntities&&(0,external_lodash_namespaceObject.some)(savedEntities,elt=>elt.kind==='postType'&&elt.name===postType&&elt.key===postId)){entitiesSavedStatesCallback();}});}
render(){const{forceIsDirty,forceIsSaving,hasPublishAction,isBeingScheduled,isOpen,isPostSavingLocked,isPublishable,isPublished,isSaveable,isSaving,isAutoSaving,isToggle,onSave,onStatusChange,onSubmit=external_lodash_namespaceObject.noop,onToggle,visibility,hasNonPostEntityChanges,isSavingNonPostEntityChanges}=this.props;const isButtonDisabled=(isSaving||forceIsSaving||!isSaveable||isPostSavingLocked||!isPublishable&&!forceIsDirty)&&(!hasNonPostEntityChanges||isSavingNonPostEntityChanges);const isToggleDisabled=(isPublished||isSaving||forceIsSaving||!isSaveable||!isPublishable&&!forceIsDirty)&&(!hasNonPostEntityChanges||isSavingNonPostEntityChanges);let publishStatus;if(!hasPublishAction){publishStatus='pending';}else if(visibility==='private'){publishStatus='private';}else if(isBeingScheduled){publishStatus='future';}else{publishStatus='publish';}
const onClickButton=()=>{if(isButtonDisabled){return;}
onSubmit();onStatusChange(publishStatus);onSave();};const onClickToggle=()=>{if(isToggleDisabled){return;}
onToggle();};const buttonProps={'aria-disabled':isButtonDisabled,className:'editor-post-publish-button',isBusy:!isAutoSaving&&isSaving&&isPublished,variant:'primary',onClick:this.createOnClick(onClickButton)};const toggleProps={'aria-disabled':isToggleDisabled,'aria-expanded':isOpen,className:'editor-post-publish-panel__toggle',isBusy:isSaving&&isPublished,variant:'primary',onClick:this.createOnClick(onClickToggle)};const toggleChildren=isBeingScheduled?(0,external_wp_i18n_namespaceObject.__)('Schedule…'):(0,external_wp_i18n_namespaceObject.__)('Publish');const buttonChildren=(0,external_wp_element_namespaceObject.createElement)(label,{forceIsSaving:forceIsSaving,hasNonPostEntityChanges:hasNonPostEntityChanges});const componentProps=isToggle?toggleProps:buttonProps;const componentChildren=isToggle?toggleChildren:buttonChildren;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({ref:this.buttonNode},componentProps,{className:classnames_default()(componentProps.className,'editor-post-publish-button__button',{'has-changes-dot':hasNonPostEntityChanges})}),componentChildren));}}
var post_publish_button=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{const{isSavingPost,isAutosavingPost,isEditedPostBeingScheduled,getEditedPostVisibility,isCurrentPostPublished,isEditedPostSaveable,isEditedPostPublishable,isPostSavingLocked,getCurrentPost,getCurrentPostType,getCurrentPostId,hasNonPostEntityChanges,isSavingNonPostEntityChanges}=select(store_store);const _isAutoSaving=isAutosavingPost();return{isSaving:isSavingPost()||_isAutoSaving,isAutoSaving:_isAutoSaving,isBeingScheduled:isEditedPostBeingScheduled(),visibility:getEditedPostVisibility(),isSaveable:isEditedPostSaveable(),isPostSavingLocked:isPostSavingLocked(),isPublishable:isEditedPostPublishable(),isPublished:isCurrentPostPublished(),hasPublishAction:(0,external_lodash_namespaceObject.get)(getCurrentPost(),['_links','wp:action-publish'],false),postType:getCurrentPostType(),postId:getCurrentPostId(),hasNonPostEntityChanges:hasNonPostEntityChanges(),isSavingNonPostEntityChanges:isSavingNonPostEntityChanges()};}),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>{const{editPost,savePost}=dispatch(store_store);return{onStatusChange:status=>editPost({status},{undoIgnore:true}),onSave:savePost};})])(PostPublishButton));;const closeSmall=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));var close_small=(closeSmall);;const wordpress=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"}));var library_wordpress=(wordpress);;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}
return obj;};const visibilityOptions=[{value:'public',label:(0,external_wp_i18n_namespaceObject.__)('Public'),info:(0,external_wp_i18n_namespaceObject.__)('Visible to everyone.')},{value:'private',label:(0,external_wp_i18n_namespaceObject.__)('Private'),info:(0,external_wp_i18n_namespaceObject.__)('Only visible to site admins and editors.')},{value:'password',label:(0,external_wp_i18n_namespaceObject.__)('Password Protected'),info:(0,external_wp_i18n_namespaceObject.__)('Protected with a password you choose. Only those with the password can view this post.')}];;class PostVisibility extends external_wp_element_namespaceObject.Component{constructor(props){super(...arguments);_defineProperty(this,"confirmPrivate",()=>{const{onUpdateVisibility,onSave}=this.props;onUpdateVisibility('private');this.setState({hasPassword:false,showPrivateConfirmDialog:false});onSave();});_defineProperty(this,"handleDialogCancel",()=>{this.setState({showPrivateConfirmDialog:false});});this.setPublic=this.setPublic.bind(this);this.setPrivate=this.setPrivate.bind(this);this.setPasswordProtected=this.setPasswordProtected.bind(this);this.updatePassword=this.updatePassword.bind(this);this.state={hasPassword:!!props.password,showPrivateConfirmDialog:false};}
setPublic(){const{visibility,onUpdateVisibility,status}=this.props;onUpdateVisibility(visibility==='private'?'draft':status);this.setState({hasPassword:false});}
setPrivate(){this.setState({showPrivateConfirmDialog:true});}
setPasswordProtected(){const{visibility,onUpdateVisibility,status,password}=this.props;onUpdateVisibility(visibility==='private'?'draft':status,password||'');this.setState({hasPassword:true});}
updatePassword(event){const{status,onUpdateVisibility}=this.props;onUpdateVisibility(status,event.target.value);}
render(){const{visibility,password,instanceId}=this.props;const visibilityHandlers={public:{onSelect:this.setPublic,checked:visibility==='public'&&!this.state.hasPassword},private:{onSelect:this.setPrivate,checked:visibility==='private'},password:{onSelect:this.setPasswordProtected,checked:this.state.hasPassword}};return[(0,external_wp_element_namespaceObject.createElement)("fieldset",{key:"visibility-selector",className:"editor-post-visibility__dialog-fieldset"},(0,external_wp_element_namespaceObject.createElement)("legend",{className:"editor-post-visibility__dialog-legend"},(0,external_wp_i18n_namespaceObject.__)('Post Visibility')),visibilityOptions.map(_ref=>{let{value,label,info}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{key:value,className:"editor-post-visibility__choice"},(0,external_wp_element_namespaceObject.createElement)("input",{type:"radio",name:`editor-post-visibility__setting-${instanceId}`,value:value,onChange:visibilityHandlers[value].onSelect,checked:visibilityHandlers[value].checked,id:`editor-post-${value}-${instanceId}`,"aria-describedby":`editor-post-${value}-${instanceId}-description`,className:"editor-post-visibility__dialog-radio"}),(0,external_wp_element_namespaceObject.createElement)("label",{htmlFor:`editor-post-${value}-${instanceId}`,className:"editor-post-visibility__dialog-label"},label),(0,external_wp_element_namespaceObject.createElement)("p",{id:`editor-post-${value}-${instanceId}-description`,className:"editor-post-visibility__dialog-info"},info));})),this.state.hasPassword&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-visibility__dialog-password",key:"password-selector"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"label",htmlFor:`editor-post-visibility__dialog-password-input-${instanceId}`},(0,external_wp_i18n_namespaceObject.__)('Create password')),(0,external_wp_element_namespaceObject.createElement)("input",{className:"editor-post-visibility__dialog-password-input",id:`editor-post-visibility__dialog-password-input-${instanceId}`,type:"text",onChange:this.updatePassword,value:password,placeholder:(0,external_wp_i18n_namespaceObject.__)('Use a secure password')})),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalConfirmDialog,{key:"private-publish-confirmation",isOpen:this.state.showPrivateConfirmDialog,onConfirm:this.confirmPrivate,onCancel:this.handleDialogCancel},(0,external_wp_i18n_namespaceObject.__)('Would you like to privately publish this post now?'))];}}
var post_visibility=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{const{getEditedPostAttribute,getEditedPostVisibility}=select(store_store);return{status:getEditedPostAttribute('status'),visibility:getEditedPostVisibility(),password:getEditedPostAttribute('password')};}),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>{const{savePost,editPost}=dispatch(store_store);return{onSave:savePost,onUpdateVisibility(status){let password=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';editPost({status,password});}};}),external_wp_compose_namespaceObject.withInstanceId])(PostVisibility));;function PostVisibilityLabel(_ref){let{visibility}=_ref;const getVisibilityLabel=()=>(0,external_lodash_namespaceObject.find)(visibilityOptions,{value:visibility}).label;return getVisibilityLabel(visibility);}
var post_visibility_label=((0,external_wp_data_namespaceObject.withSelect)(select=>({visibility:select(store_store).getEditedPostVisibility()}))(PostVisibilityLabel));;function getDayOfTheMonth(){let date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();let firstDay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;const d=new Date(date);return new Date(d.getFullYear(),d.getMonth()+(firstDay?0:1),firstDay?1:0).toISOString();}
function PostSchedule(){const{postDate,postType}=(0,external_wp_data_namespaceObject.useSelect)(select=>({postDate:select(store_store).getEditedPostAttribute('date'),postType:select(store_store).getCurrentPostType()}),[]);const{editPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const onUpdateDate=date=>editPost({date});const[previewedMonth,setPreviewedMonth]=(0,external_wp_element_namespaceObject.useState)(getDayOfTheMonth(postDate));const eventsByPostType=(0,external_wp_data_namespaceObject.useSelect)(select=>select(external_wp_coreData_namespaceObject.store).getEntityRecords('postType',postType,{status:'publish,future',after:getDayOfTheMonth(previewedMonth),before:getDayOfTheMonth(previewedMonth,false),exclude:[select(store_store).getCurrentPostId()]}),[previewedMonth,postType]);const events=(0,external_wp_element_namespaceObject.useMemo)(()=>(eventsByPostType||[]).map(_ref=>{let{title,type,date:eventDate}=_ref;return{title:title===null||title===void 0?void 0:title.rendered,type,date:new Date(eventDate)};}),[eventsByPostType]);const ref=(0,external_wp_element_namespaceObject.useRef)();const settings=(0,external_wp_date_namespaceObject.__experimentalGetSettings)();const is12HourTime=/a(?!\\)/i.test(settings.formats.time.toLowerCase().replace(/\\\\/g,'').split('').reverse().join(''));function onChange(newDate){onUpdateDate(newDate);const{ownerDocument}=ref.current;ownerDocument.activeElement.blur();}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DateTimePicker,{ref:ref,currentDate:postDate,onChange:onChange,is12Hour:is12HourTime,events:events,onMonthPreviewed:setPreviewedMonth});};function PostScheduleLabel(_ref){let{date,isFloating}=_ref;const settings=(0,external_wp_date_namespaceObject.__experimentalGetSettings)();return date&&!isFloating?(0,external_wp_date_namespaceObject.format)(`${settings.formats.date} ${settings.formats.time}`,date):(0,external_wp_i18n_namespaceObject.__)('Immediately');}
var post_schedule_label=((0,external_wp_data_namespaceObject.withSelect)(select=>{return{date:select(store_store).getEditedPostAttribute('date'),isFloating:select(store_store).isEditedPostDateFloating()};})(PostScheduleLabel));;var external_wp_a11y_namespaceObject=window["wp"]["a11y"];;const MIN_MOST_USED_TERMS=3;const DEFAULT_QUERY={per_page:10,orderby:'count',order:'desc',hide_empty:true,_fields:'id,name,count',context:'view'};function MostUsedTerms(_ref){let{onSelect,taxonomy}=_ref;const{_terms,showTerms}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const mostUsedTerms=select(external_wp_coreData_namespaceObject.store).getEntityRecords('taxonomy',taxonomy.slug,DEFAULT_QUERY);return{_terms:mostUsedTerms,showTerms:(mostUsedTerms===null||mostUsedTerms===void 0?void 0:mostUsedTerms.length)>=MIN_MOST_USED_TERMS};},[]);if(!showTerms){return null;}
const terms=unescapeTerms(_terms);const label=(0,external_lodash_namespaceObject.get)(taxonomy,['labels','most_used']);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-taxonomies__flat-term-most-used"},(0,external_wp_element_namespaceObject.createElement)("h3",{className:"editor-post-taxonomies__flat-term-most-used-label"},label),(0,external_wp_element_namespaceObject.createElement)("ul",{role:"list",className:"editor-post-taxonomies__flat-term-most-used-list"},terms.map(term=>(0,external_wp_element_namespaceObject.createElement)("li",{key:term.id},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"link",onClick:()=>onSelect(term)},term.name)))));};const flat_term_selector_EMPTY_ARRAY=[];const MAX_TERMS_SUGGESTIONS=20;const flat_term_selector_DEFAULT_QUERY={per_page:MAX_TERMS_SUGGESTIONS,orderby:'count',order:'desc',_fields:'id,name',context:'view'};const isSameTermName=(termA,termB)=>unescapeString(termA).toLowerCase()===unescapeString(termB).toLowerCase();const termNamesToIds=(names,terms)=>{return names.map(termName=>(0,external_lodash_namespaceObject.find)(terms,term=>isSameTermName(term.name,termName)).id);};function findOrCreateTerm(termName,restBase){const escapedTermName=(0,external_lodash_namespaceObject.escape)(termName);return external_wp_apiFetch_default()({path:`/wp/v2/${restBase}`,method:'POST',data:{name:escapedTermName}}).catch(error=>{const errorCode=error.code;if(errorCode==='term_exists'){const addRequest=external_wp_apiFetch_default()({path:(0,external_wp_url_namespaceObject.addQueryArgs)(`/wp/v2/${restBase}`,{...flat_term_selector_DEFAULT_QUERY,search:escapedTermName})}).then(unescapeTerms);return addRequest.then(searchResult=>{return(0,external_lodash_namespaceObject.find)(searchResult,result=>isSameTermName(result.name,termName));});}
return Promise.reject(error);}).then(unescapeTerm);}
function FlatTermSelector(_ref){let{slug}=_ref;const[values,setValues]=(0,external_wp_element_namespaceObject.useState)([]);const[search,setSearch]=(0,external_wp_element_namespaceObject.useState)('');const debouncedSearch=(0,external_wp_compose_namespaceObject.useDebounce)(setSearch,500);const{terms,termIds,taxonomy,hasAssignAction,hasCreateAction,hasResolvedTerms}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getCurrentPost,getEditedPostAttribute}=select(store_store);const{getEntityRecords,getTaxonomy,hasFinishedResolution}=select(external_wp_coreData_namespaceObject.store);const post=getCurrentPost();const _taxonomy=getTaxonomy(slug);const _termIds=_taxonomy?getEditedPostAttribute(_taxonomy.rest_base):flat_term_selector_EMPTY_ARRAY;const query={...flat_term_selector_DEFAULT_QUERY,include:_termIds.join(','),per_page:-1};return{hasCreateAction:_taxonomy?(0,external_lodash_namespaceObject.get)(post,['_links','wp:action-create-'+_taxonomy.rest_base],false):false,hasAssignAction:_taxonomy?(0,external_lodash_namespaceObject.get)(post,['_links','wp:action-assign-'+_taxonomy.rest_base],false):false,taxonomy:_taxonomy,termIds:_termIds,terms:_termIds.length?getEntityRecords('taxonomy',slug,query):flat_term_selector_EMPTY_ARRAY,hasResolvedTerms:hasFinishedResolution('getEntityRecords',['taxonomy',slug,query])};},[slug]);const{searchResults}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getEntityRecords}=select(external_wp_coreData_namespaceObject.store);return{searchResults:!!search?getEntityRecords('taxonomy',slug,{...flat_term_selector_DEFAULT_QUERY,search}):flat_term_selector_EMPTY_ARRAY};},[search]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(hasResolvedTerms){const newValues=(terms!==null&&terms!==void 0?terms:[]).map(term=>unescapeString(term.name));setValues(newValues);}},[terms,hasResolvedTerms]);const suggestions=(0,external_wp_element_namespaceObject.useMemo)(()=>{return(searchResults!==null&&searchResults!==void 0?searchResults:[]).map(term=>unescapeString(term.name));},[searchResults]);const{editPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);if(!hasAssignAction){return null;}
function onUpdateTerms(newTermIds){editPost({[taxonomy.rest_base]:newTermIds});}
function onChange(termNames){const availableTerms=[...(terms!==null&&terms!==void 0?terms:[]),...(searchResults!==null&&searchResults!==void 0?searchResults:[])];const uniqueTerms=(0,external_lodash_namespaceObject.uniqBy)(termNames,term=>term.toLowerCase());const newTermNames=uniqueTerms.filter(termName=>!(0,external_lodash_namespaceObject.find)(availableTerms,term=>isSameTermName(term.name,termName)));setValues(uniqueTerms);if(newTermNames.length===0){return onUpdateTerms(termNamesToIds(uniqueTerms,availableTerms));}
if(!hasCreateAction){return;}
Promise.all(newTermNames.map(termName=>findOrCreateTerm(termName,taxonomy.rest_base))).then(newTerms=>{const newAvailableTerms=availableTerms.concat(newTerms);return onUpdateTerms(termNamesToIds(uniqueTerms,newAvailableTerms));});}
function appendTerm(newTerm){if(termIds.includes(newTerm.id)){return;}
const newTermIds=[...termIds,newTerm.id];const termAddedMessage=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('%s added','term'),(0,external_lodash_namespaceObject.get)(taxonomy,['labels','singular_name'],slug==='post_tag'?(0,external_wp_i18n_namespaceObject.__)('Tag'):(0,external_wp_i18n_namespaceObject.__)('Term')));(0,external_wp_a11y_namespaceObject.speak)(termAddedMessage,'assertive');onUpdateTerms(newTermIds);}
const newTermLabel=(0,external_lodash_namespaceObject.get)(taxonomy,['labels','add_new_item'],slug==='post_tag'?(0,external_wp_i18n_namespaceObject.__)('Add new tag'):(0,external_wp_i18n_namespaceObject.__)('Add new Term'));const singularName=(0,external_lodash_namespaceObject.get)(taxonomy,['labels','singular_name'],slug==='post_tag'?(0,external_wp_i18n_namespaceObject.__)('Tag'):(0,external_wp_i18n_namespaceObject.__)('Term'));const termAddedLabel=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('%s added','term'),singularName);const termRemovedLabel=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('%s removed','term'),singularName);const removeTermLabel=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('Remove %s','term'),singularName);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FormTokenField,{value:values,suggestions:suggestions,onChange:onChange,onInputChange:debouncedSearch,maxSuggestions:MAX_TERMS_SUGGESTIONS,label:newTermLabel,messages:{added:termAddedLabel,removed:termRemovedLabel,remove:removeTermLabel}}),(0,external_wp_element_namespaceObject.createElement)(MostUsedTerms,{taxonomy:taxonomy,onSelect:appendTerm}));}
var flat_term_selector=((0,external_wp_components_namespaceObject.withFilters)('editor.PostTaxonomyType')(FlatTermSelector));;const TagsPanel=()=>{const panelBodyTitle=[(0,external_wp_i18n_namespaceObject.__)('Suggestion:'),(0,external_wp_element_namespaceObject.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,external_wp_i18n_namespaceObject.__)('Add tags'))];return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{initialOpen:false,title:panelBodyTitle},(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_i18n_namespaceObject.__)('Tags help users and search engines navigate your site and find your content. Add a few keywords to describe your post.')),(0,external_wp_element_namespaceObject.createElement)(flat_term_selector,{slug:'post_tag'}));};class MaybeTagsPanel extends external_wp_element_namespaceObject.Component{constructor(props){super(props);this.state={hadTagsWhenOpeningThePanel:props.hasTags};}
render(){if(!this.state.hadTagsWhenOpeningThePanel){return(0,external_wp_element_namespaceObject.createElement)(TagsPanel,null);}
return null;}}
var maybe_tags_panel=((0,external_wp_compose_namespaceObject.compose)((0,external_wp_data_namespaceObject.withSelect)(select=>{const postType=select(store_store).getCurrentPostType();const tagsTaxonomy=select(external_wp_coreData_namespaceObject.store).getTaxonomy('post_tag');const tags=tagsTaxonomy&&select(store_store).getEditedPostAttribute(tagsTaxonomy.rest_base);return{areTagsFetched:tagsTaxonomy!==undefined,isPostTypeSupported:tagsTaxonomy&&(0,external_lodash_namespaceObject.some)(tagsTaxonomy.types,type=>type===postType),hasTags:tags&&tags.length};}),(0,external_wp_compose_namespaceObject.ifCondition)(_ref=>{let{areTagsFetched,isPostTypeSupported}=_ref;return isPostTypeSupported&&areTagsFetched;}))(MaybeTagsPanel));;const getSuggestion=(supportedFormats,suggestedPostFormat)=>{const formats=POST_FORMATS.filter(format=>(0,external_lodash_namespaceObject.includes)(supportedFormats,format.id));return(0,external_lodash_namespaceObject.find)(formats,format=>format.id===suggestedPostFormat);};const PostFormatSuggestion=_ref=>{let{suggestedPostFormat,suggestionText,onUpdatePostFormat}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"link",onClick:()=>onUpdatePostFormat(suggestedPostFormat)},suggestionText);};function PostFormatPanel(){const{currentPostFormat,suggestion}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getEditedPostAttribute,getSuggestedPostFormat}=select(store_store);const supportedFormats=(0,external_lodash_namespaceObject.get)(select(external_wp_coreData_namespaceObject.store).getThemeSupports(),['formats'],[]);return{currentPostFormat:getEditedPostAttribute('format'),suggestion:getSuggestion(supportedFormats,getSuggestedPostFormat())};},[]);const{editPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const onUpdatePostFormat=format=>editPost({format});const panelBodyTitle=[(0,external_wp_i18n_namespaceObject.__)('Suggestion:'),(0,external_wp_element_namespaceObject.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,external_wp_i18n_namespaceObject.__)('Use a post format'))];if(!suggestion||suggestion.id===currentPostFormat){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{initialOpen:false,title:panelBodyTitle},(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_i18n_namespaceObject.__)('Your theme uses post formats to highlight different kinds of content, like images or videos. Apply a post format to see this special styling.')),(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_element_namespaceObject.createElement)(PostFormatSuggestion,{onUpdatePostFormat:onUpdatePostFormat,suggestedPostFormat:suggestion.id,suggestionText:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Apply the "%1$s" format.'),suggestion.caption)})));};const hierarchical_term_selector_DEFAULT_QUERY={per_page:-1,orderby:'name',order:'asc',_fields:'id,name,parent',context:'view'};const MIN_TERMS_COUNT_FOR_FILTER=8;const hierarchical_term_selector_EMPTY_ARRAY=[];function sortBySelected(termsTree,terms){const treeHasSelection=termTree=>{if(terms.indexOf(termTree.id)!==-1){return true;}
if(undefined===termTree.children){return false;}
return termTree.children.map(treeHasSelection).filter(child=>child).length>0;};const termOrChildIsSelected=(termA,termB)=>{const termASelected=treeHasSelection(termA);const termBSelected=treeHasSelection(termB);if(termASelected===termBSelected){return 0;}
if(termASelected&&!termBSelected){return-1;}
if(!termASelected&&termBSelected){return 1;}
return 0;};const newTermTree=[...termsTree];newTermTree.sort(termOrChildIsSelected);return newTermTree;}
function findTerm(terms,parent,name){return(0,external_lodash_namespaceObject.find)(terms,term=>{return(!term.parent&&!parent||parseInt(term.parent)===parseInt(parent))&&term.name.toLowerCase()===name.toLowerCase();});}
function getFilterMatcher(filterValue){const matchTermsForFilter=originalTerm=>{if(''===filterValue){return originalTerm;}
const term={...originalTerm};if(term.children.length>0){term.children=term.children.map(matchTermsForFilter).filter(child=>child);}
if(-1!==term.name.toLowerCase().indexOf(filterValue.toLowerCase())||term.children.length>0){return term;}
return false;};return matchTermsForFilter;}
function HierarchicalTermSelector(_ref){let{slug}=_ref;const[adding,setAdding]=(0,external_wp_element_namespaceObject.useState)(false);const[formName,setFormName]=(0,external_wp_element_namespaceObject.useState)('');const[formParent,setFormParent]=(0,external_wp_element_namespaceObject.useState)('');const[showForm,setShowForm]=(0,external_wp_element_namespaceObject.useState)(false);const[filterValue,setFilterValue]=(0,external_wp_element_namespaceObject.useState)('');const[filteredTermsTree,setFilteredTermsTree]=(0,external_wp_element_namespaceObject.useState)([]);const debouncedSpeak=(0,external_wp_compose_namespaceObject.useDebounce)(external_wp_a11y_namespaceObject.speak,500);const{hasCreateAction,hasAssignAction,terms,loading,availableTerms,taxonomy}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getCurrentPost,getEditedPostAttribute}=select(store_store);const{getTaxonomy,getEntityRecords,isResolving}=select(external_wp_coreData_namespaceObject.store);const _taxonomy=getTaxonomy(slug);return{hasCreateAction:_taxonomy?(0,external_lodash_namespaceObject.get)(getCurrentPost(),['_links','wp:action-create-'+_taxonomy.rest_base],false):false,hasAssignAction:_taxonomy?(0,external_lodash_namespaceObject.get)(getCurrentPost(),['_links','wp:action-assign-'+_taxonomy.rest_base],false):false,terms:_taxonomy?getEditedPostAttribute(_taxonomy.rest_base):hierarchical_term_selector_EMPTY_ARRAY,loading:isResolving('getEntityRecords',['taxonomy',slug,hierarchical_term_selector_DEFAULT_QUERY]),availableTerms:getEntityRecords('taxonomy',slug,hierarchical_term_selector_DEFAULT_QUERY)||hierarchical_term_selector_EMPTY_ARRAY,taxonomy:_taxonomy};},[slug]);const{editPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const{saveEntityRecord}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_coreData_namespaceObject.store);const availableTermsTree=(0,external_wp_element_namespaceObject.useMemo)(()=>sortBySelected(buildTermsTree(availableTerms),terms),[availableTerms]);if(!hasAssignAction){return null;}
const addTerm=term=>{return saveEntityRecord('taxonomy',slug,term);};const onUpdateTerms=termIds=>{editPost({[taxonomy.rest_base]:termIds});};const onChange=termId=>{const hasTerm=terms.includes(termId);const newTerms=hasTerm?(0,external_lodash_namespaceObject.without)(terms,termId):[...terms,termId];onUpdateTerms(newTerms);};const onChangeFormName=value=>{setFormName(value);};const onChangeFormParent=parentId=>{setFormParent(parentId);};const onToggleForm=()=>{setShowForm(!showForm);};const onAddTerm=async event=>{event.preventDefault();if(formName===''||adding){return;}
const existingTerm=findTerm(availableTerms,formParent,formName);if(existingTerm){if(!(0,external_lodash_namespaceObject.some)(terms,term=>term===existingTerm.id)){onUpdateTerms([...terms,existingTerm.id]);}
setFormName('');setFormParent('');return;}
setAdding(true);const newTerm=await addTerm({name:formName,parent:formParent?formParent:undefined});const termAddedMessage=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('%s added','term'),(0,external_lodash_namespaceObject.get)(taxonomy,['labels','singular_name'],slug==='category'?(0,external_wp_i18n_namespaceObject.__)('Category'):(0,external_wp_i18n_namespaceObject.__)('Term')));(0,external_wp_a11y_namespaceObject.speak)(termAddedMessage,'assertive');setAdding(false);setFormName('');setFormParent('');onUpdateTerms([...terms,newTerm.id]);};const setFilter=value=>{const newFilteredTermsTree=availableTermsTree.map(getFilterMatcher(value)).filter(term=>term);const getResultCount=termsTree=>{let count=0;for(let i=0;i<termsTree.length;i++){count++;if(undefined!==termsTree[i].children){count+=getResultCount(termsTree[i].children);}}
return count;};setFilterValue(value);setFilteredTermsTree(newFilteredTermsTree);const resultCount=getResultCount(newFilteredTermsTree);const resultsFoundMessage=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d result found.','%d results found.',resultCount),resultCount);debouncedSpeak(resultsFoundMessage,'assertive');};const renderTerms=renderedTerms=>{return renderedTerms.map(term=>{return(0,external_wp_element_namespaceObject.createElement)("div",{key:term.id,className:"editor-post-taxonomies__hierarchical-terms-choice"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{checked:terms.indexOf(term.id)!==-1,onChange:()=>{const termId=parseInt(term.id,10);onChange(termId);},label:(0,external_lodash_namespaceObject.unescape)(term.name)}),!!term.children.length&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-taxonomies__hierarchical-terms-subchoices"},renderTerms(term.children)));});};const labelWithFallback=(labelProperty,fallbackIsCategory,fallbackIsNotCategory)=>(0,external_lodash_namespaceObject.get)(taxonomy,['labels',labelProperty],slug==='category'?fallbackIsCategory:fallbackIsNotCategory);const newTermButtonLabel=labelWithFallback('add_new_item',(0,external_wp_i18n_namespaceObject.__)('Add new category'),(0,external_wp_i18n_namespaceObject.__)('Add new term'));const newTermLabel=labelWithFallback('new_item_name',(0,external_wp_i18n_namespaceObject.__)('Add new category'),(0,external_wp_i18n_namespaceObject.__)('Add new term'));const parentSelectLabel=labelWithFallback('parent_item',(0,external_wp_i18n_namespaceObject.__)('Parent Category'),(0,external_wp_i18n_namespaceObject.__)('Parent Term'));const noParentOption=`— ${parentSelectLabel} —`;const newTermSubmitLabel=newTermButtonLabel;const filterLabel=(0,external_lodash_namespaceObject.get)(taxonomy,['labels','search_items'],(0,external_wp_i18n_namespaceObject.__)('Search Terms'));const groupLabel=(0,external_lodash_namespaceObject.get)(taxonomy,['name'],(0,external_wp_i18n_namespaceObject.__)('Terms'));const showFilter=availableTerms.length>=MIN_TERMS_COUNT_FOR_FILTER;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,showFilter&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{className:"editor-post-taxonomies__hierarchical-terms-filter",label:filterLabel,value:filterValue,onChange:setFilter}),(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-taxonomies__hierarchical-terms-list",tabIndex:"0",role:"group","aria-label":groupLabel},renderTerms(''!==filterValue?filteredTermsTree:availableTermsTree)),!loading&&hasCreateAction&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{onClick:onToggleForm,className:"editor-post-taxonomies__hierarchical-terms-add","aria-expanded":showForm,variant:"link"},newTermButtonLabel),showForm&&(0,external_wp_element_namespaceObject.createElement)("form",{onSubmit:onAddTerm},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{className:"editor-post-taxonomies__hierarchical-terms-input",label:newTermLabel,value:formName,onChange:onChangeFormName,required:true}),!!availableTerms.length&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TreeSelect,{label:parentSelectLabel,noOptionLabel:noParentOption,onChange:onChangeFormParent,selectedId:formParent,tree:availableTermsTree}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"secondary",type:"submit",className:"editor-post-taxonomies__hierarchical-terms-submit"},newTermSubmitLabel)));}
var hierarchical_term_selector=((0,external_wp_components_namespaceObject.withFilters)('editor.PostTaxonomyType')(HierarchicalTermSelector));;function MaybeCategoryPanel(){const hasNoCategory=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _select$getEntityReco;const postType=select(store_store).getCurrentPostType();const categoriesTaxonomy=select(external_wp_coreData_namespaceObject.store).getTaxonomy('category');const defaultCategorySlug='uncategorized';const defaultCategory=(_select$getEntityReco=select(external_wp_coreData_namespaceObject.store).getEntityRecords('taxonomy','category',{slug:defaultCategorySlug}))===null||_select$getEntityReco===void 0?void 0:_select$getEntityReco[0];const postTypeSupportsCategories=categoriesTaxonomy&&(0,external_lodash_namespaceObject.some)(categoriesTaxonomy.types,type=>type===postType);const categories=categoriesTaxonomy&&select(store_store).getEditedPostAttribute(categoriesTaxonomy.rest_base);return!!categoriesTaxonomy&&!!defaultCategory&&postTypeSupportsCategories&&((categories===null||categories===void 0?void 0:categories.length)===0||(categories===null||categories===void 0?void 0:categories.length)===1&&defaultCategory.id===categories[0]);},[]);const[shouldShowPanel,setShouldShowPanel]=(0,external_wp_element_namespaceObject.useState)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(hasNoCategory){setShouldShowPanel(true);}},[hasNoCategory]);if(!shouldShowPanel){return null;}
const panelBodyTitle=[(0,external_wp_i18n_namespaceObject.__)('Suggestion:'),(0,external_wp_element_namespaceObject.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,external_wp_i18n_namespaceObject.__)('Assign a category'))];return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{initialOpen:false,title:panelBodyTitle},(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_i18n_namespaceObject.__)('Categories provide a helpful way to group related posts together and to quickly tell readers what a post is about.')),(0,external_wp_element_namespaceObject.createElement)(hierarchical_term_selector,{slug:"category"}));}
var maybe_category_panel=(MaybeCategoryPanel);;function PostPublishPanelPrepublish(_ref){let{children}=_ref;const{isBeingScheduled,isRequestingSiteIcon,hasPublishAction,siteIconUrl,siteTitle,siteHome}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getCurrentPost,isEditedPostBeingScheduled}=select(store_store);const{getEntityRecord,isResolving}=select(external_wp_coreData_namespaceObject.store);const siteData=getEntityRecord('root','__unstableBase',undefined)||{};return{hasPublishAction:(0,external_lodash_namespaceObject.get)(getCurrentPost(),['_links','wp:action-publish'],false),isBeingScheduled:isEditedPostBeingScheduled(),isRequestingSiteIcon:isResolving('getEntityRecord',['root','__unstableBase',undefined]),siteIconUrl:siteData.site_icon_url,siteTitle:siteData.name,siteHome:siteData.home&&(0,external_wp_url_namespaceObject.filterURLForDisplay)(siteData.home)};},[]);let siteIcon=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Icon,{className:"components-site-icon",size:"36px",icon:library_wordpress});if(siteIconUrl){siteIcon=(0,external_wp_element_namespaceObject.createElement)("img",{alt:(0,external_wp_i18n_namespaceObject.__)('Site Icon'),className:"components-site-icon",src:siteIconUrl});}
if(isRequestingSiteIcon){siteIcon=null;}
let prePublishTitle,prePublishBodyText;if(!hasPublishAction){prePublishTitle=(0,external_wp_i18n_namespaceObject.__)('Are you ready to submit for review?');prePublishBodyText=(0,external_wp_i18n_namespaceObject.__)('When you’re ready, submit your work for review, and an Editor will be able to approve it for you.');}else if(isBeingScheduled){prePublishTitle=(0,external_wp_i18n_namespaceObject.__)('Are you ready to schedule?');prePublishBodyText=(0,external_wp_i18n_namespaceObject.__)('Your work will be published at the specified date and time.');}else{prePublishTitle=(0,external_wp_i18n_namespaceObject.__)('Are you ready to publish?');prePublishBodyText=(0,external_wp_i18n_namespaceObject.__)('Double-check your settings before publishing.');}
return(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-publish-panel__prepublish"},(0,external_wp_element_namespaceObject.createElement)("div",null,(0,external_wp_element_namespaceObject.createElement)("strong",null,prePublishTitle)),(0,external_wp_element_namespaceObject.createElement)("p",null,prePublishBodyText),(0,external_wp_element_namespaceObject.createElement)("div",{className:"components-site-card"},siteIcon,(0,external_wp_element_namespaceObject.createElement)("div",{className:"components-site-info"},(0,external_wp_element_namespaceObject.createElement)("span",{className:"components-site-name"},(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(siteTitle)||(0,external_wp_i18n_namespaceObject.__)('(Untitled)')),(0,external_wp_element_namespaceObject.createElement)("span",{className:"components-site-home"},siteHome))),hasPublishAction&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{initialOpen:false,title:[(0,external_wp_i18n_namespaceObject.__)('Visibility:'),(0,external_wp_element_namespaceObject.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,external_wp_element_namespaceObject.createElement)(post_visibility_label,null))]},(0,external_wp_element_namespaceObject.createElement)(post_visibility,null)),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{initialOpen:false,title:[(0,external_wp_i18n_namespaceObject.__)('Publish:'),(0,external_wp_element_namespaceObject.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,external_wp_element_namespaceObject.createElement)(post_schedule_label,null))]},(0,external_wp_element_namespaceObject.createElement)(PostSchedule,null))),(0,external_wp_element_namespaceObject.createElement)(PostFormatPanel,null),(0,external_wp_element_namespaceObject.createElement)(maybe_tags_panel,null),(0,external_wp_element_namespaceObject.createElement)(maybe_category_panel,null),children);}
var prepublish=(PostPublishPanelPrepublish);;const POSTNAME='%postname%';const getFuturePostUrl=post=>{const{slug}=post;if(post.permalink_template.includes(POSTNAME)){return post.permalink_template.replace(POSTNAME,slug);}
return post.permalink_template;};function postpublish_CopyButton(_ref){let{text,onCopy,children}=_ref;const ref=(0,external_wp_compose_namespaceObject.useCopyToClipboard)(text,onCopy);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"secondary",ref:ref},children);}
class PostPublishPanelPostpublish extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.state={showCopyConfirmation:false};this.onCopy=this.onCopy.bind(this);this.onSelectInput=this.onSelectInput.bind(this);this.postLink=(0,external_wp_element_namespaceObject.createRef)();}
componentDidMount(){if(this.props.focusOnMount){this.postLink.current.focus();}}
componentWillUnmount(){clearTimeout(this.dismissCopyConfirmation);}
onCopy(){this.setState({showCopyConfirmation:true});clearTimeout(this.dismissCopyConfirmation);this.dismissCopyConfirmation=setTimeout(()=>{this.setState({showCopyConfirmation:false});},4000);}
onSelectInput(event){event.target.select();}
render(){const{children,isScheduled,post,postType}=this.props;const postLabel=(0,external_lodash_namespaceObject.get)(postType,['labels','singular_name']);const viewPostLabel=(0,external_lodash_namespaceObject.get)(postType,['labels','view_item']);const addNewPostLabel=(0,external_lodash_namespaceObject.get)(postType,['labels','add_new_item']);const link=post.status==='future'?getFuturePostUrl(post):post.link;const addLink=(0,external_wp_url_namespaceObject.addQueryArgs)('post-new.php',{post_type:post.type});const postPublishNonLinkHeader=isScheduled?(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_i18n_namespaceObject.__)('is now scheduled. It will go live on'),' ',(0,external_wp_element_namespaceObject.createElement)(post_schedule_label,null),"."):(0,external_wp_i18n_namespaceObject.__)('is now live.');return(0,external_wp_element_namespaceObject.createElement)("div",{className:"post-publish-panel__postpublish"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{className:"post-publish-panel__postpublish-header"},(0,external_wp_element_namespaceObject.createElement)("a",{ref:this.postLink,href:link},(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(post.title)||(0,external_wp_i18n_namespaceObject.__)('(no title)')),' ',postPublishNonLinkHeader),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,null,(0,external_wp_element_namespaceObject.createElement)("p",{className:"post-publish-panel__postpublish-subheader"},(0,external_wp_element_namespaceObject.createElement)("strong",null,(0,external_wp_i18n_namespaceObject.__)('What’s next?'))),(0,external_wp_element_namespaceObject.createElement)("div",{className:"post-publish-panel__postpublish-post-address-container"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{className:"post-publish-panel__postpublish-post-address",readOnly:true,label:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s address'),postLabel),value:(0,external_wp_url_namespaceObject.safeDecodeURIComponent)(link),onFocus:this.onSelectInput}),(0,external_wp_element_namespaceObject.createElement)("div",{className:"post-publish-panel__postpublish-post-address__copy-button-wrap"},(0,external_wp_element_namespaceObject.createElement)(postpublish_CopyButton,{text:link,onCopy:this.onCopy},this.state.showCopyConfirmation?(0,external_wp_i18n_namespaceObject.__)('Copied!'):(0,external_wp_i18n_namespaceObject.__)('Copy')))),(0,external_wp_element_namespaceObject.createElement)("div",{className:"post-publish-panel__postpublish-buttons"},!isScheduled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"primary",href:link},viewPostLabel),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:isScheduled?'primary':'secondary',href:addLink},addNewPostLabel))),children);}}
var postpublish=((0,external_wp_data_namespaceObject.withSelect)(select=>{const{getEditedPostAttribute,getCurrentPost,isCurrentPostScheduled}=select(store_store);const{getPostType}=select(external_wp_coreData_namespaceObject.store);return{post:getCurrentPost(),postType:getPostType(getEditedPostAttribute('type')),isScheduled:isCurrentPostScheduled()};})(PostPublishPanelPostpublish));;class PostPublishPanel extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.onSubmit=this.onSubmit.bind(this);}
componentDidUpdate(prevProps){if(prevProps.isPublished&&!this.props.isSaving&&this.props.isDirty){this.props.onClose();}}
onSubmit(){const{onClose,hasPublishAction,isPostTypeViewable}=this.props;if(!hasPublishAction||!isPostTypeViewable){onClose();}}
render(){const{forceIsDirty,forceIsSaving,isBeingScheduled,isPublished,isPublishSidebarEnabled,isScheduled,isSaving,isSavingNonPostEntityChanges,onClose,onTogglePublishSidebar,PostPublishExtension,PrePublishExtension,...additionalProps}=this.props;const propsForPanel=(0,external_lodash_namespaceObject.omit)(additionalProps,['hasPublishAction','isDirty','isPostTypeViewable']);const isPublishedOrScheduled=isPublished||isScheduled&&isBeingScheduled;const isPrePublish=!isPublishedOrScheduled&&!isSaving;const isPostPublish=isPublishedOrScheduled&&!isSaving;return(0,external_wp_element_namespaceObject.createElement)("div",_extends({className:"editor-post-publish-panel"},propsForPanel),(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-publish-panel__header"},isPostPublish?(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{onClick:onClose,icon:close_small,label:(0,external_wp_i18n_namespaceObject.__)('Close panel')}):(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-publish-panel__header-publish-button"},(0,external_wp_element_namespaceObject.createElement)(post_publish_button,{focusOnMount:true,onSubmit:this.onSubmit,forceIsDirty:forceIsDirty,forceIsSaving:forceIsSaving})),(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-publish-panel__header-cancel-button"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{disabled:isSavingNonPostEntityChanges,onClick:onClose,variant:"secondary"},(0,external_wp_i18n_namespaceObject.__)('Cancel'))))),(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-publish-panel__content"},isPrePublish&&(0,external_wp_element_namespaceObject.createElement)(prepublish,null,PrePublishExtension&&(0,external_wp_element_namespaceObject.createElement)(PrePublishExtension,null)),isPostPublish&&(0,external_wp_element_namespaceObject.createElement)(postpublish,{focusOnMount:true},PostPublishExtension&&(0,external_wp_element_namespaceObject.createElement)(PostPublishExtension,null)),isSaving&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Spinner,null)),(0,external_wp_element_namespaceObject.createElement)("div",{className:"editor-post-publish-panel__footer"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{label:(0,external_wp_i18n_namespaceObject.__)('Always show pre-publish checks.'),checked:isPublishSidebarEnabled,onChange:onTogglePublishSidebar})));}}
var post_publish_panel=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{const{getPostType}=select(external_wp_coreData_namespaceObject.store);const{getCurrentPost,getEditedPostAttribute,isCurrentPostPublished,isCurrentPostScheduled,isEditedPostBeingScheduled,isEditedPostDirty,isSavingPost,isSavingNonPostEntityChanges}=select(store_store);const{isPublishSidebarEnabled}=select(store_store);const postType=getPostType(getEditedPostAttribute('type'));return{hasPublishAction:(0,external_lodash_namespaceObject.get)(getCurrentPost(),['_links','wp:action-publish'],false),isPostTypeViewable:(0,external_lodash_namespaceObject.get)(postType,['viewable'],false),isBeingScheduled:isEditedPostBeingScheduled(),isDirty:isEditedPostDirty(),isPublished:isCurrentPostPublished(),isPublishSidebarEnabled:isPublishSidebarEnabled(),isSaving:isSavingPost(),isSavingNonPostEntityChanges:isSavingNonPostEntityChanges(),isScheduled:isCurrentPostScheduled()};}),(0,external_wp_data_namespaceObject.withDispatch)((dispatch,_ref)=>{let{isPublishSidebarEnabled}=_ref;const{disablePublishSidebar,enablePublishSidebar}=dispatch(store_store);return{onTogglePublishSidebar:()=>{if(isPublishSidebarEnabled){disablePublishSidebar();}else{enablePublishSidebar();}}};}),external_wp_components_namespaceObject.withFocusReturn,external_wp_components_namespaceObject.withConstrainedTabbing])(PostPublishPanel));;const cloudUpload=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-4v-2.4L14 14l1-1-3-3-3 3 1 1 1.2-1.2v2.4H7.7c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4H9l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8 0 1-.8 1.8-1.7 1.8z"}));var cloud_upload=(cloudUpload);;function Icon(_ref){let{icon,size=24,...props}=_ref;return(0,external_wp_element_namespaceObject.cloneElement)(icon,{width:size,height:size,...props});}
var icon=(Icon);;const check_check=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));var library_check=(check_check);;const cloud=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z"}));var library_cloud=(cloud);;function PostSwitchToDraftButton(_ref){let{isSaving,isPublished,isScheduled,onClick}=_ref;const isMobileViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('small','<');const[showConfirmDialog,setShowConfirmDialog]=(0,external_wp_element_namespaceObject.useState)(false);if(!isPublished&&!isScheduled){return null;}
let alertMessage;if(isPublished){alertMessage=(0,external_wp_i18n_namespaceObject.__)('Are you sure you want to unpublish this post?');}else if(isScheduled){alertMessage=(0,external_wp_i18n_namespaceObject.__)('Are you sure you want to unschedule this post?');}
const handleConfirm=()=>{setShowConfirmDialog(false);onClick();};return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"editor-post-switch-to-draft",onClick:()=>{setShowConfirmDialog(true);},disabled:isSaving,variant:"tertiary"},isMobileViewport?(0,external_wp_i18n_namespaceObject.__)('Draft'):(0,external_wp_i18n_namespaceObject.__)('Switch to draft')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalConfirmDialog,{isOpen:showConfirmDialog,onConfirm:handleConfirm,onCancel:()=>setShowConfirmDialog(false)},alertMessage));}
var post_switch_to_draft_button=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{const{isSavingPost,isCurrentPostPublished,isCurrentPostScheduled}=select(store_store);return{isSaving:isSavingPost(),isPublished:isCurrentPostPublished(),isScheduled:isCurrentPostScheduled()};}),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>{const{editPost,savePost}=dispatch(store_store);return{onClick:()=>{editPost({status:'draft'});savePost();}};})])(PostSwitchToDraftButton));;function PostSavedState(_ref){let{forceIsDirty,forceIsSaving,showIconLabels=false}=_ref;const[forceSavedMessage,setForceSavedMessage]=(0,external_wp_element_namespaceObject.useState)(false);const isLargeViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('small');const{isAutosaving,isDirty,isNew,isPending,isPublished,isSaveable,isSaving,isScheduled,hasPublishAction}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getCurrentPost$_link,_getCurrentPost,_getCurrentPost$_link2;const{isEditedPostNew,isCurrentPostPublished,isCurrentPostScheduled,isEditedPostDirty,isSavingPost,isEditedPostSaveable,getCurrentPost,isAutosavingPost,getEditedPostAttribute}=select(store_store);return{isAutosaving:isAutosavingPost(),isDirty:forceIsDirty||isEditedPostDirty(),isNew:isEditedPostNew(),isPending:'pending'===getEditedPostAttribute('status'),isPublished:isCurrentPostPublished(),isSaving:forceIsSaving||isSavingPost(),isSaveable:isEditedPostSaveable(),isScheduled:isCurrentPostScheduled(),hasPublishAction:(_getCurrentPost$_link=(_getCurrentPost=getCurrentPost())===null||_getCurrentPost===void 0?void 0:(_getCurrentPost$_link2=_getCurrentPost._links)===null||_getCurrentPost$_link2===void 0?void 0:_getCurrentPost$_link2['wp:action-publish'])!==null&&_getCurrentPost$_link!==void 0?_getCurrentPost$_link:false};},[forceIsDirty,forceIsSaving]);const{savePost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const wasSaving=(0,external_wp_compose_namespaceObject.usePrevious)(isSaving);(0,external_wp_element_namespaceObject.useEffect)(()=>{let timeoutId;if(wasSaving&&!isSaving){setForceSavedMessage(true);timeoutId=setTimeout(()=>{setForceSavedMessage(false);},1000);}
return()=>clearTimeout(timeoutId);},[isSaving]);if(!hasPublishAction&&isPending){return null;}
if(isPublished||isScheduled){return(0,external_wp_element_namespaceObject.createElement)(post_switch_to_draft_button,null);}
const label=isPending?(0,external_wp_i18n_namespaceObject.__)('Save as pending'):(0,external_wp_i18n_namespaceObject.__)('Save draft');const shortLabel=(0,external_wp_i18n_namespaceObject.__)('Save');const isSaved=forceSavedMessage||!isNew&&!isDirty;const isSavedState=isSaving||isSaved;const isDisabled=isSaving||isSaved||!isSaveable;let text;if(isSaving){text=isAutosaving?(0,external_wp_i18n_namespaceObject.__)('Autosaving'):(0,external_wp_i18n_namespaceObject.__)('Saving');}else if(isSaved){text=(0,external_wp_i18n_namespaceObject.__)('Saved');}else if(isLargeViewport){text=label;}else if(showIconLabels){text=shortLabel;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:isSaveable||isSaving?classnames_default()({'editor-post-save-draft':!isSavedState,'editor-post-saved-state':isSavedState,'is-saving':isSaving,'is-autosaving':isAutosaving,'is-saved':isSaved,[(0,external_wp_components_namespaceObject.__unstableGetAnimateClassName)({type:'loading'})]:isSaving}):undefined,onClick:isDisabled?undefined:()=>savePost(),shortcut:external_wp_keycodes_namespaceObject.displayShortcut.primary('s'),variant:isLargeViewport?'tertiary':undefined,icon:isLargeViewport?undefined:cloud_upload,label:showIconLabels?undefined:label,"aria-disabled":isDisabled},isSavedState&&(0,external_wp_element_namespaceObject.createElement)(icon,{icon:isSaved?library_check:library_cloud}),text);};function PostScheduleCheck(_ref){let{hasPublishAction,children}=_ref;if(!hasPublishAction){return null;}
return children;}
var post_schedule_check=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{const{getCurrentPost,getCurrentPostType}=select(store_store);return{hasPublishAction:(0,external_lodash_namespaceObject.get)(getCurrentPost(),['_links','wp:action-publish'],false),postType:getCurrentPostType()};})])(PostScheduleCheck));;function PostSlugCheck(_ref){let{children}=_ref;return(0,external_wp_element_namespaceObject.createElement)(post_type_support_check,{supportKeys:"slug"},children);};class PostSlug extends external_wp_element_namespaceObject.Component{constructor(_ref){let{postSlug,postTitle,postID}=_ref;super(...arguments);this.state={editedSlug:(0,external_wp_url_namespaceObject.safeDecodeURIComponent)(postSlug)||(0,external_wp_url_namespaceObject.cleanForSlug)(postTitle)||postID};this.setSlug=this.setSlug.bind(this);}
setSlug(event){const{postSlug,onUpdateSlug}=this.props;const{value}=event.target;const editedSlug=(0,external_wp_url_namespaceObject.cleanForSlug)(value);if(editedSlug===postSlug){return;}
onUpdateSlug(editedSlug);}
render(){const{instanceId}=this.props;const{editedSlug}=this.state;const inputId='editor-post-slug-'+instanceId;return(0,external_wp_element_namespaceObject.createElement)(PostSlugCheck,null,(0,external_wp_element_namespaceObject.createElement)("label",{htmlFor:inputId},(0,external_wp_i18n_namespaceObject.__)('Slug')),(0,external_wp_element_namespaceObject.createElement)("input",{autoComplete:"off",spellCheck:"false",type:"text",id:inputId,value:editedSlug,onChange:event=>this.setState({editedSlug:event.target.value}),onBlur:this.setSlug,className:"editor-post-slug__input"}));}}
var post_slug=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{const{getCurrentPost,getEditedPostAttribute}=select(store_store);const{id}=getCurrentPost();return{postSlug:getEditedPostAttribute('slug'),postTitle:getEditedPostAttribute('title'),postID:id};}),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>{const{editPost}=dispatch(store_store);return{onUpdateSlug(slug){editPost({slug});}};}),external_wp_compose_namespaceObject.withInstanceId])(PostSlug));;function PostStickyCheck(_ref){let{hasStickyAction,postType,children}=_ref;if(postType!=='post'||!hasStickyAction){return null;}
return children;}
var post_sticky_check=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{const post=select(store_store).getCurrentPost();return{hasStickyAction:(0,external_lodash_namespaceObject.get)(post,['_links','wp:action-sticky'],false),postType:select(store_store).getCurrentPostType()};})])(PostStickyCheck));;function PostSticky(_ref){let{onUpdateSticky,postSticky=false}=_ref;return(0,external_wp_element_namespaceObject.createElement)(post_sticky_check,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{label:(0,external_wp_i18n_namespaceObject.__)('Stick to the top of the blog'),checked:postSticky,onChange:()=>onUpdateSticky(!postSticky)}));}
var post_sticky=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{return{postSticky:select(store_store).getEditedPostAttribute('sticky')};}),(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>{return{onUpdateSticky(postSticky){dispatch(store_store).editPost({sticky:postSticky});}};})])(PostSticky));;function PostTaxonomies(_ref){let{postType,taxonomies,taxonomyWrapper=external_lodash_namespaceObject.identity}=_ref;const availableTaxonomies=(0,external_lodash_namespaceObject.filter)(taxonomies,taxonomy=>(0,external_lodash_namespaceObject.includes)(taxonomy.types,postType));const visibleTaxonomies=(0,external_lodash_namespaceObject.filter)(availableTaxonomies,taxonomy=>{var _taxonomy$visibility;return(_taxonomy$visibility=taxonomy.visibility)===null||_taxonomy$visibility===void 0?void 0:_taxonomy$visibility.show_ui;});return visibleTaxonomies.map(taxonomy=>{const TaxonomyComponent=taxonomy.hierarchical?hierarchical_term_selector:flat_term_selector;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,{key:`taxonomy-${taxonomy.slug}`},taxonomyWrapper((0,external_wp_element_namespaceObject.createElement)(TaxonomyComponent,{slug:taxonomy.slug}),taxonomy));});}
var post_taxonomies=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{return{postType:select(store_store).getCurrentPostType(),taxonomies:select(external_wp_coreData_namespaceObject.store).getTaxonomies({per_page:-1})};})])(PostTaxonomies));;function PostTaxonomiesCheck(_ref){let{postType,taxonomies,children}=_ref;const hasTaxonomies=(0,external_lodash_namespaceObject.some)(taxonomies,taxonomy=>(0,external_lodash_namespaceObject.includes)(taxonomy.types,postType));if(!hasTaxonomies){return null;}
return children;}
var post_taxonomies_check=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{return{postType:select(store_store).getCurrentPostType(),taxonomies:select(external_wp_coreData_namespaceObject.store).getTaxonomies({per_page:-1})};})])(PostTaxonomiesCheck));var lib=__webpack_require__(773);;function PostTextEditor(){const postContent=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store_store).getEditedPostContent(),[]);const{editPost,resetEditorBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const[value,setValue]=(0,external_wp_element_namespaceObject.useState)(postContent);const[isDirty,setIsDirty]=(0,external_wp_element_namespaceObject.useState)(false);const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(PostTextEditor);const valueRef=(0,external_wp_element_namespaceObject.useRef)();if(!isDirty&&value!==postContent){setValue(postContent);}
const onChange=event=>{const newValue=event.target.value;editPost({content:newValue});setValue(newValue);setIsDirty(true);};const stopEditing=()=>{if(isDirty){const blocks=(0,external_wp_blocks_namespaceObject.parse)(value);resetEditorBlocks(blocks);setIsDirty(false);}};(0,external_wp_element_namespaceObject.useEffect)(()=>{valueRef.current=value;},[value]);(0,external_wp_element_namespaceObject.useEffect)(()=>{return()=>{const blocks=(0,external_wp_blocks_namespaceObject.parse)(valueRef.current);resetEditorBlocks(blocks);};},[]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"label",htmlFor:`post-content-${instanceId}`},(0,external_wp_i18n_namespaceObject.__)('Type text or HTML')),(0,external_wp_element_namespaceObject.createElement)(lib.Z,{autoComplete:"off",dir:"auto",value:value,onChange:onChange,onBlur:stopEditing,className:"editor-post-text-editor",id:`post-content-${instanceId}`,placeholder:(0,external_wp_i18n_namespaceObject.__)('Start writing with text or HTML')}));};const REGEXP_NEWLINES=/[\r\n]+/g;function PostTitle(){const ref=(0,external_wp_element_namespaceObject.useRef)();const[isSelected,setIsSelected]=(0,external_wp_element_namespaceObject.useState)(false);const{editPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const{insertDefaultBlock,clearSelectedBlock,insertBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_blockEditor_namespaceObject.store);const{isCleanNewPost,title,placeholder,isFocusMode,hasFixedToolbar}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getEditedPostAttribute,isCleanNewPost:_isCleanNewPost}=select(store_store);const{getSettings}=select(external_wp_blockEditor_namespaceObject.store);const{titlePlaceholder,focusMode,hasFixedToolbar:_hasFixedToolbar}=getSettings();return{isCleanNewPost:_isCleanNewPost(),title:getEditedPostAttribute('title'),placeholder:titlePlaceholder,isFocusMode:focusMode,hasFixedToolbar:_hasFixedToolbar};},[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!ref.current){return;}
const{ownerDocument}=ref.current;const{activeElement,body}=ownerDocument;if(isCleanNewPost&&(!activeElement||body===activeElement)){ref.current.focus();}},[isCleanNewPost]);function onEnterPress(){insertDefaultBlock(undefined,undefined,0);}
function onInsertBlockAfter(blocks){insertBlocks(blocks,0);}
function onUpdate(newTitle){editPost({title:newTitle});}
const[selection,setSelection]=(0,external_wp_element_namespaceObject.useState)({});function onSelect(){setIsSelected(true);clearSelectedBlock();}
function onUnselect(){setIsSelected(false);setSelection({});}
function onChange(value){onUpdate(value.replace(REGEXP_NEWLINES,' '));}
function onKeyDown(event){if(event.keyCode===external_wp_keycodes_namespaceObject.ENTER){event.preventDefault();onEnterPress();}}
function onPaste(event){const clipboardData=event.clipboardData;let plainText='';let html='';try{plainText=clipboardData.getData('text/plain');html=clipboardData.getData('text/html');}catch(error1){try{html=clipboardData.getData('Text');}catch(error2){return;}}
window.console.log('Received HTML:\n\n',html);window.console.log('Received plain text:\n\n',plainText);const content=(0,external_wp_blocks_namespaceObject.pasteHandler)({HTML:html,plainText});if(typeof content!=='string'&&content.length){event.preventDefault();const[firstBlock]=content;if(!title&&(firstBlock.name==='core/heading'||firstBlock.name==='core/paragraph')){onUpdate(firstBlock.attributes.content);onInsertBlockAfter(content.slice(1));}else{onInsertBlockAfter(content);}}}
const className=classnames_default()('wp-block wp-block-post-title block-editor-block-list__block editor-post-title editor-post-title__input rich-text',{'is-selected':isSelected,'is-focus-mode':isFocusMode,'has-fixed-toolbar':hasFixedToolbar});const decodedPlaceholder=(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(placeholder)||(0,external_wp_i18n_namespaceObject.__)('Add title');const{ref:richTextRef}=(0,external_wp_richText_namespaceObject.__unstableUseRichText)({value:title,onChange,placeholder:decodedPlaceholder,selectionStart:selection.start,selectionEnd:selection.end,onSelectionChange(newStart,newEnd){setSelection(sel=>{const{start,end}=sel;if(start===newStart&&end===newEnd){return sel;}
return{start:newStart,end:newEnd};});},__unstableDisableFormats:true,preserveWhiteSpace:true});return(0,external_wp_element_namespaceObject.createElement)(post_type_support_check,{supportKeys:"title"},(0,external_wp_element_namespaceObject.createElement)("h1",{ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([richTextRef,ref]),contentEditable:true,className:className,"aria-label":decodedPlaceholder,role:"textbox","aria-multiline":"true",onFocus:onSelect,onBlur:onUnselect,onKeyDown:onKeyDown,onKeyPress:onUnselect,onPaste:onPaste}));};function PostTrash(){const{isNew,postId}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const store=select(store_store);return{isNew:store.isEditedPostNew(),postId:store.getCurrentPostId()};},[]);const{trashPost}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);if(isNew||!postId){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"editor-post-trash",isDestructive:true,variant:"secondary",onClick:()=>trashPost()},(0,external_wp_i18n_namespaceObject.__)('Move to trash'));};function PostTrashCheck(_ref){let{isNew,postId,canUserDelete,children}=_ref;if(isNew||!postId||!canUserDelete){return null;}
return children;}
var post_trash_check=((0,external_wp_data_namespaceObject.withSelect)(select=>{const{isEditedPostNew,getCurrentPostId,getCurrentPostType}=select(store_store);const{getPostType,canUser}=select(external_wp_coreData_namespaceObject.store);const postId=getCurrentPostId();const postType=getPostType(getCurrentPostType());const resource=(postType===null||postType===void 0?void 0:postType.rest_base)||'';return{isNew:isEditedPostNew(),postId,canUserDelete:postId&&resource?canUser('delete',resource,postId):false};})(PostTrashCheck));;function PostVisibilityCheck(_ref){let{hasPublishAction,render}=_ref;const canEdit=hasPublishAction;return render({canEdit});}
var post_visibility_check=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)(select=>{const{getCurrentPost,getCurrentPostType}=select(store_store);return{hasPublishAction:(0,external_lodash_namespaceObject.get)(getCurrentPost(),['_links','wp:action-publish'],false),postType:getCurrentPostType()};})])(PostVisibilityCheck));;const info=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}));var library_info=(info);;var external_wp_wordcount_namespaceObject=window["wp"]["wordcount"];;function WordCount(){const content=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store_store).getEditedPostAttribute('content'),[]);const wordCountType=(0,external_wp_i18n_namespaceObject._x)('words','Word count type. Do not translate!');return(0,external_wp_element_namespaceObject.createElement)("span",{className:"word-count"},(0,external_wp_wordcount_namespaceObject.count)(content,wordCountType));};function CharacterCount(){const content=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store_store).getEditedPostAttribute('content'),[]);return(0,external_wp_wordcount_namespaceObject.count)(content,'characters_including_spaces');};function TableOfContentsPanel(_ref){let{hasOutlineItemsDisabled,onRequestClose}=_ref;const{headingCount,paragraphCount,numberOfBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getGlobalBlockCount}=select(external_wp_blockEditor_namespaceObject.store);return{headingCount:getGlobalBlockCount('core/heading'),paragraphCount:getGlobalBlockCount('core/paragraph'),numberOfBlocks:getGlobalBlockCount()};},[]);return((0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:"table-of-contents__wrapper",role:"note","aria-label":(0,external_wp_i18n_namespaceObject.__)('Document Statistics'),tabIndex:"0"},(0,external_wp_element_namespaceObject.createElement)("ul",{role:"list",className:"table-of-contents__counts"},(0,external_wp_element_namespaceObject.createElement)("li",{className:"table-of-contents__count"},(0,external_wp_i18n_namespaceObject.__)('Characters'),(0,external_wp_element_namespaceObject.createElement)("span",{className:"table-of-contents__number"},(0,external_wp_element_namespaceObject.createElement)(CharacterCount,null))),(0,external_wp_element_namespaceObject.createElement)("li",{className:"table-of-contents__count"},(0,external_wp_i18n_namespaceObject.__)('Words'),(0,external_wp_element_namespaceObject.createElement)(WordCount,null)),(0,external_wp_element_namespaceObject.createElement)("li",{className:"table-of-contents__count"},(0,external_wp_i18n_namespaceObject.__)('Headings'),(0,external_wp_element_namespaceObject.createElement)("span",{className:"table-of-contents__number"},headingCount)),(0,external_wp_element_namespaceObject.createElement)("li",{className:"table-of-contents__count"},(0,external_wp_i18n_namespaceObject.__)('Paragraphs'),(0,external_wp_element_namespaceObject.createElement)("span",{className:"table-of-contents__number"},paragraphCount)),(0,external_wp_element_namespaceObject.createElement)("li",{className:"table-of-contents__count"},(0,external_wp_i18n_namespaceObject.__)('Blocks'),(0,external_wp_element_namespaceObject.createElement)("span",{className:"table-of-contents__number"},numberOfBlocks)))),headingCount>0&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("hr",null),(0,external_wp_element_namespaceObject.createElement)("h2",{className:"table-of-contents__title"},(0,external_wp_i18n_namespaceObject.__)('Document Outline')),(0,external_wp_element_namespaceObject.createElement)(document_outline,{onSelect:onRequestClose,hasOutlineItemsDisabled:hasOutlineItemsDisabled}))));}
var panel=(TableOfContentsPanel);;function TableOfContents(_ref,ref){let{hasOutlineItemsDisabled,repositionDropdown,...props}=_ref;const hasBlocks=(0,external_wp_data_namespaceObject.useSelect)(select=>!!select(external_wp_blockEditor_namespaceObject.store).getBlockCount(),[]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Dropdown,{position:repositionDropdown?'middle right right':'bottom',className:"table-of-contents",contentClassName:"table-of-contents__popover",renderToggle:_ref2=>{let{isOpen,onToggle}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({},props,{ref:ref,onClick:hasBlocks?onToggle:undefined,icon:library_info,"aria-expanded":isOpen,"aria-haspopup":"true",label:(0,external_wp_i18n_namespaceObject.__)('Details'),tooltipPosition:"bottom","aria-disabled":!hasBlocks}));},renderContent:_ref3=>{let{onClose}=_ref3;return(0,external_wp_element_namespaceObject.createElement)(panel,{onRequestClose:onClose,hasOutlineItemsDisabled:hasOutlineItemsDisabled});}});}
var table_of_contents=((0,external_wp_element_namespaceObject.forwardRef)(TableOfContents));;function UnsavedChangesWarning(){const isDirty=(0,external_wp_data_namespaceObject.useSelect)(select=>{return()=>{const{__experimentalGetDirtyEntityRecords}=select(external_wp_coreData_namespaceObject.store);const dirtyEntityRecords=__experimentalGetDirtyEntityRecords();return dirtyEntityRecords.length>0;};},[]);const warnIfUnsavedChanges=event=>{if(isDirty()){event.returnValue=(0,external_wp_i18n_namespaceObject.__)('You have unsaved changes. If you proceed, they will be lost.');return event.returnValue;}};(0,external_wp_element_namespaceObject.useEffect)(()=>{window.addEventListener('beforeunload',warnIfUnsavedChanges);return()=>{window.removeEventListener('beforeunload',warnIfUnsavedChanges);};},[]);return null;};var external_wp_reusableBlocks_namespaceObject=window["wp"]["reusableBlocks"];;const withRegistryProvider=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>(0,external_wp_data_namespaceObject.withRegistry)(props=>{const{useSubRegistry=true,registry,...additionalProps}=props;if(!useSubRegistry){return(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,additionalProps);}
const[subRegistry,setSubRegistry]=(0,external_wp_element_namespaceObject.useState)(null);(0,external_wp_element_namespaceObject.useEffect)(()=>{const newRegistry=(0,external_wp_data_namespaceObject.createRegistry)({'core/block-editor':external_wp_blockEditor_namespaceObject.storeConfig},registry);newRegistry.registerStore('core/editor',storeConfig);setSubRegistry(newRegistry);},[registry]);if(!subRegistry){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_data_namespaceObject.RegistryProvider,{value:subRegistry},(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,additionalProps));}),'withRegistryProvider');var with_registry_provider=(withRegistryProvider);;var external_wp_mediaUtils_namespaceObject=window["wp"]["mediaUtils"];;function mediaUpload(_ref){let{additionalData={},allowedTypes,filesList,maxUploadFileSize,onError=external_lodash_namespaceObject.noop,onFileChange}=_ref;const{getCurrentPostId,getEditorSettings}=(0,external_wp_data_namespaceObject.select)(store_store);const wpAllowedMimeTypes=getEditorSettings().allowedMimeTypes;maxUploadFileSize=maxUploadFileSize||getEditorSettings().maxUploadFileSize;(0,external_wp_mediaUtils_namespaceObject.uploadMedia)({allowedTypes,filesList,onFileChange,additionalData:{post:getCurrentPostId(),...additionalData},maxUploadFileSize,onError:_ref2=>{let{message}=_ref2;return onError(message);},wpAllowedMimeTypes});};function useBlockEditorSettings(settings,hasTemplate){var _settings$__experimen,_settings$__experimen2;const{reusableBlocks,hasUploadPermissions,canUseUnfilteredHTML,userCanCreatePages,pageOnFront}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{canUserUseUnfilteredHTML}=select(store_store);const isWeb=external_wp_element_namespaceObject.Platform.OS==='web';const{canUser,getEntityRecord}=select(external_wp_coreData_namespaceObject.store);const siteSettings=getEntityRecord('root','site');return{canUseUnfilteredHTML:canUserUseUnfilteredHTML(),reusableBlocks:isWeb?select(external_wp_coreData_namespaceObject.store).getEntityRecords('postType','wp_block',{per_page:-1}):[],hasUploadPermissions:(0,external_lodash_namespaceObject.defaultTo)(canUser('create','media'),true),userCanCreatePages:canUser('create','pages'),pageOnFront:siteSettings===null||siteSettings===void 0?void 0:siteSettings.page_on_front};},[]);const settingsBlockPatterns=(_settings$__experimen=settings.__experimentalAdditionalBlockPatterns)!==null&&_settings$__experimen!==void 0?_settings$__experimen:settings.__experimentalBlockPatterns;const settingsBlockPatternCategories=(_settings$__experimen2=settings.__experimentalAdditionalBlockPatternCategories)!==null&&_settings$__experimen2!==void 0?_settings$__experimen2:settings.__experimentalBlockPatternCategories;const{restBlockPatterns,restBlockPatternCategories}=(0,external_wp_data_namespaceObject.useSelect)(select=>({restBlockPatterns:select(external_wp_coreData_namespaceObject.store).getBlockPatterns(),restBlockPatternCategories:select(external_wp_coreData_namespaceObject.store).getBlockPatternCategories()}),[]);const blockPatterns=(0,external_wp_element_namespaceObject.useMemo)(()=>(0,external_lodash_namespaceObject.unionBy)(settingsBlockPatterns,restBlockPatterns,'name'),[settingsBlockPatterns,restBlockPatterns]);const blockPatternCategories=(0,external_wp_element_namespaceObject.useMemo)(()=>(0,external_lodash_namespaceObject.unionBy)(settingsBlockPatternCategories,restBlockPatternCategories,'name'),[settingsBlockPatternCategories,restBlockPatternCategories]);const{undo}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const{saveEntityRecord}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_coreData_namespaceObject.store);const createPageEntity=options=>{if(!userCanCreatePages){return Promise.reject({message:(0,external_wp_i18n_namespaceObject.__)('You do not have permission to create Pages.')});}
return saveEntityRecord('postType','page',options);};return(0,external_wp_element_namespaceObject.useMemo)(()=>({...(0,external_lodash_namespaceObject.pick)(settings,['__experimentalBlockDirectory','__experimentalDiscussionSettings','__experimentalFeatures','__experimentalPreferredStyleVariations','__experimentalSetIsInserterOpened','__unstableGalleryWithImageBlocks','alignWide','allowedBlockTypes','bodyPlaceholder','canLockBlocks','codeEditingEnabled','colors','disableCustomColors','disableCustomFontSizes','disableCustomGradients','enableCustomLineHeight','enableCustomSpacing','enableCustomUnits','focusMode','fontSizes','gradients','generateAnchors','hasFixedToolbar','hasReducedUI','imageDefaultSize','imageDimensions','imageEditing','imageSizes','isRTL','keepCaretInsideBlock','maxWidth','onUpdateDefaultBlockStyles','styles','template','templateLock','titlePlaceholder','supportsLayout','widgetTypesToHideFromLegacyWidgetBlock','__unstableResolvedAssets']),mediaUpload:hasUploadPermissions?mediaUpload:undefined,__experimentalReusableBlocks:reusableBlocks,__experimentalBlockPatterns:blockPatterns,__experimentalBlockPatternCategories:blockPatternCategories,__experimentalFetchLinkSuggestions:(search,searchOptions)=>(0,external_wp_coreData_namespaceObject.__experimentalFetchLinkSuggestions)(search,searchOptions,settings),__experimentalFetchRichUrlData:external_wp_coreData_namespaceObject.__experimentalFetchUrlData,__experimentalCanUserUseUnfilteredHTML:canUseUnfilteredHTML,__experimentalUndo:undo,outlineMode:hasTemplate,__experimentalCreatePageEntity:createPageEntity,__experimentalUserCanCreatePages:userCanCreatePages,pageOnFront,__experimentalPreferPatternsOnRoot:hasTemplate}),[settings,hasUploadPermissions,reusableBlocks,blockPatterns,blockPatternCategories,canUseUnfilteredHTML,undo,hasTemplate,userCanCreatePages,pageOnFront]);}
var use_block_editor_settings=(useBlockEditorSettings);;function EditorProvider(_ref){let{__unstableTemplate,post,settings,recovery,initialEdits,children}=_ref;const defaultBlockContext=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(post.type==='wp_template'){return{};}
return{postId:post.id,postType:post.type};},[post.id,post.type]);const{selection,isReady}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getEditorSelection,__unstableIsEditorReady}=select(store_store);return{isReady:__unstableIsEditorReady(),selection:getEditorSelection()};},[]);const{id,type}=__unstableTemplate!==null&&__unstableTemplate!==void 0?__unstableTemplate:post;const[blocks,onInput,onChange]=(0,external_wp_coreData_namespaceObject.useEntityBlockEditor)('postType',type,{id});const editorSettings=use_block_editor_settings(settings,!!__unstableTemplate);const{updatePostLock,setupEditor,updateEditorSettings,__experimentalTearDownEditor}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const{createWarningNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(recovery){return;}
updatePostLock(settings.postLock);setupEditor(post,initialEdits,settings.template);if(settings.autosave){createWarningNotice((0,external_wp_i18n_namespaceObject.__)('There is an autosave of this post that is more recent than the version below.'),{id:'autosave-exists',actions:[{label:(0,external_wp_i18n_namespaceObject.__)('View the autosave'),url:settings.autosave.editLink}]});}
return()=>{__experimentalTearDownEditor();};},[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{updateEditorSettings(settings);},[settings]);if(!isReady){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_coreData_namespaceObject.EntityProvider,{kind:"root",type:"site"},(0,external_wp_element_namespaceObject.createElement)(external_wp_coreData_namespaceObject.EntityProvider,{kind:"postType",type:post.type,id:post.id},(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockContextProvider,{value:defaultBlockContext},(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockEditorProvider,{value:blocks,onChange:onChange,onInput:onInput,selection:selection,settings:editorSettings,useSubRegistry:false},children,(0,external_wp_element_namespaceObject.createElement)(external_wp_reusableBlocks_namespaceObject.ReusableBlocksMenuItems,null)))));}
var provider=(with_registry_provider(EditorProvider));;var external_wp_serverSideRender_namespaceObject=window["wp"]["serverSideRender"];var external_wp_serverSideRender_default=__webpack_require__.n(external_wp_serverSideRender_namespaceObject);;function deprecateComponent(name,Wrapped){let staticsToHoist=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];const Component=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{external_wp_deprecated_default()('wp.editor.'+name,{since:'5.3',alternative:'wp.blockEditor.'+name,version:'6.2'});return(0,external_wp_element_namespaceObject.createElement)(Wrapped,_extends({ref:ref},props));});staticsToHoist.forEach(staticName=>{Component[staticName]=deprecateComponent(name+'.'+staticName,Wrapped[staticName]);});return Component;}
function deprecateFunction(name,func){return function(){external_wp_deprecated_default()('wp.editor.'+name,{since:'5.3',alternative:'wp.blockEditor.'+name,version:'6.2'});return func(...arguments);};}
const RichText=deprecateComponent('RichText',external_wp_blockEditor_namespaceObject.RichText,['Content']);RichText.isEmpty=deprecateFunction('RichText.isEmpty',external_wp_blockEditor_namespaceObject.RichText.isEmpty);const Autocomplete=deprecateComponent('Autocomplete',external_wp_blockEditor_namespaceObject.Autocomplete);const AlignmentToolbar=deprecateComponent('AlignmentToolbar',external_wp_blockEditor_namespaceObject.AlignmentToolbar);const BlockAlignmentToolbar=deprecateComponent('BlockAlignmentToolbar',external_wp_blockEditor_namespaceObject.BlockAlignmentToolbar);const BlockControls=deprecateComponent('BlockControls',external_wp_blockEditor_namespaceObject.BlockControls,['Slot']);const BlockEdit=deprecateComponent('BlockEdit',external_wp_blockEditor_namespaceObject.BlockEdit);const BlockEditorKeyboardShortcuts=deprecateComponent('BlockEditorKeyboardShortcuts',external_wp_blockEditor_namespaceObject.BlockEditorKeyboardShortcuts);const BlockFormatControls=deprecateComponent('BlockFormatControls',external_wp_blockEditor_namespaceObject.BlockFormatControls,['Slot']);const BlockIcon=deprecateComponent('BlockIcon',external_wp_blockEditor_namespaceObject.BlockIcon);const BlockInspector=deprecateComponent('BlockInspector',external_wp_blockEditor_namespaceObject.BlockInspector);const BlockList=deprecateComponent('BlockList',external_wp_blockEditor_namespaceObject.BlockList);const BlockMover=deprecateComponent('BlockMover',external_wp_blockEditor_namespaceObject.BlockMover);const BlockNavigationDropdown=deprecateComponent('BlockNavigationDropdown',external_wp_blockEditor_namespaceObject.BlockNavigationDropdown);const BlockSelectionClearer=deprecateComponent('BlockSelectionClearer',external_wp_blockEditor_namespaceObject.BlockSelectionClearer);const BlockSettingsMenu=deprecateComponent('BlockSettingsMenu',external_wp_blockEditor_namespaceObject.BlockSettingsMenu);const BlockTitle=deprecateComponent('BlockTitle',external_wp_blockEditor_namespaceObject.BlockTitle);const BlockToolbar=deprecateComponent('BlockToolbar',external_wp_blockEditor_namespaceObject.BlockToolbar);const ColorPalette=deprecateComponent('ColorPalette',external_wp_blockEditor_namespaceObject.ColorPalette);const ContrastChecker=deprecateComponent('ContrastChecker',external_wp_blockEditor_namespaceObject.ContrastChecker);const CopyHandler=deprecateComponent('CopyHandler',external_wp_blockEditor_namespaceObject.CopyHandler);const DefaultBlockAppender=deprecateComponent('DefaultBlockAppender',external_wp_blockEditor_namespaceObject.DefaultBlockAppender);const FontSizePicker=deprecateComponent('FontSizePicker',external_wp_blockEditor_namespaceObject.FontSizePicker);const Inserter=deprecateComponent('Inserter',external_wp_blockEditor_namespaceObject.Inserter);const InnerBlocks=deprecateComponent('InnerBlocks',external_wp_blockEditor_namespaceObject.InnerBlocks,['ButtonBlockAppender','DefaultBlockAppender','Content']);const InspectorAdvancedControls=deprecateComponent('InspectorAdvancedControls',external_wp_blockEditor_namespaceObject.InspectorAdvancedControls,['Slot']);const InspectorControls=deprecateComponent('InspectorControls',external_wp_blockEditor_namespaceObject.InspectorControls,['Slot']);const PanelColorSettings=deprecateComponent('PanelColorSettings',external_wp_blockEditor_namespaceObject.PanelColorSettings);const PlainText=deprecateComponent('PlainText',external_wp_blockEditor_namespaceObject.PlainText);const RichTextShortcut=deprecateComponent('RichTextShortcut',external_wp_blockEditor_namespaceObject.RichTextShortcut);const RichTextToolbarButton=deprecateComponent('RichTextToolbarButton',external_wp_blockEditor_namespaceObject.RichTextToolbarButton);const __unstableRichTextInputEvent=deprecateComponent('__unstableRichTextInputEvent',external_wp_blockEditor_namespaceObject.__unstableRichTextInputEvent);const MediaPlaceholder=deprecateComponent('MediaPlaceholder',external_wp_blockEditor_namespaceObject.MediaPlaceholder);const MediaUpload=deprecateComponent('MediaUpload',external_wp_blockEditor_namespaceObject.MediaUpload);const MediaUploadCheck=deprecateComponent('MediaUploadCheck',external_wp_blockEditor_namespaceObject.MediaUploadCheck);const MultiSelectScrollIntoView=deprecateComponent('MultiSelectScrollIntoView',external_wp_blockEditor_namespaceObject.MultiSelectScrollIntoView);const NavigableToolbar=deprecateComponent('NavigableToolbar',external_wp_blockEditor_namespaceObject.NavigableToolbar);const ObserveTyping=deprecateComponent('ObserveTyping',external_wp_blockEditor_namespaceObject.ObserveTyping);const SkipToSelectedBlock=deprecateComponent('SkipToSelectedBlock',external_wp_blockEditor_namespaceObject.SkipToSelectedBlock);const URLInput=deprecateComponent('URLInput',external_wp_blockEditor_namespaceObject.URLInput);const URLInputButton=deprecateComponent('URLInputButton',external_wp_blockEditor_namespaceObject.URLInputButton);const URLPopover=deprecateComponent('URLPopover',external_wp_blockEditor_namespaceObject.URLPopover);const Warning=deprecateComponent('Warning',external_wp_blockEditor_namespaceObject.Warning);const WritingFlow=deprecateComponent('WritingFlow',external_wp_blockEditor_namespaceObject.WritingFlow);const createCustomColorsHOC=deprecateFunction('createCustomColorsHOC',external_wp_blockEditor_namespaceObject.createCustomColorsHOC);const getColorClassName=deprecateFunction('getColorClassName',external_wp_blockEditor_namespaceObject.getColorClassName);const getColorObjectByAttributeValues=deprecateFunction('getColorObjectByAttributeValues',external_wp_blockEditor_namespaceObject.getColorObjectByAttributeValues);const getColorObjectByColorValue=deprecateFunction('getColorObjectByColorValue',external_wp_blockEditor_namespaceObject.getColorObjectByColorValue);const getFontSize=deprecateFunction('getFontSize',external_wp_blockEditor_namespaceObject.getFontSize);const getFontSizeClass=deprecateFunction('getFontSizeClass',external_wp_blockEditor_namespaceObject.getFontSizeClass);const withColorContext=deprecateFunction('withColorContext',external_wp_blockEditor_namespaceObject.withColorContext);const withColors=deprecateFunction('withColors',external_wp_blockEditor_namespaceObject.withColors);const withFontSizes=deprecateFunction('withFontSizes',external_wp_blockEditor_namespaceObject.withFontSizes);;;function cleanForSlug(string){external_wp_deprecated_default()('wp.editor.cleanForSlug',{since:'12.7',plugin:'Gutenberg',alternative:'wp.url.cleanForSlug'});return(0,external_wp_url_namespaceObject.cleanForSlug)(string);};;}();(window.wp=window.wp||{}).editor=__webpack_exports__;})();