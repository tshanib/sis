(function(){var __webpack_modules__=({4403:(function(module,exports){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
Copyright (c) 2018 Jed Watson.
Licensed under the MIT License (MIT), see
http://jedwatson.github.io/classnames
*/(function(){'use strict';var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==='string'||argType==='number'){classes.push(arg);}else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner);}}}else if(argType==='object'){if(arg.toString===Object.prototype.toString){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key);}}}else{classes.push(arg.toString());}}}
return classes.join(' ');}
if(true&&module.exports){classNames.default=classNames;module.exports=classNames;}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=(function(){return classNames;}).apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else{}}());})});var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports;}
var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports;}
!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module['default'];}:function(){return module;};__webpack_require__.d(getter,{a:getter});return getter;};}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]});}}};}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}}();!function(){__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};}();var __webpack_exports__={};!function(){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"initialize":function(){return initialize;},"reinitializeEditor":function(){return reinitializeEditor;}});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject);__webpack_require__.d(actions_namespaceObject,{"disableComplementaryArea":function(){return disableComplementaryArea;},"enableComplementaryArea":function(){return enableComplementaryArea;},"pinItem":function(){return pinItem;},"setFeatureDefaults":function(){return setFeatureDefaults;},"setFeatureValue":function(){return setFeatureValue;},"toggleFeature":function(){return toggleFeature;},"unpinItem":function(){return unpinItem;}});var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject);__webpack_require__.d(selectors_namespaceObject,{"getActiveComplementaryArea":function(){return getActiveComplementaryArea;},"isFeatureActive":function(){return isFeatureActive;},"isItemPinned":function(){return isItemPinned;}});var store_actions_namespaceObject={};__webpack_require__.r(store_actions_namespaceObject);__webpack_require__.d(store_actions_namespaceObject,{"closeGeneralSidebar":function(){return closeGeneralSidebar;},"moveBlockToWidgetArea":function(){return moveBlockToWidgetArea;},"persistStubPost":function(){return persistStubPost;},"saveEditedWidgetAreas":function(){return saveEditedWidgetAreas;},"saveWidgetArea":function(){return saveWidgetArea;},"saveWidgetAreas":function(){return saveWidgetAreas;},"setIsInserterOpened":function(){return setIsInserterOpened;},"setIsListViewOpened":function(){return setIsListViewOpened;},"setIsWidgetAreaOpen":function(){return setIsWidgetAreaOpen;},"setWidgetAreasOpenState":function(){return setWidgetAreasOpenState;},"setWidgetIdForClientId":function(){return setWidgetIdForClientId;}});var resolvers_namespaceObject={};__webpack_require__.r(resolvers_namespaceObject);__webpack_require__.d(resolvers_namespaceObject,{"getWidgetAreas":function(){return getWidgetAreas;},"getWidgets":function(){return getWidgets;}});var store_selectors_namespaceObject={};__webpack_require__.r(store_selectors_namespaceObject);__webpack_require__.d(store_selectors_namespaceObject,{"__experimentalGetInsertionPoint":function(){return __experimentalGetInsertionPoint;},"canInsertBlockInWidgetArea":function(){return canInsertBlockInWidgetArea;},"getEditedWidgetAreas":function(){return getEditedWidgetAreas;},"getIsWidgetAreaOpen":function(){return getIsWidgetAreaOpen;},"getParentWidgetAreaBlock":function(){return getParentWidgetAreaBlock;},"getReferenceWidgetBlocks":function(){return getReferenceWidgetBlocks;},"getWidget":function(){return getWidget;},"getWidgetAreaForWidgetId":function(){return getWidgetAreaForWidgetId;},"getWidgetAreas":function(){return selectors_getWidgetAreas;},"getWidgets":function(){return selectors_getWidgets;},"isInserterOpened":function(){return isInserterOpened;},"isListViewOpened":function(){return isListViewOpened;},"isSavingWidgetAreas":function(){return isSavingWidgetAreas;}});var widget_area_namespaceObject={};__webpack_require__.r(widget_area_namespaceObject);__webpack_require__.d(widget_area_namespaceObject,{"metadata":function(){return metadata;},"name":function(){return widget_area_name;},"settings":function(){return settings;}});;var external_wp_element_namespaceObject=window["wp"]["element"];;var external_wp_blocks_namespaceObject=window["wp"]["blocks"];;var external_wp_data_namespaceObject=window["wp"]["data"];;var external_wp_blockLibrary_namespaceObject=window["wp"]["blockLibrary"];;var external_wp_coreData_namespaceObject=window["wp"]["coreData"];;var external_wp_widgets_namespaceObject=window["wp"]["widgets"];;var external_wp_preferences_namespaceObject=window["wp"]["preferences"];;var external_wp_apiFetch_namespaceObject=window["wp"]["apiFetch"];var external_wp_apiFetch_default=__webpack_require__.n(external_wp_apiFetch_namespaceObject);;function widgetAreasOpenState(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;const{type}=action;switch(type){case 'SET_WIDGET_AREAS_OPEN_STATE':{return action.widgetAreasOpenState;}
case 'SET_IS_WIDGET_AREA_OPEN':{const{clientId,isOpen}=action;return{...state,[clientId]:isOpen};}
default:{return state;}}}
function blockInserterPanel(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'SET_IS_LIST_VIEW_OPENED':return action.isOpen?false:state;case 'SET_IS_INSERTER_OPENED':return action.value;}
return state;}
function listViewPanel(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'SET_IS_INSERTER_OPENED':return action.value?false:state;case 'SET_IS_LIST_VIEW_OPENED':return action.isOpen;}
return state;}
var reducer=((0,external_wp_data_namespaceObject.combineReducers)({blockInserterPanel,listViewPanel,widgetAreasOpenState}));;var external_wp_i18n_namespaceObject=window["wp"]["i18n"];;var external_wp_notices_namespaceObject=window["wp"]["notices"];;function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}
return target;};return _extends.apply(this,arguments);}
var classnames=__webpack_require__(4403);var classnames_default=__webpack_require__.n(classnames);;var external_wp_components_namespaceObject=window["wp"]["components"];;var external_wp_primitives_namespaceObject=window["wp"]["primitives"];;const check=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));var library_check=(check);;const starFilled=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));var star_filled=(starFilled);;const starEmpty=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"}));var star_empty=(starEmpty);;var external_wp_viewport_namespaceObject=window["wp"]["viewport"];;const closeSmall=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));var close_small=(closeSmall);;var external_lodash_namespaceObject=window["lodash"];;var external_wp_deprecated_namespaceObject=window["wp"]["deprecated"];var external_wp_deprecated_default=__webpack_require__.n(external_wp_deprecated_namespaceObject);;const enableComplementaryArea=(scope,area)=>_ref=>{let{registry}=_ref;if(!area){return;}
registry.dispatch(external_wp_preferences_namespaceObject.store).set(scope,'complementaryArea',area);};const disableComplementaryArea=scope=>_ref2=>{let{registry}=_ref2;registry.dispatch(external_wp_preferences_namespaceObject.store).set(scope,'complementaryArea',null);};const pinItem=(scope,item)=>_ref3=>{let{registry}=_ref3;if(!item){return;}
const pinnedItems=registry.select(external_wp_preferences_namespaceObject.store).get(scope,'pinnedItems');if((pinnedItems===null||pinnedItems===void 0?void 0:pinnedItems[item])===true){return;}
registry.dispatch(external_wp_preferences_namespaceObject.store).set(scope,'pinnedItems',{...pinnedItems,[item]:true});};const unpinItem=(scope,item)=>_ref4=>{let{registry}=_ref4;if(!item){return;}
const pinnedItems=registry.select(external_wp_preferences_namespaceObject.store).get(scope,'pinnedItems');registry.dispatch(external_wp_preferences_namespaceObject.store).set(scope,'pinnedItems',{...pinnedItems,[item]:false});};function toggleFeature(scope,featureName){return function(_ref5){let{registry}=_ref5;external_wp_deprecated_default()(`dispatch( 'core/interface' ).toggleFeature`,{since:'6.0',alternative:`dispatch( 'core/preferences' ).toggle`});registry.dispatch(external_wp_preferences_namespaceObject.store).toggle(scope,featureName);};}
function setFeatureValue(scope,featureName,value){return function(_ref6){let{registry}=_ref6;external_wp_deprecated_default()(`dispatch( 'core/interface' ).setFeatureValue`,{since:'6.0',alternative:`dispatch( 'core/preferences' ).set`});registry.dispatch(external_wp_preferences_namespaceObject.store).set(scope,featureName,!!value);};}
function setFeatureDefaults(scope,defaults){return function(_ref7){let{registry}=_ref7;external_wp_deprecated_default()(`dispatch( 'core/interface' ).setFeatureDefaults`,{since:'6.0',alternative:`dispatch( 'core/preferences' ).setDefaults`});registry.dispatch(external_wp_preferences_namespaceObject.store).setDefaults(scope,defaults);};};const getActiveComplementaryArea=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,scope)=>{return select(external_wp_preferences_namespaceObject.store).get(scope,'complementaryArea');});const isItemPinned=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,scope,item)=>{var _pinnedItems$item;const pinnedItems=select(external_wp_preferences_namespaceObject.store).get(scope,'pinnedItems');return(_pinnedItems$item=pinnedItems===null||pinnedItems===void 0?void 0:pinnedItems[item])!==null&&_pinnedItems$item!==void 0?_pinnedItems$item:true;});const isFeatureActive=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,scope,featureName)=>{external_wp_deprecated_default()(`select( 'core/interface' ).isFeatureActive( scope, featureName )`,{since:'6.0',alternative:`select( 'core/preferences' ).get( scope, featureName )`});return!!select(external_wp_preferences_namespaceObject.store).get(scope,featureName);});;const STORE_NAME='core/interface';;const store=(0,external_wp_data_namespaceObject.createReduxStore)(STORE_NAME,{reducer:()=>{},actions:actions_namespaceObject,selectors:selectors_namespaceObject});(0,external_wp_data_namespaceObject.register)(store);;var external_wp_plugins_namespaceObject=window["wp"]["plugins"];;var complementary_area_context=((0,external_wp_plugins_namespaceObject.withPluginContext)((context,ownProps)=>{return{icon:ownProps.icon||context.icon,identifier:ownProps.identifier||`${context.name}/${ownProps.name}`};}));;function ComplementaryAreaToggle(_ref){let{as=external_wp_components_namespaceObject.Button,scope,identifier,icon,selectedIcon,...props}=_ref;const ComponentToUse=as;const isSelected=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getActiveComplementaryArea(scope)===identifier,[identifier]);const{enableComplementaryArea,disableComplementaryArea}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_element_namespaceObject.createElement)(ComponentToUse,_extends({icon:selectedIcon&&isSelected?selectedIcon:icon,onClick:()=>{if(isSelected){disableComplementaryArea(scope);}else{enableComplementaryArea(scope,identifier);}}},(0,external_lodash_namespaceObject.omit)(props,['name'])));}
var complementary_area_toggle=(complementary_area_context(ComplementaryAreaToggle));;const ComplementaryAreaHeader=_ref=>{let{smallScreenTitle,children,className,toggleButtonProps}=_ref;const toggleButton=(0,external_wp_element_namespaceObject.createElement)(complementary_area_toggle,_extends({icon:close_small},toggleButtonProps));return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},smallScreenTitle&&(0,external_wp_element_namespaceObject.createElement)("span",{className:"interface-complementary-area-header__small-title"},smallScreenTitle),toggleButton),(0,external_wp_element_namespaceObject.createElement)("div",{className:classnames_default()('components-panel__header','interface-complementary-area-header',className),tabIndex:-1},children,toggleButton));};var complementary_area_header=(ComplementaryAreaHeader);;function ActionItemSlot(_ref){let{name,as:Component=external_wp_components_namespaceObject.ButtonGroup,fillProps={},bubblesVirtually,...props}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Slot,{name:name,bubblesVirtually:bubblesVirtually,fillProps:fillProps},fills=>{if((0,external_lodash_namespaceObject.isEmpty)(external_wp_element_namespaceObject.Children.toArray(fills))){return null;}
const initializedByPlugins=[];external_wp_element_namespaceObject.Children.forEach(fills,_ref2=>{let{props:{__unstableExplicitMenuItem,__unstableTarget}}=_ref2;if(__unstableTarget&&__unstableExplicitMenuItem){initializedByPlugins.push(__unstableTarget);}});const children=external_wp_element_namespaceObject.Children.map(fills,child=>{if(!child.props.__unstableExplicitMenuItem&&initializedByPlugins.includes(child.props.__unstableTarget)){return null;}
return child;});return(0,external_wp_element_namespaceObject.createElement)(Component,props,children);});}
function ActionItem(_ref3){let{name,as:Component=external_wp_components_namespaceObject.Button,onClick,...props}=_ref3;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Fill,{name:name},_ref4=>{let{onClick:fpOnClick}=_ref4;return(0,external_wp_element_namespaceObject.createElement)(Component,_extends({onClick:onClick||fpOnClick?function(){(onClick||external_lodash_namespaceObject.noop)(...arguments);(fpOnClick||external_lodash_namespaceObject.noop)(...arguments);}:undefined},props));});}
ActionItem.Slot=ActionItemSlot;var action_item=(ActionItem);;const PluginsMenuItem=props=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,(0,external_lodash_namespaceObject.omit)(props,['__unstableExplicitMenuItem','__unstableTarget']));function ComplementaryAreaMoreMenuItem(_ref){let{scope,target,__unstableExplicitMenuItem,...props}=_ref;return(0,external_wp_element_namespaceObject.createElement)(complementary_area_toggle,_extends({as:toggleProps=>{return(0,external_wp_element_namespaceObject.createElement)(action_item,_extends({__unstableExplicitMenuItem:__unstableExplicitMenuItem,__unstableTarget:`${scope}/${target}`,as:PluginsMenuItem,name:`${scope}/plugin-more-menu`},toggleProps));},role:"menuitemcheckbox",selectedIcon:library_check,name:target,scope:scope},props));};function PinnedItems(_ref){let{scope,...props}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Fill,_extends({name:`PinnedItems/${scope}`},props));}
function PinnedItemsSlot(_ref2){let{scope,className,...props}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Slot,_extends({name:`PinnedItems/${scope}`},props),fills=>!(0,external_lodash_namespaceObject.isEmpty)(fills)&&(0,external_wp_element_namespaceObject.createElement)("div",{className:classnames_default()(className,'interface-pinned-items')},fills));}
PinnedItems.Slot=PinnedItemsSlot;var pinned_items=(PinnedItems);;function ComplementaryAreaSlot(_ref){let{scope,...props}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Slot,_extends({name:`ComplementaryArea/${scope}`},props));}
function ComplementaryAreaFill(_ref2){let{scope,children,className}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Fill,{name:`ComplementaryArea/${scope}`},(0,external_wp_element_namespaceObject.createElement)("div",{className:className},children));}
function useAdjustComplementaryListener(scope,identifier,activeArea,isActive,isSmall){const previousIsSmall=(0,external_wp_element_namespaceObject.useRef)(false);const shouldOpenWhenNotSmall=(0,external_wp_element_namespaceObject.useRef)(false);const{enableComplementaryArea,disableComplementaryArea}=(0,external_wp_data_namespaceObject.useDispatch)(store);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(isActive&&isSmall&&!previousIsSmall.current){disableComplementaryArea(scope);shouldOpenWhenNotSmall.current=true;}else if(shouldOpenWhenNotSmall.current&&!isSmall&&previousIsSmall.current){shouldOpenWhenNotSmall.current=false;enableComplementaryArea(scope,identifier);}else if(shouldOpenWhenNotSmall.current&&activeArea&&activeArea!==identifier){shouldOpenWhenNotSmall.current=false;}
if(isSmall!==previousIsSmall.current){previousIsSmall.current=isSmall;}},[isActive,isSmall,scope,identifier,activeArea]);}
function ComplementaryArea(_ref3){let{children,className,closeLabel=(0,external_wp_i18n_namespaceObject.__)('Close plugin'),identifier,header,headerClassName,icon,isPinnable=true,panelClassName,scope,name,smallScreenTitle,title,toggleShortcut,isActiveByDefault,showIconLabels=false}=_ref3;const{isActive,isPinned,activeArea,isSmall,isLarge}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getActiveComplementaryArea,isItemPinned}=select(store);const _activeArea=getActiveComplementaryArea(scope);return{isActive:_activeArea===identifier,isPinned:isItemPinned(scope,identifier),activeArea:_activeArea,isSmall:select(external_wp_viewport_namespaceObject.store).isViewportMatch('< medium'),isLarge:select(external_wp_viewport_namespaceObject.store).isViewportMatch('large')};},[identifier,scope]);useAdjustComplementaryListener(scope,identifier,activeArea,isActive,isSmall);const{enableComplementaryArea,disableComplementaryArea,pinItem,unpinItem}=(0,external_wp_data_namespaceObject.useDispatch)(store);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(isActiveByDefault&&activeArea===undefined&&!isSmall){enableComplementaryArea(scope,identifier);}},[activeArea,isActiveByDefault,scope,identifier,isSmall]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,isPinnable&&(0,external_wp_element_namespaceObject.createElement)(pinned_items,{scope:scope},isPinned&&(0,external_wp_element_namespaceObject.createElement)(complementary_area_toggle,{scope:scope,identifier:identifier,isPressed:isActive&&(!showIconLabels||isLarge),"aria-expanded":isActive,label:title,icon:showIconLabels?library_check:icon,showTooltip:!showIconLabels,variant:showIconLabels?'tertiary':undefined})),name&&isPinnable&&(0,external_wp_element_namespaceObject.createElement)(ComplementaryAreaMoreMenuItem,{target:name,scope:scope,icon:icon},title),isActive&&(0,external_wp_element_namespaceObject.createElement)(ComplementaryAreaFill,{className:classnames_default()('interface-complementary-area',className),scope:scope},(0,external_wp_element_namespaceObject.createElement)(complementary_area_header,{className:headerClassName,closeLabel:closeLabel,onClose:()=>disableComplementaryArea(scope),smallScreenTitle:smallScreenTitle,toggleButtonProps:{label:closeLabel,shortcut:toggleShortcut,scope,identifier}},header||(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("strong",null,title),isPinnable&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"interface-complementary-area__pin-unpin-item",icon:isPinned?star_filled:star_empty,label:isPinned?(0,external_wp_i18n_namespaceObject.__)('Unpin from toolbar'):(0,external_wp_i18n_namespaceObject.__)('Pin to toolbar'),onClick:()=>(isPinned?unpinItem:pinItem)(scope,identifier),isPressed:isPinned,"aria-expanded":isPinned}))),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Panel,{className:panelClassName},children)));}
const ComplementaryAreaWrapped=complementary_area_context(ComplementaryArea);ComplementaryAreaWrapped.Slot=ComplementaryAreaSlot;var complementary_area=(ComplementaryAreaWrapped);;var external_wp_compose_namespaceObject=window["wp"]["compose"];;function useHTMLClass(className){(0,external_wp_element_namespaceObject.useEffect)(()=>{const element=document&&document.querySelector(`html:not(.${className})`);if(!element){return;}
element.classList.toggle(className);return()=>{element.classList.toggle(className);};},[className]);}
function InterfaceSkeleton(_ref,ref){let{footer,header,sidebar,secondarySidebar,notices,content,drawer,actions,labels,className,shortcuts}=_ref;const navigateRegionsProps=(0,external_wp_components_namespaceObject.__unstableUseNavigateRegions)(shortcuts);useHTMLClass('interface-interface-skeleton__html-container');const defaultLabels={drawer:(0,external_wp_i18n_namespaceObject.__)('Drawer'),header:(0,external_wp_i18n_namespaceObject.__)('Header'),body:(0,external_wp_i18n_namespaceObject.__)('Content'),secondarySidebar:(0,external_wp_i18n_namespaceObject.__)('Block Library'),sidebar:(0,external_wp_i18n_namespaceObject.__)('Settings'),actions:(0,external_wp_i18n_namespaceObject.__)('Publish'),footer:(0,external_wp_i18n_namespaceObject.__)('Footer')};const mergedLabels={...defaultLabels,...labels};return(0,external_wp_element_namespaceObject.createElement)("div",_extends({},navigateRegionsProps,{ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([ref,navigateRegionsProps.ref]),className:classnames_default()(className,'interface-interface-skeleton',navigateRegionsProps.className,!!footer&&'has-footer')}),!!drawer&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":mergedLabels.drawer,tabIndex:"-1"},drawer),(0,external_wp_element_namespaceObject.createElement)("div",{className:"interface-interface-skeleton__editor"},!!header&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":mergedLabels.header,tabIndex:"-1"},header),(0,external_wp_element_namespaceObject.createElement)("div",{className:"interface-interface-skeleton__body"},!!secondarySidebar&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":mergedLabels.secondarySidebar,tabIndex:"-1"},secondarySidebar),!!notices&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"interface-interface-skeleton__notices"},notices),(0,external_wp_element_namespaceObject.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":mergedLabels.body,tabIndex:"-1"},content),!!sidebar&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":mergedLabels.sidebar,tabIndex:"-1"},sidebar),!!actions&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":mergedLabels.actions,tabIndex:"-1"},actions))),!!footer&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":mergedLabels.footer,tabIndex:"-1"},footer));}
var interface_skeleton=((0,external_wp_element_namespaceObject.forwardRef)(InterfaceSkeleton));;const moreVertical=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));var more_vertical=(moreVertical);;function MoreMenuDropdown(_ref){let{as:DropdownComponent=external_wp_components_namespaceObject.DropdownMenu,className,label=(0,external_wp_i18n_namespaceObject.__)('Options'),popoverProps,toggleProps,children}=_ref;return(0,external_wp_element_namespaceObject.createElement)(DropdownComponent,{className:classnames_default()('interface-more-menu-dropdown',className),icon:more_vertical,label:label,popoverProps:{position:'bottom left',...popoverProps,className:classnames_default()('interface-more-menu-dropdown__content',popoverProps===null||popoverProps===void 0?void 0:popoverProps.className)},toggleProps:{tooltipPosition:'bottom',...toggleProps}},onClose=>children(onClose));};;;var external_wp_blockEditor_namespaceObject=window["wp"]["blockEditor"];;function transformWidgetToBlock(widget){if(widget.id_base==='block'){const parsedBlocks=(0,external_wp_blocks_namespaceObject.parse)(widget.instance.raw.content);if(!parsedBlocks.length){return(0,external_wp_widgets_namespaceObject.addWidgetIdToBlock)((0,external_wp_blocks_namespaceObject.createBlock)('core/paragraph',{},[]),widget.id);}
return(0,external_wp_widgets_namespaceObject.addWidgetIdToBlock)(parsedBlocks[0],widget.id);}
let attributes;if(widget._embedded.about[0].is_multi){attributes={idBase:widget.id_base,instance:widget.instance};}else{attributes={id:widget.id};}
return(0,external_wp_widgets_namespaceObject.addWidgetIdToBlock)((0,external_wp_blocks_namespaceObject.createBlock)('core/legacy-widget',attributes,[]),widget.id);}
function transformBlockToWidget(block){let relatedWidget=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let widget;const isValidLegacyWidgetBlock=block.name==='core/legacy-widget'&&(block.attributes.id||block.attributes.instance);if(isValidLegacyWidgetBlock){var _block$attributes$id,_block$attributes$idB,_block$attributes$ins;widget={...relatedWidget,id:(_block$attributes$id=block.attributes.id)!==null&&_block$attributes$id!==void 0?_block$attributes$id:relatedWidget.id,id_base:(_block$attributes$idB=block.attributes.idBase)!==null&&_block$attributes$idB!==void 0?_block$attributes$idB:relatedWidget.id_base,instance:(_block$attributes$ins=block.attributes.instance)!==null&&_block$attributes$ins!==void 0?_block$attributes$ins:relatedWidget.instance};}else{widget={...relatedWidget,id_base:'block',instance:{raw:{content:(0,external_wp_blocks_namespaceObject.serialize)(block)}}};}
delete widget.rendered;delete widget.rendered_form;return widget;};const KIND='root';const WIDGET_AREA_ENTITY_TYPE='sidebar';const POST_TYPE='postType';const buildWidgetAreaPostId=widgetAreaId=>`widget-area-${widgetAreaId}`;const buildWidgetAreasPostId=()=>`widget-areas`;function buildWidgetAreasQuery(){return{per_page:-1};}
function buildWidgetsQuery(){return{per_page:-1,_embed:'about'};}
const createStubPost=(id,blocks)=>({id,slug:id,status:'draft',type:'page',blocks,meta:{widgetAreaId:id}});;const constants_STORE_NAME='core/edit-widgets';;const persistStubPost=(id,blocks)=>_ref=>{let{registry}=_ref;const stubPost=createStubPost(id,blocks);registry.dispatch(external_wp_coreData_namespaceObject.store).receiveEntityRecords(KIND,POST_TYPE,stubPost,{id:stubPost.id},false);return stubPost;};const saveEditedWidgetAreas=()=>async _ref2=>{let{select,dispatch,registry}=_ref2;const editedWidgetAreas=select.getEditedWidgetAreas();if(!(editedWidgetAreas!==null&&editedWidgetAreas!==void 0&&editedWidgetAreas.length)){return;}
try{await dispatch.saveWidgetAreas(editedWidgetAreas);registry.dispatch(external_wp_notices_namespaceObject.store).createSuccessNotice((0,external_wp_i18n_namespaceObject.__)('Widgets saved.'),{type:'snackbar'});}catch(e){registry.dispatch(external_wp_notices_namespaceObject.store).createErrorNotice((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('There was an error. %s'),e.message),{type:'snackbar'});}};const saveWidgetAreas=widgetAreas=>async _ref3=>{let{dispatch,registry}=_ref3;try{for(const widgetArea of widgetAreas){await dispatch.saveWidgetArea(widgetArea.id);}}finally{await registry.dispatch(external_wp_coreData_namespaceObject.store).finishResolution('getEntityRecord',KIND,WIDGET_AREA_ENTITY_TYPE,buildWidgetAreasQuery());}};const saveWidgetArea=widgetAreaId=>async _ref4=>{let{dispatch,select,registry}=_ref4;const widgets=select.getWidgets();const post=registry.select(external_wp_coreData_namespaceObject.store).getEditedEntityRecord(KIND,POST_TYPE,buildWidgetAreaPostId(widgetAreaId));const areaWidgets=Object.values(widgets).filter(_ref5=>{let{sidebar}=_ref5;return sidebar===widgetAreaId;});const usedReferenceWidgets=[];const widgetsBlocks=post.blocks.filter(block=>{const{id}=block.attributes;if(block.name==='core/legacy-widget'&&id){if(usedReferenceWidgets.includes(id)){return false;}
usedReferenceWidgets.push(id);}
return true;});const deletedWidgets=[];for(const widget of areaWidgets){const widgetsNewArea=select.getWidgetAreaForWidgetId(widget.id);if(!widgetsNewArea){deletedWidgets.push(widget);}}
const batchMeta=[];const batchTasks=[];const sidebarWidgetsIds=[];for(let i=0;i<widgetsBlocks.length;i++){const block=widgetsBlocks[i];const widgetId=(0,external_wp_widgets_namespaceObject.getWidgetIdFromBlock)(block);const oldWidget=widgets[widgetId];const widget=transformBlockToWidget(block,oldWidget);sidebarWidgetsIds.push(widgetId);if(oldWidget){registry.dispatch(external_wp_coreData_namespaceObject.store).editEntityRecord('root','widget',widgetId,{...widget,sidebar:widgetAreaId},{undoIgnore:true});const hasEdits=registry.select(external_wp_coreData_namespaceObject.store).hasEditsForEntityRecord('root','widget',widgetId);if(!hasEdits){continue;}
batchTasks.push(_ref6=>{let{saveEditedEntityRecord}=_ref6;return saveEditedEntityRecord('root','widget',widgetId);});}else{batchTasks.push(_ref7=>{let{saveEntityRecord}=_ref7;return saveEntityRecord('root','widget',{...widget,sidebar:widgetAreaId});});}
batchMeta.push({block,position:i,clientId:block.clientId});}
for(const widget of deletedWidgets){batchTasks.push(_ref8=>{let{deleteEntityRecord}=_ref8;return deleteEntityRecord('root','widget',widget.id,{force:true});});}
const records=await registry.dispatch(external_wp_coreData_namespaceObject.store).__experimentalBatch(batchTasks);const preservedRecords=records.filter(record=>!record.hasOwnProperty('deleted'));const failedWidgetNames=[];for(let i=0;i<preservedRecords.length;i++){const widget=preservedRecords[i];const{block,position}=batchMeta[i];post.blocks[position].attributes.__internalWidgetId=widget.id;const error=registry.select(external_wp_coreData_namespaceObject.store).getLastEntitySaveError('root','widget',widget.id);if(error){var _block$attributes;failedWidgetNames.push(((_block$attributes=block.attributes)===null||_block$attributes===void 0?void 0:_block$attributes.name)||(block===null||block===void 0?void 0:block.name));}
if(!sidebarWidgetsIds[position]){sidebarWidgetsIds[position]=widget.id;}}
if(failedWidgetNames.length){throw new Error((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Could not save the following widgets: %s.'),failedWidgetNames.join(', ')));}
registry.dispatch(external_wp_coreData_namespaceObject.store).editEntityRecord(KIND,WIDGET_AREA_ENTITY_TYPE,widgetAreaId,{widgets:sidebarWidgetsIds},{undoIgnore:true});dispatch(trySaveWidgetArea(widgetAreaId));registry.dispatch(external_wp_coreData_namespaceObject.store).receiveEntityRecords(KIND,POST_TYPE,post,undefined);};const trySaveWidgetArea=widgetAreaId=>_ref9=>{let{registry}=_ref9;registry.dispatch(external_wp_coreData_namespaceObject.store).saveEditedEntityRecord(KIND,WIDGET_AREA_ENTITY_TYPE,widgetAreaId,{throwOnError:true});};function setWidgetIdForClientId(clientId,widgetId){return{type:'SET_WIDGET_ID_FOR_CLIENT_ID',clientId,widgetId};}
function setWidgetAreasOpenState(widgetAreasOpenState){return{type:'SET_WIDGET_AREAS_OPEN_STATE',widgetAreasOpenState};}
function setIsWidgetAreaOpen(clientId,isOpen){return{type:'SET_IS_WIDGET_AREA_OPEN',clientId,isOpen};}
function setIsInserterOpened(value){return{type:'SET_IS_INSERTER_OPENED',value};}
function setIsListViewOpened(isOpen){return{type:'SET_IS_LIST_VIEW_OPENED',isOpen};}
const closeGeneralSidebar=()=>_ref10=>{let{registry}=_ref10;registry.dispatch(store).disableComplementaryArea(constants_STORE_NAME);};const moveBlockToWidgetArea=(clientId,widgetAreaId)=>async _ref11=>{let{dispatch,select,registry}=_ref11;const sourceRootClientId=registry.select(external_wp_blockEditor_namespaceObject.store).getBlockRootClientId([clientId]);const widgetAreas=registry.select(external_wp_blockEditor_namespaceObject.store).getBlocks();const destinationWidgetAreaBlock=widgetAreas.find(_ref12=>{let{attributes}=_ref12;return attributes.id===widgetAreaId;});const destinationRootClientId=destinationWidgetAreaBlock.clientId;const destinationInnerBlocksClientIds=registry.select(external_wp_blockEditor_namespaceObject.store).getBlockOrder(destinationRootClientId);const destinationIndex=destinationInnerBlocksClientIds.length;const isDestinationWidgetAreaOpen=select.getIsWidgetAreaOpen(destinationRootClientId);if(!isDestinationWidgetAreaOpen){dispatch.setIsWidgetAreaOpen(destinationRootClientId,true);}
registry.dispatch(external_wp_blockEditor_namespaceObject.store).moveBlocksToPosition([clientId],sourceRootClientId,destinationRootClientId,destinationIndex);};;const getWidgetAreas=()=>async _ref=>{let{dispatch,registry}=_ref;const query=buildWidgetAreasQuery();const widgetAreas=await registry.resolveSelect(external_wp_coreData_namespaceObject.store).getEntityRecords(KIND,WIDGET_AREA_ENTITY_TYPE,query);const widgetAreaBlocks=[];const sortedWidgetAreas=widgetAreas.sort((a,b)=>{if(a.id==='wp_inactive_widgets'){return 1;}
if(b.id==='wp_inactive_widgets'){return-1;}
return 0;});for(const widgetArea of sortedWidgetAreas){widgetAreaBlocks.push((0,external_wp_blocks_namespaceObject.createBlock)('core/widget-area',{id:widgetArea.id,name:widgetArea.name}));if(!widgetArea.widgets.length){dispatch(persistStubPost(buildWidgetAreaPostId(widgetArea.id),[]));}}
const widgetAreasOpenState={};widgetAreaBlocks.forEach((widgetAreaBlock,index)=>{widgetAreasOpenState[widgetAreaBlock.clientId]=index===0;});dispatch(setWidgetAreasOpenState(widgetAreasOpenState));dispatch(persistStubPost(buildWidgetAreasPostId(),widgetAreaBlocks));};const getWidgets=()=>async _ref2=>{let{dispatch,registry}=_ref2;const query=buildWidgetsQuery();const widgets=await registry.resolveSelect(external_wp_coreData_namespaceObject.store).getEntityRecords('root','widget',query);const groupedBySidebar={};for(const widget of widgets){const block=transformWidgetToBlock(widget);groupedBySidebar[widget.sidebar]=groupedBySidebar[widget.sidebar]||[];groupedBySidebar[widget.sidebar].push(block);}
for(const sidebarId in groupedBySidebar){if(groupedBySidebar.hasOwnProperty(sidebarId)){dispatch(persistStubPost(buildWidgetAreaPostId(sidebarId),groupedBySidebar[sidebarId]));}}};;const selectors_getWidgets=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>()=>{const widgets=select(external_wp_coreData_namespaceObject.store).getEntityRecords('root','widget',buildWidgetsQuery());return(0,external_lodash_namespaceObject.keyBy)(widgets,'id');});const getWidget=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,id)=>{const widgets=select(constants_STORE_NAME).getWidgets();return widgets[id];});const selectors_getWidgetAreas=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>()=>{const query=buildWidgetAreasQuery();return select(external_wp_coreData_namespaceObject.store).getEntityRecords(KIND,WIDGET_AREA_ENTITY_TYPE,query);});const getWidgetAreaForWidgetId=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,widgetId)=>{const widgetAreas=select(constants_STORE_NAME).getWidgetAreas();return widgetAreas.find(widgetArea=>{const post=select(external_wp_coreData_namespaceObject.store).getEditedEntityRecord(KIND,POST_TYPE,buildWidgetAreaPostId(widgetArea.id));const blockWidgetIds=post.blocks.map(block=>(0,external_wp_widgets_namespaceObject.getWidgetIdFromBlock)(block));return blockWidgetIds.includes(widgetId);});});const getParentWidgetAreaBlock=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,clientId)=>{const{getBlock,getBlockName,getBlockParents}=select(external_wp_blockEditor_namespaceObject.store);const blockParents=getBlockParents(clientId);const widgetAreaClientId=blockParents.find(parentClientId=>getBlockName(parentClientId)==='core/widget-area');return getBlock(widgetAreaClientId);});const getEditedWidgetAreas=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,ids)=>{let widgetAreas=select(constants_STORE_NAME).getWidgetAreas();if(!widgetAreas){return[];}
if(ids){widgetAreas=widgetAreas.filter(_ref=>{let{id}=_ref;return ids.includes(id);});}
return widgetAreas.filter(_ref2=>{let{id}=_ref2;return select(external_wp_coreData_namespaceObject.store).hasEditsForEntityRecord(KIND,POST_TYPE,buildWidgetAreaPostId(id));}).map(_ref3=>{let{id}=_ref3;return select(external_wp_coreData_namespaceObject.store).getEditedEntityRecord(KIND,WIDGET_AREA_ENTITY_TYPE,id);});});const getReferenceWidgetBlocks=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>function(state){let referenceWidgetName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const results=[];const widgetAreas=select(constants_STORE_NAME).getWidgetAreas();for(const _widgetArea of widgetAreas){const post=select(external_wp_coreData_namespaceObject.store).getEditedEntityRecord(KIND,POST_TYPE,buildWidgetAreaPostId(_widgetArea.id));for(const block of post.blocks){var _block$attributes;if(block.name==='core/legacy-widget'&&(!referenceWidgetName||((_block$attributes=block.attributes)===null||_block$attributes===void 0?void 0:_block$attributes.referenceWidgetName)===referenceWidgetName)){results.push(block);}}}
return results;});const isSavingWidgetAreas=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>()=>{var _select$getWidgetArea;const widgetAreasIds=(_select$getWidgetArea=select(constants_STORE_NAME).getWidgetAreas())===null||_select$getWidgetArea===void 0?void 0:_select$getWidgetArea.map(_ref4=>{let{id}=_ref4;return id;});if(!widgetAreasIds){return false;}
for(const id of widgetAreasIds){const isSaving=select(external_wp_coreData_namespaceObject.store).isSavingEntityRecord(KIND,WIDGET_AREA_ENTITY_TYPE,id);if(isSaving){return true;}}
const widgetIds=[...Object.keys(select(constants_STORE_NAME).getWidgets()),undefined];for(const id of widgetIds){const isSaving=select(external_wp_coreData_namespaceObject.store).isSavingEntityRecord('root','widget',id);if(isSaving){return true;}}
return false;});const getIsWidgetAreaOpen=(state,clientId)=>{const{widgetAreasOpenState}=state;return!!widgetAreasOpenState[clientId];};function isInserterOpened(state){return!!state.blockInserterPanel;}
function __experimentalGetInsertionPoint(state){const{rootClientId,insertionIndex}=state.blockInserterPanel;return{rootClientId,insertionIndex};}
const canInsertBlockInWidgetArea=(0,external_wp_data_namespaceObject.createRegistrySelector)(select=>(state,blockName)=>{const widgetAreas=select(external_wp_blockEditor_namespaceObject.store).getBlocks();const[firstWidgetArea]=widgetAreas;return select(external_wp_blockEditor_namespaceObject.store).canInsertBlockType(blockName,firstWidgetArea.clientId);});function isListViewOpened(state){return state.listViewPanel;};const storeConfig={reducer:reducer,selectors:store_selectors_namespaceObject,resolvers:resolvers_namespaceObject,actions:store_actions_namespaceObject};const store_store=(0,external_wp_data_namespaceObject.createReduxStore)(constants_STORE_NAME,storeConfig);(0,external_wp_data_namespaceObject.register)(store_store);external_wp_apiFetch_default().use(function(options,next){var _options$path;if(((_options$path=options.path)===null||_options$path===void 0?void 0:_options$path.indexOf('/wp/v2/types/widget-area'))===0){return Promise.resolve({});}
return next(options);});;var external_wp_hooks_namespaceObject=window["wp"]["hooks"];;const withMoveToWidgetAreaToolbarItem=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockEdit=>props=>{const{clientId,name:blockName}=props;const{widgetAreas,currentWidgetAreaId,canInsertBlockInWidgetArea}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _widgetAreaBlock$attr;if(blockName==='core/widget-area'){return{};}
const selectors=select(store_store);const widgetAreaBlock=selectors.getParentWidgetAreaBlock(clientId);return{widgetAreas:selectors.getWidgetAreas(),currentWidgetAreaId:widgetAreaBlock===null||widgetAreaBlock===void 0?void 0:(_widgetAreaBlock$attr=widgetAreaBlock.attributes)===null||_widgetAreaBlock$attr===void 0?void 0:_widgetAreaBlock$attr.id,canInsertBlockInWidgetArea:selectors.canInsertBlockInWidgetArea(blockName)};},[clientId,blockName]);const{moveBlockToWidgetArea}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const hasMultipleWidgetAreas=(widgetAreas===null||widgetAreas===void 0?void 0:widgetAreas.length)>1;const isMoveToWidgetAreaVisible=blockName!=='core/widget-area'&&hasMultipleWidgetAreas&&canInsertBlockInWidgetArea;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(BlockEdit,props),isMoveToWidgetAreaVisible&&(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockControls,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_widgets_namespaceObject.MoveToWidgetArea,{widgetAreas:widgetAreas,currentWidgetAreaId:currentWidgetAreaId,onSelect:widgetAreaId=>{moveBlockToWidgetArea(props.clientId,widgetAreaId);}})));},'withMoveToWidgetAreaToolbarItem');(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockEdit','core/edit-widgets/block-edit',withMoveToWidgetAreaToolbarItem);;var external_wp_mediaUtils_namespaceObject=window["wp"]["mediaUtils"];;const replaceMediaUpload=()=>external_wp_mediaUtils_namespaceObject.MediaUpload;(0,external_wp_hooks_namespaceObject.addFilter)('editor.MediaUpload','core/edit-widgets/replace-media-upload',replaceMediaUpload);;;const useIsDraggingWithin=elementRef=>{const[isDraggingWithin,setIsDraggingWithin]=(0,external_wp_element_namespaceObject.useState)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{const{ownerDocument}=elementRef.current;function handleDragStart(event){handleDragEnter(event);}
function handleDragEnd(){setIsDraggingWithin(false);}
function handleDragEnter(event){if(elementRef.current.contains(event.target)){setIsDraggingWithin(true);}else{setIsDraggingWithin(false);}}
ownerDocument.addEventListener('dragstart',handleDragStart);ownerDocument.addEventListener('dragend',handleDragEnd);ownerDocument.addEventListener('dragenter',handleDragEnter);return()=>{ownerDocument.removeEventListener('dragstart',handleDragStart);ownerDocument.removeEventListener('dragend',handleDragEnd);ownerDocument.removeEventListener('dragenter',handleDragEnter);};},[]);return isDraggingWithin;};var use_is_dragging_within=(useIsDraggingWithin);;function WidgetAreaInnerBlocks(_ref){let{id}=_ref;const[blocks,onInput,onChange]=(0,external_wp_coreData_namespaceObject.useEntityBlockEditor)('root','postType');const innerBlocksRef=(0,external_wp_element_namespaceObject.useRef)();const isDraggingWithinInnerBlocks=use_is_dragging_within(innerBlocksRef);const shouldHighlightDropZone=isDraggingWithinInnerBlocks;const innerBlocksProps=(0,external_wp_blockEditor_namespaceObject.useInnerBlocksProps)({ref:innerBlocksRef},{value:blocks,onInput,onChange,templateLock:false,renderAppender:external_wp_blockEditor_namespaceObject.InnerBlocks.ButtonBlockAppender});return(0,external_wp_element_namespaceObject.createElement)("div",{"data-widget-area-id":id,className:classnames_default()('wp-block-widget-area__inner-blocks block-editor-inner-blocks editor-styles-wrapper',{'wp-block-widget-area__highlight-drop-zone':shouldHighlightDropZone})},(0,external_wp_element_namespaceObject.createElement)("div",innerBlocksProps));};function WidgetAreaEdit(_ref){let{clientId,className,attributes:{id,name}}=_ref;const isOpen=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store_store).getIsWidgetAreaOpen(clientId),[clientId]);const{setIsWidgetAreaOpen}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const wrapper=(0,external_wp_element_namespaceObject.useRef)();const setOpen=(0,external_wp_element_namespaceObject.useCallback)(openState=>setIsWidgetAreaOpen(clientId,openState),[clientId]);const isDragging=useIsDragging(wrapper);const isDraggingWithin=use_is_dragging_within(wrapper);const[openedWhileDragging,setOpenedWhileDragging]=(0,external_wp_element_namespaceObject.useState)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!isDragging){setOpenedWhileDragging(false);return;}
if(isDraggingWithin&&!isOpen){setOpen(true);setOpenedWhileDragging(true);}else if(!isDraggingWithin&&isOpen&&openedWhileDragging){setOpen(false);}},[isOpen,isDragging,isDraggingWithin,openedWhileDragging]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Panel,{className:className,ref:wrapper},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{title:name,opened:isOpen,onToggle:()=>{setIsWidgetAreaOpen(clientId,!isOpen);},scrollAfterOpen:!isDragging},_ref2=>{let{opened}=_ref2;return((0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableDisclosureContent,{className:"wp-block-widget-area__panel-body-content",visible:opened},(0,external_wp_element_namespaceObject.createElement)(external_wp_coreData_namespaceObject.EntityProvider,{kind:"root",type:"postType",id:`widget-area-${id}`},(0,external_wp_element_namespaceObject.createElement)(WidgetAreaInnerBlocks,{id:id}))));}));}
const useIsDragging=elementRef=>{const[isDragging,setIsDragging]=(0,external_wp_element_namespaceObject.useState)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{const{ownerDocument}=elementRef.current;function handleDragStart(){setIsDragging(true);}
function handleDragEnd(){setIsDragging(false);}
ownerDocument.addEventListener('dragstart',handleDragStart);ownerDocument.addEventListener('dragend',handleDragEnd);return()=>{ownerDocument.removeEventListener('dragstart',handleDragStart);ownerDocument.removeEventListener('dragend',handleDragEnd);};},[]);return isDragging;};;const metadata={name:"core/widget-area",category:"widgets",attributes:{id:{type:"string"},name:{type:"string"}},supports:{html:false,inserter:false,customClassName:false,reusable:false,__experimentalToolbar:false,__experimentalParentSelector:false},editorStyle:"wp-block-widget-area-editor",style:"wp-block-widget-area"};const{name:widget_area_name}=metadata;const settings={title:(0,external_wp_i18n_namespaceObject.__)('Widget Area'),description:(0,external_wp_i18n_namespaceObject.__)('A widget area container.'),__experimentalLabel:_ref=>{let{name:label}=_ref;return label;},edit:WidgetAreaEdit};;function CopyButton(_ref){let{text,children}=_ref;const ref=(0,external_wp_compose_namespaceObject.useCopyToClipboard)(text);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"secondary",ref:ref},children);}
class ErrorBoundary extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.reboot=this.reboot.bind(this);this.state={error:null};}
componentDidCatch(error){this.setState({error});}
reboot(){this.props.onError();}
render(){const{error}=this.state;if(!error){return this.props.children;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.Warning,{className:"edit-widgets-error-boundary",actions:[(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:"recovery",onClick:this.reboot,variant:"secondary"},(0,external_wp_i18n_namespaceObject.__)('Attempt Recovery')),(0,external_wp_element_namespaceObject.createElement)(CopyButton,{key:"copy-error",text:error.stack},(0,external_wp_i18n_namespaceObject.__)('Copy Error'))]},(0,external_wp_i18n_namespaceObject.__)('The editor has encountered an unexpected error.'));}};var external_wp_reusableBlocks_namespaceObject=window["wp"]["reusableBlocks"];;var external_wp_keyboardShortcuts_namespaceObject=window["wp"]["keyboardShortcuts"];;function KeyboardShortcuts(){const{redo,undo}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_coreData_namespaceObject.store);const{saveEditedWidgetAreas}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/edit-widgets/undo',event=>{undo();event.preventDefault();});(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/edit-widgets/redo',event=>{redo();event.preventDefault();});(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/edit-widgets/save',event=>{event.preventDefault();saveEditedWidgetAreas();});return null;}
function KeyboardShortcutsRegister(){const{registerShortcut}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_keyboardShortcuts_namespaceObject.store);(0,external_wp_element_namespaceObject.useEffect)(()=>{registerShortcut({name:'core/edit-widgets/undo',category:'global',description:(0,external_wp_i18n_namespaceObject.__)('Undo your last changes.'),keyCombination:{modifier:'primary',character:'z'}});registerShortcut({name:'core/edit-widgets/redo',category:'global',description:(0,external_wp_i18n_namespaceObject.__)('Redo your last undo.'),keyCombination:{modifier:'primaryShift',character:'z'}});registerShortcut({name:'core/edit-widgets/save',category:'global',description:(0,external_wp_i18n_namespaceObject.__)('Save your changes.'),keyCombination:{modifier:'primary',character:'s'}});registerShortcut({name:'core/edit-widgets/keyboard-shortcuts',category:'main',description:(0,external_wp_i18n_namespaceObject.__)('Display these keyboard shortcuts.'),keyCombination:{modifier:'access',character:'h'}});registerShortcut({name:'core/edit-widgets/next-region',category:'global',description:(0,external_wp_i18n_namespaceObject.__)('Navigate to the next part of the editor.'),keyCombination:{modifier:'ctrl',character:'`'},aliases:[{modifier:'access',character:'n'}]});registerShortcut({name:'core/edit-widgets/previous-region',category:'global',description:(0,external_wp_i18n_namespaceObject.__)('Navigate to the previous part of the editor.'),keyCombination:{modifier:'ctrlShift',character:'`'},aliases:[{modifier:'access',character:'p'}]});},[registerShortcut]);return null;}
KeyboardShortcuts.Register=KeyboardShortcutsRegister;var keyboard_shortcuts=(KeyboardShortcuts);;const useLastSelectedWidgetArea=()=>(0,external_wp_data_namespaceObject.useSelect)(select=>{var _widgetAreasPost$bloc;const{getBlockSelectionEnd,getBlockName}=select(external_wp_blockEditor_namespaceObject.store);const selectionEndClientId=getBlockSelectionEnd();if(getBlockName(selectionEndClientId)==='core/widget-area'){return selectionEndClientId;}
const{getParentWidgetAreaBlock}=select(store_store);const widgetAreaBlock=getParentWidgetAreaBlock(selectionEndClientId);const widgetAreaBlockClientId=widgetAreaBlock===null||widgetAreaBlock===void 0?void 0:widgetAreaBlock.clientId;if(widgetAreaBlockClientId){return widgetAreaBlockClientId;}
const{getEntityRecord}=select(external_wp_coreData_namespaceObject.store);const widgetAreasPost=getEntityRecord(KIND,POST_TYPE,buildWidgetAreasPostId());return widgetAreasPost===null||widgetAreasPost===void 0?void 0:(_widgetAreasPost$bloc=widgetAreasPost.blocks[0])===null||_widgetAreasPost$bloc===void 0?void 0:_widgetAreasPost$bloc.clientId;},[]);var use_last_selected_widget_area=(useLastSelectedWidgetArea);;const ALLOW_REUSABLE_BLOCKS=false;const ENABLE_EXPERIMENTAL_FSE_BLOCKS=false;;function WidgetAreasBlockEditorProvider(_ref){let{blockEditorSettings,children,...props}=_ref;const{hasUploadPermissions,reusableBlocks,isFixedToolbarActive,keepCaretInsideBlock}=(0,external_wp_data_namespaceObject.useSelect)(select=>({hasUploadPermissions:(0,external_lodash_namespaceObject.defaultTo)(select(external_wp_coreData_namespaceObject.store).canUser('create','media'),true),widgetAreas:select(store_store).getWidgetAreas(),widgets:select(store_store).getWidgets(),reusableBlocks:ALLOW_REUSABLE_BLOCKS?select(external_wp_coreData_namespaceObject.store).getEntityRecords('postType','wp_block'):[],isFixedToolbarActive:!!select(external_wp_preferences_namespaceObject.store).get('core/edit-widgets','fixedToolbar'),keepCaretInsideBlock:!!select(external_wp_preferences_namespaceObject.store).get('core/edit-widgets','keepCaretInsideBlock')}),[]);const{setIsInserterOpened}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const settings=(0,external_wp_element_namespaceObject.useMemo)(()=>{let mediaUploadBlockEditor;if(hasUploadPermissions){mediaUploadBlockEditor=_ref2=>{let{onError,...argumentsObject}=_ref2;(0,external_wp_mediaUtils_namespaceObject.uploadMedia)({wpAllowedMimeTypes:blockEditorSettings.allowedMimeTypes,onError:_ref3=>{let{message}=_ref3;return onError(message);},...argumentsObject});};}
return{...blockEditorSettings,__experimentalReusableBlocks:reusableBlocks,hasFixedToolbar:isFixedToolbarActive,keepCaretInsideBlock,mediaUpload:mediaUploadBlockEditor,templateLock:'all',__experimentalSetIsInserterOpened:setIsInserterOpened};},[blockEditorSettings,isFixedToolbarActive,keepCaretInsideBlock,hasUploadPermissions,reusableBlocks,setIsInserterOpened]);const widgetAreaId=use_last_selected_widget_area();const[blocks,onInput,onChange]=(0,external_wp_coreData_namespaceObject.useEntityBlockEditor)(KIND,POST_TYPE,{id:buildWidgetAreasPostId()});return(0,external_wp_element_namespaceObject.createElement)(external_wp_keyboardShortcuts_namespaceObject.ShortcutProvider,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockEditorKeyboardShortcuts.Register,null),(0,external_wp_element_namespaceObject.createElement)(keyboard_shortcuts.Register,null),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SlotFillProvider,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockEditorProvider,_extends({value:blocks,onInput:onInput,onChange:onChange,settings:settings,useSubRegistry:false},props),(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.CopyHandler,null,children),(0,external_wp_element_namespaceObject.createElement)(external_wp_reusableBlocks_namespaceObject.ReusableBlocksMenuItems,{rootClientId:widgetAreaId}))));};const cog=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));var library_cog=(cog);;const blockDefault=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"}));var block_default=(blockDefault);;var external_wp_url_namespaceObject=window["wp"]["url"];;var external_wp_dom_namespaceObject=window["wp"]["dom"];;function WidgetAreas(_ref){let{selectedWidgetAreaId}=_ref;const widgetAreas=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store_store).getWidgetAreas(),[]);const selectedWidgetArea=(0,external_wp_element_namespaceObject.useMemo)(()=>selectedWidgetAreaId&&(widgetAreas===null||widgetAreas===void 0?void 0:widgetAreas.find(widgetArea=>widgetArea.id===selectedWidgetAreaId)),[selectedWidgetAreaId,widgetAreas]);let description;if(!selectedWidgetArea){description=(0,external_wp_i18n_namespaceObject.__)('Widget Areas are global parts in your site’s layout that can accept blocks. These vary by theme, but are typically parts like your Sidebar or Footer.');}else if(selectedWidgetAreaId==='wp_inactive_widgets'){description=(0,external_wp_i18n_namespaceObject.__)('Blocks in this Widget Area will not be displayed in your site.');}else{description=selectedWidgetArea.description;}
return(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-widget-areas"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-widget-areas__top-container"},(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockIcon,{icon:block_default}),(0,external_wp_element_namespaceObject.createElement)("div",null,(0,external_wp_element_namespaceObject.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,external_wp_dom_namespaceObject.safeHTML)(description)}}),(widgetAreas===null||widgetAreas===void 0?void 0:widgetAreas.length)===0&&(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_i18n_namespaceObject.__)('Your theme does not contain any Widget Areas.')),!selectedWidgetArea&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{href:(0,external_wp_url_namespaceObject.addQueryArgs)('customize.php',{'autofocus[panel]':'widgets',return:window.location.pathname}),variant:"tertiary"},(0,external_wp_i18n_namespaceObject.__)('Manage with live preview')))));};const SIDEBAR_ACTIVE_BY_DEFAULT=external_wp_element_namespaceObject.Platform.select({web:true,native:false});const BLOCK_INSPECTOR_IDENTIFIER='edit-widgets/block-inspector';const WIDGET_AREAS_IDENTIFIER='edit-widgets/block-areas';function ComplementaryAreaTab(_ref){let{identifier,label,isActive}=_ref;const{enableComplementaryArea}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{onClick:()=>enableComplementaryArea(store_store.name,identifier),className:classnames_default()('edit-widgets-sidebar__panel-tab',{'is-active':isActive}),"aria-label":isActive?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s (selected)'),label):label,"data-label":label},label);}
function Sidebar(){const{enableComplementaryArea}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{currentArea,hasSelectedNonAreaBlock,isGeneralSidebarOpen,selectedWidgetAreaBlock}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlock,getBlock,getBlockParentsByBlockName}=select(external_wp_blockEditor_namespaceObject.store);const{getActiveComplementaryArea}=select(store);const selectedBlock=getSelectedBlock();const activeArea=getActiveComplementaryArea(store_store.name);let currentSelection=activeArea;if(!currentSelection){if(selectedBlock){currentSelection=BLOCK_INSPECTOR_IDENTIFIER;}else{currentSelection=WIDGET_AREAS_IDENTIFIER;}}
let widgetAreaBlock;if(selectedBlock){if(selectedBlock.name==='core/widget-area'){widgetAreaBlock=selectedBlock;}else{widgetAreaBlock=getBlock(getBlockParentsByBlockName(selectedBlock.clientId,'core/widget-area')[0]);}}
return{currentArea:currentSelection,hasSelectedNonAreaBlock:!!(selectedBlock&&selectedBlock.name!=='core/widget-area'),isGeneralSidebarOpen:!!activeArea,selectedWidgetAreaBlock:widgetAreaBlock};},[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(hasSelectedNonAreaBlock&&currentArea===WIDGET_AREAS_IDENTIFIER&&isGeneralSidebarOpen){enableComplementaryArea('core/edit-widgets',BLOCK_INSPECTOR_IDENTIFIER);}
if(!hasSelectedNonAreaBlock&&currentArea===BLOCK_INSPECTOR_IDENTIFIER&&isGeneralSidebarOpen){enableComplementaryArea('core/edit-widgets',WIDGET_AREAS_IDENTIFIER);}},[hasSelectedNonAreaBlock,enableComplementaryArea]);return(0,external_wp_element_namespaceObject.createElement)(complementary_area,{className:"edit-widgets-sidebar",header:(0,external_wp_element_namespaceObject.createElement)("ul",null,(0,external_wp_element_namespaceObject.createElement)("li",null,(0,external_wp_element_namespaceObject.createElement)(ComplementaryAreaTab,{identifier:WIDGET_AREAS_IDENTIFIER,label:selectedWidgetAreaBlock?selectedWidgetAreaBlock.attributes.name:(0,external_wp_i18n_namespaceObject.__)('Widget Areas'),isActive:currentArea===WIDGET_AREAS_IDENTIFIER})),(0,external_wp_element_namespaceObject.createElement)("li",null,(0,external_wp_element_namespaceObject.createElement)(ComplementaryAreaTab,{identifier:BLOCK_INSPECTOR_IDENTIFIER,label:(0,external_wp_i18n_namespaceObject.__)('Block'),isActive:currentArea===BLOCK_INSPECTOR_IDENTIFIER}))),headerClassName:"edit-widgets-sidebar__panel-tabs",title:(0,external_wp_i18n_namespaceObject.__)('Settings'),closeLabel:(0,external_wp_i18n_namespaceObject.__)('Close settings'),scope:"core/edit-widgets",identifier:currentArea,icon:library_cog,isActiveByDefault:SIDEBAR_ACTIVE_BY_DEFAULT},currentArea===WIDGET_AREAS_IDENTIFIER&&(0,external_wp_element_namespaceObject.createElement)(WidgetAreas,{selectedWidgetAreaId:selectedWidgetAreaBlock===null||selectedWidgetAreaBlock===void 0?void 0:selectedWidgetAreaBlock.attributes.id}),currentArea===BLOCK_INSPECTOR_IDENTIFIER&&(hasSelectedNonAreaBlock?(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockInspector,null):(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,external_wp_i18n_namespaceObject.__)('No block selected.'))));};const plus=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));var library_plus=(plus);;const listView=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"}));var list_view=(listView);;function SaveButton(){const{hasEditedWidgetAreaIds,isSaving}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getEditedWidgetAreas;const{getEditedWidgetAreas,isSavingWidgetAreas}=select(store_store);return{hasEditedWidgetAreaIds:((_getEditedWidgetAreas=getEditedWidgetAreas())===null||_getEditedWidgetAreas===void 0?void 0:_getEditedWidgetAreas.length)>0,isSaving:isSavingWidgetAreas()};},[]);const{saveEditedWidgetAreas}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"primary",isBusy:isSaving,"aria-disabled":isSaving,onClick:isSaving?undefined:saveEditedWidgetAreas,disabled:!hasEditedWidgetAreaIds},isSaving?(0,external_wp_i18n_namespaceObject.__)('Saving…'):(0,external_wp_i18n_namespaceObject.__)('Update'));}
var save_button=(SaveButton);;const undo=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));var library_undo=(undo);;const redo=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"}));var library_redo=(redo);;var external_wp_keycodes_namespaceObject=window["wp"]["keycodes"];;function UndoButton(){const hasUndo=(0,external_wp_data_namespaceObject.useSelect)(select=>select(external_wp_coreData_namespaceObject.store).hasUndo(),[]);const{undo}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_coreData_namespaceObject.store);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{icon:!(0,external_wp_i18n_namespaceObject.isRTL)()?library_undo:library_redo,label:(0,external_wp_i18n_namespaceObject.__)('Undo'),shortcut:external_wp_keycodes_namespaceObject.displayShortcut.primary('z'),"aria-disabled":!hasUndo,onClick:hasUndo?undo:undefined});};function RedoButton(){const hasRedo=(0,external_wp_data_namespaceObject.useSelect)(select=>select(external_wp_coreData_namespaceObject.store).hasRedo(),[]);const{redo}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_coreData_namespaceObject.store);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{icon:!(0,external_wp_i18n_namespaceObject.isRTL)()?library_redo:library_undo,label:(0,external_wp_i18n_namespaceObject.__)('Redo'),shortcut:external_wp_keycodes_namespaceObject.displayShortcut.primaryShift('z'),"aria-disabled":!hasRedo,onClick:hasRedo?redo:undefined});};const external=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"}));var library_external=(external);;const textFormattingShortcuts=[{keyCombination:{modifier:'primary',character:'b'},description:(0,external_wp_i18n_namespaceObject.__)('Make the selected text bold.')},{keyCombination:{modifier:'primary',character:'i'},description:(0,external_wp_i18n_namespaceObject.__)('Make the selected text italic.')},{keyCombination:{modifier:'primary',character:'k'},description:(0,external_wp_i18n_namespaceObject.__)('Convert the selected text into a link.')},{keyCombination:{modifier:'primaryShift',character:'k'},description:(0,external_wp_i18n_namespaceObject.__)('Remove a link.')},{keyCombination:{modifier:'primary',character:'u'},description:(0,external_wp_i18n_namespaceObject.__)('Underline the selected text.')}];;function KeyCombination(_ref){let{keyCombination,forceAriaLabel}=_ref;const shortcut=keyCombination.modifier?external_wp_keycodes_namespaceObject.displayShortcutList[keyCombination.modifier](keyCombination.character):keyCombination.character;const ariaLabel=keyCombination.modifier?external_wp_keycodes_namespaceObject.shortcutAriaLabel[keyCombination.modifier](keyCombination.character):keyCombination.character;return(0,external_wp_element_namespaceObject.createElement)("kbd",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":forceAriaLabel||ariaLabel},(0,external_lodash_namespaceObject.castArray)(shortcut).map((character,index)=>{if(character==='+'){return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,{key:index},character);}
return(0,external_wp_element_namespaceObject.createElement)("kbd",{key:index,className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key"},character);}));}
function Shortcut(_ref2){let{description,keyCombination,aliases=[],ariaLabel}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-description"},description),(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-term"},(0,external_wp_element_namespaceObject.createElement)(KeyCombination,{keyCombination:keyCombination,forceAriaLabel:ariaLabel}),aliases.map((alias,index)=>(0,external_wp_element_namespaceObject.createElement)(KeyCombination,{keyCombination:alias,forceAriaLabel:ariaLabel,key:index}))));}
var keyboard_shortcut_help_modal_shortcut=(Shortcut);;function DynamicShortcut(_ref){let{name}=_ref;const{keyCombination,description,aliases}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getShortcutKeyCombination,getShortcutDescription,getShortcutAliases}=select(external_wp_keyboardShortcuts_namespaceObject.store);return{keyCombination:getShortcutKeyCombination(name),aliases:getShortcutAliases(name),description:getShortcutDescription(name)};},[name]);if(!keyCombination){return null;}
return(0,external_wp_element_namespaceObject.createElement)(keyboard_shortcut_help_modal_shortcut,{keyCombination:keyCombination,description:description,aliases:aliases});}
var dynamic_shortcut=(DynamicShortcut);;const ShortcutList=_ref=>{let{shortcuts}=_ref;return((0,external_wp_element_namespaceObject.createElement)("ul",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-list",role:"list"},shortcuts.map((shortcut,index)=>(0,external_wp_element_namespaceObject.createElement)("li",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut",key:index},(0,external_lodash_namespaceObject.isString)(shortcut)?(0,external_wp_element_namespaceObject.createElement)(dynamic_shortcut,{name:shortcut}):(0,external_wp_element_namespaceObject.createElement)(keyboard_shortcut_help_modal_shortcut,shortcut)))));};const ShortcutSection=_ref2=>{let{title,shortcuts,className}=_ref2;return(0,external_wp_element_namespaceObject.createElement)("section",{className:classnames_default()('edit-widgets-keyboard-shortcut-help-modal__section',className)},!!title&&(0,external_wp_element_namespaceObject.createElement)("h2",{className:"edit-widgets-keyboard-shortcut-help-modal__section-title"},title),(0,external_wp_element_namespaceObject.createElement)(ShortcutList,{shortcuts:shortcuts}));};const ShortcutCategorySection=_ref3=>{let{title,categoryName,additionalShortcuts=[]}=_ref3;const categoryShortcuts=(0,external_wp_data_namespaceObject.useSelect)(select=>{return select(external_wp_keyboardShortcuts_namespaceObject.store).getCategoryShortcuts(categoryName);},[categoryName]);return(0,external_wp_element_namespaceObject.createElement)(ShortcutSection,{title:title,shortcuts:categoryShortcuts.concat(additionalShortcuts)});};function KeyboardShortcutHelpModal(_ref4){let{isModalActive,toggleModal}=_ref4;(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/edit-widgets/keyboard-shortcuts',toggleModal,{bindGlobal:true});if(!isModalActive){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Modal,{className:"edit-widgets-keyboard-shortcut-help-modal",title:(0,external_wp_i18n_namespaceObject.__)('Keyboard shortcuts'),closeLabel:(0,external_wp_i18n_namespaceObject.__)('Close'),onRequestClose:toggleModal},(0,external_wp_element_namespaceObject.createElement)(ShortcutSection,{className:"edit-widgets-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:['core/edit-widgets/keyboard-shortcuts']}),(0,external_wp_element_namespaceObject.createElement)(ShortcutCategorySection,{title:(0,external_wp_i18n_namespaceObject.__)('Global shortcuts'),categoryName:"global"}),(0,external_wp_element_namespaceObject.createElement)(ShortcutCategorySection,{title:(0,external_wp_i18n_namespaceObject.__)('Selection shortcuts'),categoryName:"selection"}),(0,external_wp_element_namespaceObject.createElement)(ShortcutCategorySection,{title:(0,external_wp_i18n_namespaceObject.__)('Block shortcuts'),categoryName:"block",additionalShortcuts:[{keyCombination:{character:'/'},description:(0,external_wp_i18n_namespaceObject.__)('Change the block type after adding a new paragraph.'),ariaLabel:(0,external_wp_i18n_namespaceObject.__)('Forward-slash')}]}),(0,external_wp_element_namespaceObject.createElement)(ShortcutSection,{title:(0,external_wp_i18n_namespaceObject.__)('Text formatting'),shortcuts:textFormattingShortcuts}));};const{Fill:ToolsMoreMenuGroup,Slot}=(0,external_wp_components_namespaceObject.createSlotFill)('EditWidgetsToolsMoreMenuGroup');ToolsMoreMenuGroup.Slot=_ref=>{let{fillProps}=_ref;return(0,external_wp_element_namespaceObject.createElement)(Slot,{fillProps:fillProps},fills=>!(0,external_lodash_namespaceObject.isEmpty)(fills)&&fills);};var tools_more_menu_group=(ToolsMoreMenuGroup);;function MoreMenu(){const[isKeyboardShortcutsModalActive,setIsKeyboardShortcutsModalVisible]=(0,external_wp_element_namespaceObject.useState)(false);const toggleKeyboardShortcutsModal=()=>setIsKeyboardShortcutsModalVisible(!isKeyboardShortcutsModalActive);(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/edit-widgets/keyboard-shortcuts',toggleKeyboardShortcutsModal);const isLargeViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium');return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(MoreMenuDropdown,null,onClose=>(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,isLargeViewport&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject._x)('View','noun')},(0,external_wp_element_namespaceObject.createElement)(external_wp_preferences_namespaceObject.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"fixedToolbar",label:(0,external_wp_i18n_namespaceObject.__)('Top toolbar'),info:(0,external_wp_i18n_namespaceObject.__)('Access all block and document tools in a single place'),messageActivated:(0,external_wp_i18n_namespaceObject.__)('Top toolbar activated'),messageDeactivated:(0,external_wp_i18n_namespaceObject.__)('Top toolbar deactivated')})),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Tools')},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>{setIsKeyboardShortcutsModalVisible(true);},shortcut:external_wp_keycodes_namespaceObject.displayShortcut.access('h')},(0,external_wp_i18n_namespaceObject.__)('Keyboard shortcuts')),(0,external_wp_element_namespaceObject.createElement)(external_wp_preferences_namespaceObject.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"welcomeGuide",label:(0,external_wp_i18n_namespaceObject.__)('Welcome Guide')}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{role:"menuitem",icon:library_external,href:(0,external_wp_i18n_namespaceObject.__)('https://wordpress.org/support/article/block-based-widgets-editor/'),target:"_blank",rel:"noopener noreferrer"},(0,external_wp_i18n_namespaceObject.__)('Help'),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"span"},(0,external_wp_i18n_namespaceObject.__)('(opens in a new tab)'))),(0,external_wp_element_namespaceObject.createElement)(tools_more_menu_group.Slot,{fillProps:{onClose}})),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Preferences')},(0,external_wp_element_namespaceObject.createElement)(external_wp_preferences_namespaceObject.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"keepCaretInsideBlock",label:(0,external_wp_i18n_namespaceObject.__)('Contain text cursor inside block'),info:(0,external_wp_i18n_namespaceObject.__)('Aids screen readers by stopping text caret from leaving blocks.'),messageActivated:(0,external_wp_i18n_namespaceObject.__)('Contain text cursor inside block activated'),messageDeactivated:(0,external_wp_i18n_namespaceObject.__)('Contain text cursor inside block deactivated')}),(0,external_wp_element_namespaceObject.createElement)(external_wp_preferences_namespaceObject.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"themeStyles",info:(0,external_wp_i18n_namespaceObject.__)('Make the editor look like your theme.'),label:(0,external_wp_i18n_namespaceObject.__)('Use theme styles')}),isLargeViewport&&(0,external_wp_element_namespaceObject.createElement)(external_wp_preferences_namespaceObject.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"showBlockBreadcrumbs",label:(0,external_wp_i18n_namespaceObject.__)('Display block breadcrumbs'),info:(0,external_wp_i18n_namespaceObject.__)('Shows block breadcrumbs at the bottom of the editor.'),messageActivated:(0,external_wp_i18n_namespaceObject.__)('Display block breadcrumbs activated'),messageDeactivated:(0,external_wp_i18n_namespaceObject.__)('Display block breadcrumbs deactivated')})))),(0,external_wp_element_namespaceObject.createElement)(KeyboardShortcutHelpModal,{isModalActive:isKeyboardShortcutsModalActive,toggleModal:toggleKeyboardShortcutsModal}));};function Header(){const isMediumViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium');const inserterButton=(0,external_wp_element_namespaceObject.useRef)();const widgetAreaClientId=use_last_selected_widget_area();const isLastSelectedWidgetAreaOpen=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store_store).getIsWidgetAreaOpen(widgetAreaClientId),[widgetAreaClientId]);const{isInserterOpen,isListViewOpen}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isInserterOpened,isListViewOpened}=select(store_store);return{isInserterOpen:isInserterOpened(),isListViewOpen:isListViewOpened()};},[]);const{setIsWidgetAreaOpen,setIsInserterOpened,setIsListViewOpened}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_blockEditor_namespaceObject.store);const handleClick=()=>{if(isInserterOpen){setIsInserterOpened(false);}else{if(!isLastSelectedWidgetAreaOpen){selectBlock(widgetAreaClientId);setIsWidgetAreaOpen(widgetAreaClientId,true);}
window.requestAnimationFrame(()=>setIsInserterOpened(true));}};const toggleListView=(0,external_wp_element_namespaceObject.useCallback)(()=>setIsListViewOpened(!isListViewOpen),[setIsListViewOpened,isListViewOpen]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-header"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-header__navigable-toolbar-wrapper"},isMediumViewport&&(0,external_wp_element_namespaceObject.createElement)("h1",{className:"edit-widgets-header__title"},(0,external_wp_i18n_namespaceObject.__)('Widgets')),!isMediumViewport&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"h1",className:"edit-widgets-header__title"},(0,external_wp_i18n_namespaceObject.__)('Widgets')),(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.NavigableToolbar,{className:"edit-widgets-header-toolbar","aria-label":(0,external_wp_i18n_namespaceObject.__)('Document tools')},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarItem,{ref:inserterButton,as:external_wp_components_namespaceObject.Button,className:"edit-widgets-header-toolbar__inserter-toggle",variant:"primary",isPressed:isInserterOpen,onMouseDown:event=>{event.preventDefault();},onClick:handleClick,icon:library_plus,label:(0,external_wp_i18n_namespaceObject._x)('Toggle block inserter','Generic label for block inserter button')}),isMediumViewport&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(UndoButton,null),(0,external_wp_element_namespaceObject.createElement)(RedoButton,null),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarItem,{as:external_wp_components_namespaceObject.Button,className:"edit-widgets-header-toolbar__list-view-toggle",icon:list_view,isPressed:isListViewOpen,label:(0,external_wp_i18n_namespaceObject.__)('List View'),onClick:toggleListView})))),(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-header__actions"},(0,external_wp_element_namespaceObject.createElement)(save_button,null),(0,external_wp_element_namespaceObject.createElement)(pinned_items.Slot,{scope:"core/edit-widgets"}),(0,external_wp_element_namespaceObject.createElement)(MoreMenu,null))));}
var header=(Header);;function Notices(){const{removeNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const{notices}=(0,external_wp_data_namespaceObject.useSelect)(select=>{return{notices:select(external_wp_notices_namespaceObject.store).getNotices()};},[]);const dismissibleNotices=(0,external_lodash_namespaceObject.filter)(notices,{isDismissible:true,type:'default'});const nonDismissibleNotices=(0,external_lodash_namespaceObject.filter)(notices,{isDismissible:false,type:'default'});const snackbarNotices=(0,external_lodash_namespaceObject.filter)(notices,{type:'snackbar'});return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.NoticeList,{notices:nonDismissibleNotices,className:"edit-widgets-notices__pinned"}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.NoticeList,{notices:dismissibleNotices,className:"edit-widgets-notices__dismissible",onRemove:removeNotice}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SnackbarList,{notices:snackbarNotices,className:"edit-widgets-notices__snackbar",onRemove:removeNotice}));}
var notices=(Notices);;function WidgetAreasBlockEditorContent(_ref){let{blockEditorSettings}=_ref;const hasThemeStyles=(0,external_wp_data_namespaceObject.useSelect)(select=>!!select(external_wp_preferences_namespaceObject.store).get('core/edit-widgets','themeStyles'),[]);const styles=(0,external_wp_element_namespaceObject.useMemo)(()=>{return hasThemeStyles?blockEditorSettings.styles:[];},[blockEditorSettings,hasThemeStyles]);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-block-editor"},(0,external_wp_element_namespaceObject.createElement)(notices,null),(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockTools,null,(0,external_wp_element_namespaceObject.createElement)(keyboard_shortcuts,null),(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.__unstableEditorStyles,{styles:styles}),(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockSelectionClearer,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.WritingFlow,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.ObserveTyping,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockList,{className:"edit-widgets-main-block-list"}))))));};const close_close=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));var library_close=(close_close);;const useWidgetLibraryInsertionPoint=()=>{const firstRootId=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _widgetAreasPost$bloc;const{getEntityRecord}=select(external_wp_coreData_namespaceObject.store);const widgetAreasPost=getEntityRecord(KIND,POST_TYPE,buildWidgetAreasPostId());return widgetAreasPost===null||widgetAreasPost===void 0?void 0:(_widgetAreasPost$bloc=widgetAreasPost.blocks[0])===null||_widgetAreasPost$bloc===void 0?void 0:_widgetAreasPost$bloc.clientId;},[]);return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockRootClientId,getBlockSelectionEnd,getBlockOrder,getBlockIndex}=select(external_wp_blockEditor_namespaceObject.store);const insertionPoint=select(store_store).__experimentalGetInsertionPoint();if(insertionPoint.rootClientId){return insertionPoint;}
const clientId=getBlockSelectionEnd()||firstRootId;const rootClientId=getBlockRootClientId(clientId);if(clientId&&rootClientId===''){return{rootClientId:clientId,insertionIndex:getBlockOrder(clientId).length};}
return{rootClientId,insertionIndex:getBlockIndex(clientId)+1};},[firstRootId]);};var use_widget_library_insertion_point=(useWidgetLibraryInsertionPoint);;function InserterSidebar(){const isMobileViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');const{rootClientId,insertionIndex}=use_widget_library_insertion_point();const{setIsInserterOpened}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const closeInserter=(0,external_wp_element_namespaceObject.useCallback)(()=>{return setIsInserterOpened(false);},[setIsInserterOpened]);const TagName=!isMobileViewport?external_wp_components_namespaceObject.VisuallyHidden:'div';const[inserterDialogRef,inserterDialogProps]=(0,external_wp_compose_namespaceObject.__experimentalUseDialog)({onClose:closeInserter,focusOnMount:null});const libraryRef=(0,external_wp_element_namespaceObject.useRef)();(0,external_wp_element_namespaceObject.useEffect)(()=>{libraryRef.current.focusSearch();},[]);return(0,external_wp_element_namespaceObject.createElement)("div",_extends({ref:inserterDialogRef},inserterDialogProps,{className:"edit-widgets-layout__inserter-panel"}),(0,external_wp_element_namespaceObject.createElement)(TagName,{className:"edit-widgets-layout__inserter-panel-header"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:library_close,onClick:closeInserter,label:(0,external_wp_i18n_namespaceObject.__)('Close block inserter')})),(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-layout__inserter-panel-content"},(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.__experimentalLibrary,{showInserterHelpPanel:true,shouldFocusBlock:isMobileViewport,rootClientId:rootClientId,__experimentalInsertionIndex:insertionIndex,ref:libraryRef})));};function ListViewSidebar(){const{setIsListViewOpened}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const focusOnMountRef=(0,external_wp_compose_namespaceObject.useFocusOnMount)('firstElement');const headerFocusReturnRef=(0,external_wp_compose_namespaceObject.useFocusReturn)();const contentFocusReturnRef=(0,external_wp_compose_namespaceObject.useFocusReturn)();function closeOnEscape(event){if(event.keyCode===external_wp_keycodes_namespaceObject.ESCAPE&&!event.defaultPrevented){event.preventDefault();setIsListViewOpened(false);}}
const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(ListViewSidebar);const labelId=`edit-widgets-editor__list-view-panel-label-${instanceId}`;return((0,external_wp_element_namespaceObject.createElement)("div",{"aria-labelledby":labelId,className:"edit-widgets-editor__list-view-panel",onKeyDown:closeOnEscape},(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-editor__list-view-panel-header",ref:headerFocusReturnRef},(0,external_wp_element_namespaceObject.createElement)("strong",{id:labelId},(0,external_wp_i18n_namespaceObject.__)('List View')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:close_small,label:(0,external_wp_i18n_namespaceObject.__)('Close List View Sidebar'),onClick:()=>setIsListViewOpened(false)})),(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-editor__list-view-panel-content",ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([contentFocusReturnRef,focusOnMountRef])},(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.__experimentalListView,{showNestedBlocks:true,__experimentalHideContainerBlockActions:true,__experimentalFeatures:true,__experimentalPersistentListViewFeatures:true}))));};function SecondarySidebar(){const{isInserterOpen,isListViewOpen}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isInserterOpened,isListViewOpened}=select(store_store);return{isInserterOpen:isInserterOpened(),isListViewOpen:isListViewOpened()};},[]);if(isInserterOpen){return(0,external_wp_element_namespaceObject.createElement)(InserterSidebar,null);}
if(isListViewOpen){return(0,external_wp_element_namespaceObject.createElement)(ListViewSidebar,null);}
return null;};const interfaceLabels={header:(0,external_wp_i18n_namespaceObject.__)('Widgets top bar'),body:(0,external_wp_i18n_namespaceObject.__)('Widgets and blocks'),sidebar:(0,external_wp_i18n_namespaceObject.__)('Widgets settings'),footer:(0,external_wp_i18n_namespaceObject.__)('Widgets footer')};function Interface(_ref){let{blockEditorSettings}=_ref;const isMobileViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');const isHugeViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('huge','>=');const{setIsInserterOpened,setIsListViewOpened,closeGeneralSidebar}=(0,external_wp_data_namespaceObject.useDispatch)(store_store);const{hasBlockBreadCrumbsEnabled,hasSidebarEnabled,isInserterOpened,isListViewOpened,previousShortcut,nextShortcut}=(0,external_wp_data_namespaceObject.useSelect)(select=>({hasSidebarEnabled:!!select(store).getActiveComplementaryArea(store_store.name),isInserterOpened:!!select(store_store).isInserterOpened(),isListViewOpened:!!select(store_store).isListViewOpened(),hasBlockBreadCrumbsEnabled:!!select(external_wp_preferences_namespaceObject.store).get('core/edit-widgets','showBlockBreadcrumbs'),previousShortcut:select(external_wp_keyboardShortcuts_namespaceObject.store).getAllShortcutKeyCombinations('core/edit-widgets/previous-region'),nextShortcut:select(external_wp_keyboardShortcuts_namespaceObject.store).getAllShortcutKeyCombinations('core/edit-widgets/next-region')}),[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(hasSidebarEnabled&&!isHugeViewport){setIsInserterOpened(false);setIsListViewOpened(false);}},[hasSidebarEnabled,isHugeViewport]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if((isInserterOpened||isListViewOpened)&&!isHugeViewport){closeGeneralSidebar();}},[isInserterOpened,isListViewOpened,isHugeViewport]);const secondarySidebarLabel=isListViewOpened?(0,external_wp_i18n_namespaceObject.__)('List View'):(0,external_wp_i18n_namespaceObject.__)('Block Library');const hasSecondarySidebar=isListViewOpened||isInserterOpened;return(0,external_wp_element_namespaceObject.createElement)(interface_skeleton,{labels:{...interfaceLabels,secondarySidebar:secondarySidebarLabel},header:(0,external_wp_element_namespaceObject.createElement)(header,null),secondarySidebar:hasSecondarySidebar&&(0,external_wp_element_namespaceObject.createElement)(SecondarySidebar,null),sidebar:hasSidebarEnabled&&(0,external_wp_element_namespaceObject.createElement)(complementary_area.Slot,{scope:"core/edit-widgets"}),content:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(WidgetAreasBlockEditorContent,{blockEditorSettings:blockEditorSettings}),(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockStyles.Slot,{scope:"core/block-inspector"})),footer:hasBlockBreadCrumbsEnabled&&!isMobileViewport&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"edit-widgets-layout__footer"},(0,external_wp_element_namespaceObject.createElement)(external_wp_blockEditor_namespaceObject.BlockBreadcrumb,{rootLabelText:(0,external_wp_i18n_namespaceObject.__)('Widgets')})),shortcuts:{previous:previousShortcut,next:nextShortcut}});}
var layout_interface=(Interface);;function UnsavedChangesWarning(){const isDirty=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getEditedWidgetAreas}=select(store_store);const editedWidgetAreas=getEditedWidgetAreas();return(editedWidgetAreas===null||editedWidgetAreas===void 0?void 0:editedWidgetAreas.length)>0;},[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{const warnIfUnsavedChanges=event=>{if(isDirty){event.returnValue=(0,external_wp_i18n_namespaceObject.__)('You have unsaved changes. If you proceed, they will be lost.');return event.returnValue;}};window.addEventListener('beforeunload',warnIfUnsavedChanges);return()=>{window.removeEventListener('beforeunload',warnIfUnsavedChanges);};},[isDirty]);return null;};function WelcomeGuide(){var _widgetAreas$filter$l;const isActive=(0,external_wp_data_namespaceObject.useSelect)(select=>!!select(external_wp_preferences_namespaceObject.store).get('core/edit-widgets','welcomeGuide'),[]);const{toggle}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_preferences_namespaceObject.store);const widgetAreas=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store_store).getWidgetAreas({per_page:-1}),[]);if(!isActive){return null;}
const isEntirelyBlockWidgets=widgetAreas===null||widgetAreas===void 0?void 0:widgetAreas.every(widgetArea=>widgetArea.id==='wp_inactive_widgets'||widgetArea.widgets.every(widgetId=>widgetId.startsWith('block-')));const numWidgetAreas=(_widgetAreas$filter$l=widgetAreas===null||widgetAreas===void 0?void 0:widgetAreas.filter(widgetArea=>widgetArea.id!=='wp_inactive_widgets').length)!==null&&_widgetAreas$filter$l!==void 0?_widgetAreas$filter$l:0;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Guide,{className:"edit-widgets-welcome-guide",contentLabel:(0,external_wp_i18n_namespaceObject.__)('Welcome to block Widgets'),finishButtonText:(0,external_wp_i18n_namespaceObject.__)('Get started'),onFinish:()=>toggle('core/edit-widgets','welcomeGuide'),pages:[{image:(0,external_wp_element_namespaceObject.createElement)(WelcomeGuideImage,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,external_wp_i18n_namespaceObject.__)('Welcome to block Widgets')),isEntirelyBlockWidgets?(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('Your theme provides %s “block” area for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.','Your theme provides %s different “block” areas for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.',numWidgetAreas),numWidgetAreas))):(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,external_wp_i18n_namespaceObject.__)('You can now add any block to your site’s widget areas. Don’t worry, all of your favorite widgets still work flawlessly.')),(0,external_wp_element_namespaceObject.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,external_wp_element_namespaceObject.createElement)("strong",null,(0,external_wp_i18n_namespaceObject.__)('Want to stick with the old widgets?')),' ',(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ExternalLink,{href:(0,external_wp_i18n_namespaceObject.__)('https://wordpress.org/plugins/classic-widgets/')},(0,external_wp_i18n_namespaceObject.__)('Get the Classic Widgets plugin.')))))},{image:(0,external_wp_element_namespaceObject.createElement)(WelcomeGuideImage,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,external_wp_i18n_namespaceObject.__)('Make each block your own')),(0,external_wp_element_namespaceObject.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,external_wp_i18n_namespaceObject.__)('Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.')))},{image:(0,external_wp_element_namespaceObject.createElement)(WelcomeGuideImage,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,external_wp_i18n_namespaceObject.__)('Get to know the block library')),(0,external_wp_element_namespaceObject.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.__)('All of the blocks available to you live in the block library. You’ll find it wherever you see the <InserterIconImage /> icon.'),{InserterIconImage:(0,external_wp_element_namespaceObject.createElement)("img",{className:"edit-widgets-welcome-guide__inserter-icon",alt:(0,external_wp_i18n_namespaceObject.__)('inserter'),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:(0,external_wp_element_namespaceObject.createElement)(WelcomeGuideImage,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,external_wp_i18n_namespaceObject.__)('Learn how to use the block editor')),(0,external_wp_element_namespaceObject.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,external_wp_i18n_namespaceObject.__)('New to the block editor? Want to learn more about using it? '),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ExternalLink,{href:(0,external_wp_i18n_namespaceObject.__)('https://wordpress.org/support/article/wordpress-editor/')},(0,external_wp_i18n_namespaceObject.__)("Here's a detailed guide."))))}]});}
function WelcomeGuideImage(_ref){let{nonAnimatedSrc,animatedSrc}=_ref;return(0,external_wp_element_namespaceObject.createElement)("picture",{className:"edit-widgets-welcome-guide__image"},(0,external_wp_element_namespaceObject.createElement)("source",{srcSet:nonAnimatedSrc,media:"(prefers-reduced-motion: reduce)"}),(0,external_wp_element_namespaceObject.createElement)("img",{src:animatedSrc,width:"312",height:"240",alt:""}));};function Layout(_ref){let{blockEditorSettings,onError}=_ref;const{createErrorNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);function onPluginAreaError(name){createErrorNotice((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('The "%s" plugin has encountered an error and cannot be rendered.'),name));}
return(0,external_wp_element_namespaceObject.createElement)(ErrorBoundary,{onError:onError},(0,external_wp_element_namespaceObject.createElement)(WidgetAreasBlockEditorProvider,{blockEditorSettings:blockEditorSettings},(0,external_wp_element_namespaceObject.createElement)(layout_interface,{blockEditorSettings:blockEditorSettings}),(0,external_wp_element_namespaceObject.createElement)(Sidebar,null),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover.Slot,null),(0,external_wp_element_namespaceObject.createElement)(external_wp_plugins_namespaceObject.PluginArea,{onError:onPluginAreaError}),(0,external_wp_element_namespaceObject.createElement)(UnsavedChangesWarning,null),(0,external_wp_element_namespaceObject.createElement)(WelcomeGuide,null)));}
var layout=(Layout);;const disabledBlocks=['core/more','core/freeform','core/template-part',...(ALLOW_REUSABLE_BLOCKS?[]:['core/block'])];function reinitializeEditor(target,settings){(0,external_wp_element_namespaceObject.unmountComponentAtNode)(target);const reboot=reinitializeEditor.bind(null,target,settings);(0,external_wp_element_namespaceObject.render)((0,external_wp_element_namespaceObject.createElement)(layout,{blockEditorSettings:settings,onError:reboot}),target);}
function initialize(id,settings){const target=document.getElementById(id);const reboot=reinitializeEditor.bind(null,target,settings);const coreBlocks=(0,external_wp_blockLibrary_namespaceObject.__experimentalGetCoreBlocks)().filter(block=>{return!(disabledBlocks.includes(block.name)||block.name.startsWith('core/post')||block.name.startsWith('core/query')||block.name.startsWith('core/site')||block.name.startsWith('core/navigation'));});(0,external_wp_data_namespaceObject.dispatch)(external_wp_preferences_namespaceObject.store).setDefaults('core/edit-widgets',{fixedToolbar:false,welcomeGuide:true,showBlockBreadcrumbs:true,themeStyles:true});(0,external_wp_data_namespaceObject.dispatch)(external_wp_blocks_namespaceObject.store).__experimentalReapplyBlockTypeFilters();(0,external_wp_blockLibrary_namespaceObject.registerCoreBlocks)(coreBlocks);(0,external_wp_widgets_namespaceObject.registerLegacyWidgetBlock)();if(false){}
(0,external_wp_widgets_namespaceObject.registerLegacyWidgetVariations)(settings);registerBlock(widget_area_namespaceObject);(0,external_wp_widgets_namespaceObject.registerWidgetGroupBlock)();settings.__experimentalFetchLinkSuggestions=(search,searchOptions)=>(0,external_wp_coreData_namespaceObject.__experimentalFetchLinkSuggestions)(search,searchOptions,settings);(0,external_wp_blocks_namespaceObject.setFreeformContentHandlerName)('core/html');(0,external_wp_element_namespaceObject.render)((0,external_wp_element_namespaceObject.createElement)(layout,{blockEditorSettings:settings,onError:reboot}),target);}
const registerBlock=block=>{if(!block){return;}
const{metadata,settings,name}=block;if(metadata){(0,external_wp_blocks_namespaceObject.unstable__bootstrapServerSideBlockDefinitions)({[name]:metadata});}
(0,external_wp_blocks_namespaceObject.registerBlockType)(name,settings);};}();(window.wp=window.wp||{}).editWidgets=__webpack_exports__;})();